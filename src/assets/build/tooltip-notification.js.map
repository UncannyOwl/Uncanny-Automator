{"version":3,"file":"tooltip-notification.js","mappings":"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","sources":["webpack://uncanny-automator-assets/external window [\"wp\",\"apiFetch\"]","webpack://uncanny-automator-assets/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://uncanny-automator-assets/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://uncanny-automator-assets/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://uncanny-automator-assets/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://uncanny-automator-assets/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://uncanny-automator-assets/webpack/bootstrap","webpack://uncanny-automator-assets/webpack/runtime/compat get default export","webpack://uncanny-automator-assets/webpack/runtime/define property getters","webpack://uncanny-automator-assets/webpack/runtime/hasOwnProperty shorthand","webpack://uncanny-automator-assets/./src/standalone/tooltip-notification/index.js"],"sourcesContent":["module.exports = window[\"wp\"][\"apiFetch\"];","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _classCallCheck as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import './style.scss';\nimport apiFetch from '@wordpress/api-fetch';\n\n// Deconstructing the configuration object for easier access to its properties\nconst { rest } = UncannyAutomatorTooltipNotification;\n\n// Add the nonce as middleware. This automatically adds the `X-WP-Nonce` header to requests.\napiFetch.use( apiFetch.createNonceMiddleware( rest.nonce ) );\n\n/**\n * TooltipNotification class to handle tooltip behavior.\n */\nclass TooltipNotification {\n\t/**\n\t * Constructor initializes tooltip notifications.\n\t */\n\tconstructor() {\n\t\tthis.tooltips = document.querySelectorAll( '.uap-tooltip-notification' );\n\t\tthis.initializeTooltips();\n\t}\n\n\t/**\n\t * Initializes all tooltips on the page.\n\t */\n\tinitializeTooltips() {\n\t\tthis.tooltips.forEach( tooltipElement => {\n\t\t\tthis.initializeTooltip( tooltipElement );\n\t\t} );\n\t}\n\n\t/**\n\t * Initializes a single tooltip's functionality.\n\t *\n\t * @param {HTMLElement} tooltipElement - The tooltip element to initialize.\n\t */\n\tinitializeTooltip( tooltipElement ) {\n\t\tconst closeButton = tooltipElement.querySelector( '.uap-tooltip-notification__close' );\n\n\t\t// Position the tooltip correctly in the DOM\n\t\tthis.positionTooltip( tooltipElement );\n\n\t\t// Show the tooltip\n\t\tthis.showTooltip( tooltipElement );\n\n\t\t// Handle close button click\n\t\tcloseButton.addEventListener( 'click', ( e ) => {\n\t\t\te.preventDefault();\n\n\t\t\tthis.hideTooltip( tooltipElement, tooltipElement.dataset.id );\n\t\t} );\n\t}\n\n\t/**\n\t * Shows the tooltip.\n\t *\n\t * @param {HTMLElement} tooltipElement - The tooltip element to show.\n\t */\n\tshowTooltip( tooltipElement ) {\n\t\ttooltipElement.classList.remove( 'uap-tooltip-notification--hidden' );\n\t}\n\n\t/**\n\t * Hides the tooltip and sends an AJAX request to mark it as hidden.\n\t *\n\t * @param {HTMLElement} tooltipElement - The tooltip element to hide.\n\t * @param {String} tooltipId - The ID of the tooltip.\n\t */\n\thideTooltip( tooltipElement, tooltipId ) {\n\t\ttooltipElement.classList.add( 'uap-tooltip-notification--hidden' );\n\n\t\t// Send API request to mark the tooltip as hidden\n\t\tapiFetch( {\n\t\t\turl: `${ rest.url }/tooltip-notification/tooltip_id/${ tooltipId }/tooltip_action/hide/`,\n\t\t\tmethod: 'POST',\n\t\t} )\n\t\t\t.then( response => console.log( response ) )\n\t\t\t.catch( error => console.warn( error ) );\n\t}\n\n\t/**\n\t * Positions the tooltip correctly in the DOM based on the provided selector and position.\n\t *\n\t * @param {HTMLElement} tooltipElement - The tooltip element to position.\n\t */\n\tpositionTooltip( tooltipElement ) {\n\t\tconst targetElement = document.querySelector( tooltipElement.dataset.target );\n\n\t\tif ( targetElement ) {\n\t\t\ttargetElement.insertAdjacentElement( tooltipElement.dataset.position, tooltipElement );\n\n\t\t\t// Calculate top position\n\t\t\tlet topPosition = targetElement.offsetHeight / 2 - tooltipElement.offsetHeight / 2;\n\n\t\t\t// Adjust top position only if the tooltip is placed before or after the target element\n\t\t\tif ( [ 'beforebegin', 'afterend' ].includes( tooltipElement.dataset.position ) ) {\n\t\t\t\ttopPosition += targetElement.offsetTop;\n\t\t\t}\n\n\t\t\ttooltipElement.style.top = `${ topPosition }px`;\n\t\t}\n\t}\n}\n\n// Initialize tooltip notifications on DOMContentLoaded\ndocument.addEventListener( 'DOMContentLoaded', () => {\n\tnew TooltipNotification();\n} );"],"names":["module","exports","window","_classCallCheck","a","n","TypeError","toPropertyKey","t","i","_typeof","o","Symbol","iterator","constructor","prototype","toPrimitive","r","e","call","String","Number","_defineProperties","length","enumerable","configurable","writable","Object","defineProperty","key","_createClass","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","__esModule","d","definition","get","obj","prop","hasOwnProperty","rest","UncannyAutomatorTooltipNotification","apiFetch","nonce","TooltipNotification","this","tooltips","document","querySelectorAll","initializeTooltips","value","_this","forEach","tooltipElement","initializeTooltip","_this2","closeButton","querySelector","positionTooltip","showTooltip","addEventListener","preventDefault","hideTooltip","dataset","id","classList","remove","tooltipId","add","url","concat","method","then","response","console","log","error","warn","targetElement","target","insertAdjacentElement","position","topPosition","offsetHeight","includes","offsetTop","style","top"],"sourceRoot":""}