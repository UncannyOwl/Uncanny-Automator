/*! For license information please see bundle.min.js.LICENSE.txt */
(()=>{var __webpack_modules__={9622:(t,e,n)=>{"use strict";var i,o,r,a,s;n.d(e,{s:()=>vt,Q:()=>bt}),n(7604),console.error,i=i||{},o={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},r=["(","?"],a={")":["("],":":["?","?:"]},s=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;var u={"!":function(t){return!t},"*":function(t,e){return t*e},"/":function(t,e){return t/e},"%":function(t,e){return t%e},"+":function(t,e){return t+e},"-":function(t,e){return t-e},"<":function(t,e){return t<e},"<=":function(t,e){return t<=e},">":function(t,e){return t>e},">=":function(t,e){return t>=e},"==":function(t,e){return t===e},"!=":function(t,e){return t!==e},"&&":function(t,e){return t&&e},"||":function(t,e){return t||e},"?:":function(t,e,n){if(t)throw e;return n}};var c={contextDelimiter:"",onMissingKey:null};function l(t,e){var n;for(n in this.data=t,this.pluralForms={},this.options={},c)this.options[n]=void 0!==e&&n in e?e[n]:c[n]}l.prototype.getPluralForm=function(t,e){var n,i,c,l,d=this.pluralForms[t];return d||("function"!=typeof(c=(n=this.data[t][""])["Plural-Forms"]||n["plural-forms"]||n.plural_forms)&&(i=function(t){var e,n,i;for(e=t.split(";"),n=0;n<e.length;n++)if(0===(i=e[n].trim()).indexOf("plural="))return i.substr(7)}(n["Plural-Forms"]||n["plural-forms"]||n.plural_forms),l=function(t){var e=function(t){for(var e,n,i,u,c=[],l=[];e=t.match(s);){for(n=e[0],(i=t.substr(0,e.index).trim())&&c.push(i);u=l.pop();){if(a[n]){if(a[n][0]===u){n=a[n][1]||n;break}}else if(r.indexOf(u)>=0||o[u]<o[n]){l.push(u);break}c.push(u)}a[n]||l.push(n),t=t.substr(e.index+n.length)}return(t=t.trim())&&c.push(t),c.concat(l.reverse())}(t);return function(t){return function(t,e){var n,i,o,r,a,s,c=[];for(n=0;n<t.length;n++){if(a=t[n],r=u[a]){for(i=r.length,o=Array(i);i--;)o[i]=c.pop();try{s=r.apply(null,o)}catch(t){return t}}else s=e.hasOwnProperty(a)?e[a]:+a;c.push(s)}return c[0]}(e,t)}}(i),c=function(t){return+l({n:t})}),d=this.pluralForms[t]=c),d(e)},l.prototype.dcnpgettext=function(t,e,n,i,o){var r,a,s;return r=void 0===o?0:this.getPluralForm(t,o),a=n,e&&(a=e+this.options.contextDelimiter+n),(s=this.data[t][a])&&s[r]?s[r]:(this.options.onMissingKey&&this.options.onMissingKey(n,t),0===r?n:i)};const d={plural_forms:t=>1===t?0:1},p=/^i18n\.(n?gettext|has_translation)(_|$)/,f=function(t){return"string"!=typeof t||""===t?(console.error("The namespace must be a non-empty string."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.\-\/]*$/.test(t)||(console.error("The namespace can only contain numbers, letters, dashes, periods, underscores and slashes."),!1)},h=function(t){return"string"!=typeof t||""===t?(console.error("The hook name must be a non-empty string."),!1):/^__/.test(t)?(console.error("The hook name cannot begin with `__`."),!1):!!/^[a-zA-Z][a-zA-Z0-9_.-]*$/.test(t)||(console.error("The hook name can only contain numbers, letters, dashes, periods and underscores."),!1)},m=function(t,e){return function(n,i,o,r=10){const a=t[e];if(!h(n))return;if(!f(i))return;if("function"!=typeof o)return void console.error("The hook callback must be a function.");if("number"!=typeof r)return void console.error("If specified, the hook priority must be a number.");const s={callback:o,priority:r,namespace:i};if(a[n]){const t=a[n].handlers;let e;for(e=t.length;e>0&&!(r>=t[e-1].priority);e--);e===t.length?t[e]=s:t.splice(e,0,s),a.__current.forEach((t=>{t.name===n&&t.currentIndex>=e&&t.currentIndex++}))}else a[n]={handlers:[s],runs:0};"hookAdded"!==n&&t.doAction("hookAdded",n,i,o,r)}},y=function(t,e,n=!1){return function(i,o){const r=t[e];if(!h(i))return;if(!n&&!f(o))return;if(!r[i])return 0;let a=0;if(n)a=r[i].handlers.length,r[i]={runs:r[i].runs,handlers:[]};else{const t=r[i].handlers;for(let e=t.length-1;e>=0;e--)t[e].namespace===o&&(t.splice(e,1),a++,r.__current.forEach((t=>{t.name===i&&t.currentIndex>=e&&t.currentIndex--})))}return"hookRemoved"!==i&&t.doAction("hookRemoved",i,o),a}},g=function(t,e){return function(n,i){const o=t[e];return void 0!==i?n in o&&o[n].handlers.some((t=>t.namespace===i)):n in o}},_=function(t,e,n=!1){return function(i,...o){const r=t[e];r[i]||(r[i]={handlers:[],runs:0}),r[i].runs++;const a=r[i].handlers;if(!a||!a.length)return n?o[0]:void 0;const s={name:i,currentIndex:0};for(r.__current.push(s);s.currentIndex<a.length;){const t=a[s.currentIndex].callback.apply(null,o);n&&(o[0]=t),s.currentIndex++}return r.__current.pop(),n?o[0]:void 0}},v=function(t,e){return function(){var n;const i=t[e];return null!==(n=i.__current[i.__current.length-1]?.name)&&void 0!==n?n:null}},b=function(t,e){return function(n){const i=t[e];return void 0===n?void 0!==i.__current[0]:!!i.__current[0]&&n===i.__current[0].name}},w=function(t,e){return function(n){const i=t[e];if(h(n))return i[n]&&i[n].runs?i[n].runs:0}};class A{constructor(){this.actions=Object.create(null),this.actions.__current=[],this.filters=Object.create(null),this.filters.__current=[],this.addAction=m(this,"actions"),this.addFilter=m(this,"filters"),this.removeAction=y(this,"actions"),this.removeFilter=y(this,"filters"),this.hasAction=g(this,"actions"),this.hasFilter=g(this,"filters"),this.removeAllActions=y(this,"actions",!0),this.removeAllFilters=y(this,"filters",!0),this.doAction=_(this,"actions"),this.applyFilters=_(this,"filters",!0),this.currentAction=v(this,"actions"),this.currentFilter=v(this,"filters"),this.doingAction=b(this,"actions"),this.doingFilter=b(this,"filters"),this.didAction=w(this,"actions"),this.didFilter=w(this,"filters")}}const k=new A,{addAction:T,addFilter:E,removeAction:D,removeFilter:M,hasAction:C,hasFilter:x,removeAllActions:L,removeAllFilters:S,doAction:I,applyFilters:O,currentAction:j,currentFilter:U,doingAction:P,doingFilter:H,didAction:F,didFilter:$,actions:R,filters:q}=k,V=((t,e,n)=>{const i=new l({}),o=new Set,r=()=>{o.forEach((t=>t()))},a=(t,e="default")=>{i.data[e]={...i.data[e],...t},i.data[e][""]={...d,...i.data[e]?.[""]},delete i.pluralForms[e]},s=(t,e)=>{a(t,e),r()},u=(t="default",e,n,o,r)=>(i.data[t]||a(void 0,t),i.dcnpgettext(t,e,n,o,r)),c=(t="default")=>t,f=(t,e,i)=>{let o=u(i,e,t);return n?(o=n.applyFilters("i18n.gettext_with_context",o,t,e,i),n.applyFilters("i18n.gettext_with_context_"+c(i),o,t,e,i)):o};if(n){const t=t=>{p.test(t)&&r()};n.addAction("hookAdded","core/i18n",t),n.addAction("hookRemoved","core/i18n",t)}return{getLocaleData:(t="default")=>i.data[t],setLocaleData:s,addLocaleData:(t,e="default")=>{i.data[e]={...i.data[e],...t,"":{...d,...i.data[e]?.[""],...t?.[""]}},delete i.pluralForms[e],r()},resetLocaleData:(t,e)=>{i.data={},i.pluralForms={},s(t,e)},subscribe:t=>(o.add(t),()=>o.delete(t)),__:(t,e)=>{let i=u(e,void 0,t);return n?(i=n.applyFilters("i18n.gettext",i,t,e),n.applyFilters("i18n.gettext_"+c(e),i,t,e)):i},_x:f,_n:(t,e,i,o)=>{let r=u(o,void 0,t,e,i);return n?(r=n.applyFilters("i18n.ngettext",r,t,e,i,o),n.applyFilters("i18n.ngettext_"+c(o),r,t,e,i,o)):r},_nx:(t,e,i,o,r)=>{let a=u(r,o,t,e,i);return n?(a=n.applyFilters("i18n.ngettext_with_context",a,t,e,i,o,r),n.applyFilters("i18n.ngettext_with_context_"+c(r),a,t,e,i,o,r)):a},isRTL:()=>"rtl"===f("ltr","text direction"),hasTranslation:(t,e,o)=>{const r=e?e+""+t:t;let a=!!i.data?.[null!=o?o:"default"]?.[r];return n&&(a=n.applyFilters("i18n.has_translation",a,t,e,o),a=n.applyFilters("i18n.has_translation_"+c(o),a,t,e,o)),a}}})(0,0,k),N=(V.getLocaleData.bind(V),V.setLocaleData.bind(V),V.resetLocaleData.bind(V),V.subscribe.bind(V),V.__.bind(V));V._x.bind(V),V._n.bind(V),V._nx.bind(V),V.isRTL.bind(V),V.hasTranslation.bind(V);const W=(t,e)=>{let n,i,o=t.path;return"string"==typeof t.namespace&&"string"==typeof t.endpoint&&(n=t.namespace.replace(/^\/|\/$/g,""),i=t.endpoint.replace(/^\//,""),o=i?n+"/"+i:n),delete t.namespace,delete t.endpoint,e({...t,path:o})};function B(t){const e=t.split("?"),n=e[1],i=e[0];return n?i+"?"+n.split("&").map((t=>t.split("="))).map((t=>t.map(decodeURIComponent))).sort(((t,e)=>t[0].localeCompare(e[0]))).map((t=>t.map(encodeURIComponent))).map((t=>t.join("="))).join("&"):i}function z(t){try{return decodeURIComponent(t)}catch(e){return t}}function G(t){return(function(t){let e;try{e=new URL(t,"http://example.com").search.substring(1)}catch(t){}if(e)return e}(t)||"").replace(/\+/g,"%20").split("&").reduce(((t,e)=>{const[n,i=""]=e.split("=").filter(Boolean).map(z);return n&&function(t,e,n){const i=e.length,o=i-1;for(let r=0;r<i;r++){let i=e[r];!i&&Array.isArray(t)&&(i=t.length.toString()),i=["__proto__","constructor","prototype"].includes(i)?i.toUpperCase():i;const a=!isNaN(Number(e[r+1]));t[i]=r===o?n:t[i]||(a?[]:{}),Array.isArray(t[i])&&!a&&(t[i]={...t[i]}),t=t[i]}}(t,n.replace(/\]/g,"").split("["),i),t}),Object.create(null))}function Y(t){let e="";const n=Object.entries(t);let i;for(;i=n.shift();){let[t,o]=i;if(Array.isArray(o)||o&&o.constructor===Object){const e=Object.entries(o).reverse();for(const[i,o]of e)n.unshift([`${t}[${i}]`,o])}else void 0!==o&&(null===o&&(o=""),e+="&"+[t,o].map(encodeURIComponent).join("="))}return e.substr(1)}function K(t="",e){if(!e||!Object.keys(e).length)return t;let n=t;const i=t.indexOf("?");return-1!==i&&(e=Object.assign(G(t),e),n=n.substr(0,i)),n+"?"+Y(e)}function Z(t,e){return Promise.resolve(e?t.body:new window.Response(JSON.stringify(t.body),{status:200,statusText:"OK",headers:t.headers}))}const X=({path:t,url:e,...n},i)=>({...n,url:e&&K(e,i),path:t&&K(t,i)}),J=t=>t.json?t.json():Promise.reject(t),Q=t=>{const{next:e}=(t=>{if(!t)return{};const e=t.match(/<([^>]+)>; rel="next"/);return e?{next:e[1]}:{}})(t.headers.get("link"));return e},tt=async(t,e)=>{if(!1===t.parse)return e(t);if(!(t=>{const e=!!t.path&&-1!==t.path.indexOf("per_page=-1"),n=!!t.url&&-1!==t.url.indexOf("per_page=-1");return e||n})(t))return e(t);const n=await ht({...X(t,{per_page:100}),parse:!1}),i=await J(n);if(!Array.isArray(i))return i;let o=Q(n);if(!o)return i;let r=[].concat(i);for(;o;){const e=await ht({...t,path:void 0,url:o,parse:!1}),n=await J(e);r=r.concat(n),o=Q(e)}return r},et=new Set(["PATCH","PUT","DELETE"]),nt="GET";function it(t,e){return G(t)[e]}function ot(t,e){return void 0!==it(t,e)}const rt=(t,e=!0)=>Promise.resolve(((t,e=!0)=>e?204===t.status?null:t.json?t.json():Promise.reject(t):t)(t,e)).catch((t=>at(t,e)));function at(t,e=!0){if(!e)throw t;return(t=>{const e={code:"invalid_json",message:N("The response is not a valid JSON response.")};if(!t||!t.json)throw e;return t.json().catch((()=>{throw e}))})(t).then((t=>{const e={code:"unknown_error",message:N("An unknown error occurred.")};throw t||e}))}function st(t,...e){const n=t.indexOf("?");if(-1===n)return t;const i=G(t),o=t.substr(0,n);e.forEach((t=>delete i[t]));const r=Y(i);return r?o+"?"+r:o}const ut={Accept:"application/json, */*;q=0.1"},ct={credentials:"include"},lt=[(t,e)=>("string"!=typeof t.url||ot(t.url,"_locale")||(t.url=K(t.url,{_locale:"user"})),"string"!=typeof t.path||ot(t.path,"_locale")||(t.path=K(t.path,{_locale:"user"})),e(t)),W,(t,e)=>{const{method:n=nt}=t;return et.has(n.toUpperCase())&&(t={...t,headers:{...t.headers,"X-HTTP-Method-Override":n,"Content-Type":"application/json"},method:"POST"}),e(t)},tt],dt=t=>{if(t.status>=200&&t.status<300)return t;throw t};let pt=t=>{const{url:e,path:n,data:i,parse:o=!0,...r}=t;let{body:a,headers:s}=t;return s={...ut,...s},i&&(a=JSON.stringify(i),s["Content-Type"]="application/json"),window.fetch(e||n||window.location.href,{...ct,...r,body:a,headers:s}).then((t=>Promise.resolve(t).then(dt).catch((t=>at(t,o))).then((t=>rt(t,o)))),(t=>{if(t&&"AbortError"===t.name)throw t;throw{code:"fetch_error",message:N("You are probably offline.")}}))};function ft(t){return lt.reduceRight(((t,e)=>n=>e(n,t)),pt)(t).catch((e=>"rest_cookie_invalid_nonce"!==e.code?Promise.reject(e):window.fetch(ft.nonceEndpoint).then(dt).then((t=>t.text())).then((e=>(ft.nonceMiddleware.nonce=e,ft(t))))))}ft.use=function(t){lt.unshift(t)},ft.setFetchHandler=function(t){pt=t},ft.createNonceMiddleware=function(t){const e=(t,n)=>{const{headers:i={}}=t;for(const o in i)if("x-wp-nonce"===o.toLowerCase()&&i[o]===e.nonce)return n(t);return n({...t,headers:{...i,"X-WP-Nonce":e.nonce}})};return e.nonce=t,e},ft.createPreloadingMiddleware=function(t){const e=Object.fromEntries(Object.entries(t).map((([t,e])=>[B(t),e])));return(t,n)=>{const{parse:i=!0}=t;let o=t.path;if(!o&&t.url){const{rest_route:e,...n}=G(t.url);"string"==typeof e&&(o=K(e,n))}if("string"!=typeof o)return n(t);const r=t.method||"GET",a=B(o);if("GET"===r&&e[a]){const t=e[a];return delete e[a],Z(t,!!i)}if("OPTIONS"===r&&e[r]&&e[r][a]){const t=e[r][a];return delete e[r][a],Z(t,!!i)}return n(t)}},ft.createRootURLMiddleware=t=>(e,n)=>W(e,(e=>{let i,o=e.url,r=e.path;return"string"==typeof r&&(i=t,-1!==t.indexOf("?")&&(r=r.replace("?","&")),r=r.replace(/^\//,""),"string"==typeof i&&-1!==i.indexOf("?")&&(r=r.replace("?","&")),o=i+r),n({...e,url:o})})),ft.fetchAllMiddleware=tt,ft.mediaUploadMiddleware=(t,e)=>{if(!function(t){const e=!!t.method&&"POST"===t.method;return(!!t.path&&-1!==t.path.indexOf("/wp/v2/media")||!!t.url&&-1!==t.url.indexOf("/wp/v2/media"))&&e}(t))return e(t);let n=0;const i=t=>(n++,e({path:`/wp/v2/media/${t}/post-process`,method:"POST",data:{action:"create-image-subsizes"},parse:!1}).catch((()=>n<5?i(t):(e({path:`/wp/v2/media/${t}?force=true`,method:"DELETE"}),Promise.reject()))));return e({...t,parse:!1}).catch((e=>{const n=e.headers.get("x-wp-upload-attachment-id");return e.status>=500&&e.status<600&&n?i(n).catch((()=>!1!==t.parse?Promise.reject({code:"post_process",message:N("Media upload failed. If this is a photo or a large image, please scale it down and try again.")}):Promise.reject(e))):at(e,t.parse)})).then((e=>rt(e,t.parse)))},ft.createThemePreviewMiddleware=t=>(e,n)=>{if("string"==typeof e.url){const n=it(e.url,"wp_theme_preview");void 0===n?e.url=K(e.url,{wp_theme_preview:t}):""===n&&(e.url=st(e.url,"wp_theme_preview"))}if("string"==typeof e.path){const n=it(e.path,"wp_theme_preview");void 0===n?e.path=K(e.path,{wp_theme_preview:t}):""===n&&(e.path=st(e.path,"wp_theme_preview"))}return n(e)};const ht=ft;var mt=n(8514),yt=_uo.utility,gt=yt.createSnackbar,_t=yt.isEmpty;ht.use(ht.createNonceMiddleware(UncannyAutomator._site.rest.nonce));const vt=function(t){var e,n=t.eventName,i=t.endpoint,o=t.method,r=void 0===o?"GET":o,a=t.data,s=void 0===a?{}:a,u=t.snackbar,c=void 0===u?{loading:"",success:""}:u;return!_t(c.loading)&&!_t(c.success)&&(e=gt({message:c.loading,iconID:"spinner-third",iconAnimation:"spin"})),ht({url:"".concat(UncannyAutomator._site.rest.url,"/").concat(i),method:r,data:s}).then((function(t){return _t(e)||(e.remove(),e=gt({message:c.success,iconID:"check",duration:3e3})),t})).then((function(t){return _t(t._integrations)||(UncannyAutomator._integrations=JSON.parse(t._integrations),document.dispatchEvent(new Event("uap-builder-integrations-data-change"))),_t(t._recipe)||(UncannyAutomator._recipe=JSON.parse(t._recipe)),_t(t.recipes_object)||(0,mt.Ny)("create",{allRecipes:t.recipes_object}),_t(t._recipe)||document.dispatchEvent(new CustomEvent("uap-builder-recipe-data-change",{detail:{eventName:n}})),t})).catch((function(t){_t(e)||e.remove(),_t(t.data)||(404===t.data.error_code?console.log("Found an error 404"):500===t.data.error_code&&console.log("Found an error 500")),console.error(t)}))},bt=function(t){if(!_uo.utility.isEmpty(t))return _uo.utility.createSnackbar({message:t,color:"error",iconID:"times-circle-solid",duration:5e3})}},3773:(t,e,n)=>{"use strict";n.d(e,{A:()=>s});var i=n(3029),o=n(2901),r=n(1669),a=n.n(r),s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.A)(this,t),this.elements={container:null,automatorContainer:null,modal:{container:null,box:{container:null,title:null,warning:null,buttons:{container:null,cancel:null,confirm:null}}}},this.elements.container=a()("body"),this.isVisible=!1,this.config=a().extend(!0,{fadeDuration:150,size:"medium",warningFirst:!1,customClass:"",allowContentOverflow:!1},n),this.content=a().extend({},{buttons:{cancel:_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator"))}},e),this.create(),this}return(0,o.A)(t,[{key:"create",value:function(){var t,e,n=a()("<div/>",{class:"uap"}),i=a()("<div/>",{class:"modal"}),o=a()("<div/>",{class:"modal__box"});if(_uo.utility.isDefined(this.config.size)&&["small","medium","large","extra-large","xx-large"].includes(this.config.size)&&i.addClass("modal--".concat(this.config.size)),this.config.allowContentOverflow&&i.addClass("modal--allow-content-overflow"),_uo.utility.isDefined(this.config.customClass)&&i.addClass("modal--".concat(this.config.customClass)),this.elements.automatorContainer=n,this.elements.modal.container=i,this.elements.modal.box.container=o,_uo.utility.isDefined(this.content.title)){var r=a()("<div/>",{class:"modal__title"}).html(this.content.title);o.append(r),this.elements.modal.box.title=r}if(_uo.utility.isDefined(this.content.content)){t=a()("<div/>",{class:"modal__content"});try{t.append(this.content.content)}catch(e){t.html(this.content.content)}o.append(t),this.elements.modal.box.content=t}_uo.utility.isDefined(this.content.warning)&&(e=a()("<div/>",{class:"modal__warning"}).html(this.content.warning),this.elements.modal.box.warning=e),_uo.utility.isDefined(this.config.warningFirst)&&this.config.warningFirst?(_uo.utility.isDefined(this.content.warning)&&o.append(e),_uo.utility.isDefined(this.content.content)&&o.append(t)):(_uo.utility.isDefined(this.content.content)&&o.append(t),_uo.utility.isDefined(this.content.warning)&&o.append(e));var s=a()("<div/>",{class:"modal__buttons"}),u=a()("<button/>",{class:"uap-btn uap-btn--secondary"}).html(this.content.buttons.cancel);if(s.append(u),this.elements.modal.box.buttons.container=s,this.elements.modal.box.buttons.cancel=u,_uo.utility.isDefined(this.content.buttons.confirm)){var c=a()("<button/>",{class:"uap-btn uap-btn--primary"}).html(this.content.buttons.confirm);s.append(c),this.elements.modal.box.buttons.confirm=c}o.append(s),i.append(o),n.append(i),this.elements.container.append(n),a()("html").addClass("automator-modal-open"),this.bind()}},{key:"setEvents",value:function(t){var e=this;this.events={afterSetEvents:_uo.utility.isDefined(t.afterSetEvents)?t.afterSetEvents:function(){},afterShow:_uo.utility.isDefined(t.afterShow)?t.afterShow:function(){},afterHide:_uo.utility.isDefined(t.afterHide)?t.afterHide:function(){},onConfirm:_uo.utility.isDefined(t.onConfirm)?t.onConfirm:function(){},onCancel:_uo.utility.isDefined(t.onCancel)?t.onCancel:function(){}},_uo.utility.isDefined(t.onCancel)||(this.events.onCancel=function(){e.hide()}),this.events.afterSetEvents()}},{key:"destroy",value:function(){var t=this;this.unbind(),this.isVisible?this.hide((function(){t.elements.automatorContainer.remove()})):t.elements.automatorContainer.remove(),a()("html").removeClass("automator-modal-open")}},{key:"bind",value:function(){var t=this;_uo.utility.isDefined(this.elements.modal.box.buttons.cancel)&&this.elements.modal.box.buttons.cancel.on("click",(function(){t.events.onCancel()})),_uo.utility.isDefined(this.elements.modal.box.buttons.confirm)&&this.elements.modal.box.buttons.confirm.on("click",(function(){t.events.onConfirm()}))}},{key:"unbind",value:function(){_uo.utility.isDefined(this.elements.modal.box.buttons.cancel)&&this.elements.modal.box.buttons.cancel.unbind("click"),_uo.utility.isDefined(this.elements.modal.box.buttons.confirm)&&this.elements.modal.box.buttons.confirm.unbind("click")}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=function(){};_uo.utility.isDefined(t)?e=t:_uo.utility.isDefined(this.events.afterShow)&&(e=this.events.afterShow),t=e,this.isVisible=!0,this.elements.modal.container.fadeIn(this.config.fadeDuration,t)}},{key:"hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t=_uo.utility.isDefined(t)?t:this.events.afterHide,this.isVisible=!1,this.elements.modal.container.fadeOut(this.config.fadeDuration,t),a()("html").removeClass("automator-modal-open")}},{key:"getElements",value:function(){return this.elements}}]),t}()},8514:(t,e,n)=>{"use strict";n.d(e,{WE:()=>N,Ny:()=>j,sV:()=>O,k_:()=>$,G6:()=>Y,VI:()=>B,Bf:()=>z,Eq:()=>F,Iv:()=>W,$q:()=>J,RV:()=>Z,Bd:()=>tt,OY:()=>U,V3:()=>Q,nG:()=>K,Gj:()=>G,g$:()=>X,zA:()=>V,wZ:()=>H,uK:()=>R});var i=n(296),o=n(1669),r=n.n(o),a=n(5458);const s=function(){var t;!((t=Object.values(UncannyAutomator.recipe.items)).length<2||(0,a.A)(new Set(t.map((function(t){return t.integrationCode})))).length>=t.length)&&Object.keys(UncannyAutomator.recipe.items).forEach((function(t){UncannyAutomator.recipe.items[t].shouldShowItemId=!0}))};var u=n(127),c=n(4467),l=n(3029),d=n(2901),p=n(7079);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){(0,c.A)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m=n(8988);const y=function(){function t(e){(0,l.A)(this,t),this.setAttributes(e),this.createFields()}return(0,d.A)(t,[{key:"setAttributes",value:function(t){_uo.utility.isDefined(t.hasLabel)||(_uo.utility.isEmpty(t.label)?t.hasLabel=!1:t.hasLabel=!0),_uo.utility.isDefined(t.hasDescription)||(_uo.utility.isEmpty(t.description)?t.hasDescription=!1:t.hasDescription=!0),_uo.utility.isEmpty(t.tokenName)&&(t.tokenName=t.label),_uo.utility.isDefined(t.canSortRows)||(t.canSortRows=!0),_uo.utility.isDefined(t.layout)||(t.layout="default"),_uo.utility.isDefined(t.hide_header)||(t.hide_header=!1),this.attributes=t}},{key:"createFields",value:function(){var t=this,e=this.attributes.fields,n=[];if(Array.isArray(this.attributes.currentValue)&&this.attributes.currentValue.length>0)this.attributes.currentValue.forEach((function(o){var r=JSON.parse(JSON.stringify(e));r=_uo.utility.isDefined(t.attributes.ajax)&&_uo.utility.isEmpty(e)?Object.entries(o).filter((function(t){return!(0,i.A)(t,1)[0].endsWith("_readable")})).map((function(e){var n=(0,i.A)(e,2);return{fieldType:"text",optionCode:n[0],currentValue:n[1],itemId:t.attributes.itemId,isReadOnly:!0}})):r.map((function(t){return _uo.utility.isDefined(o[t.optionCode])?(t.currentValue=o[t.optionCode],tt(t.currentValue)&&_uo.utility.isDefined(o["".concat(t.optionCode,"_custom")])&&(t.customValue=o["".concat(t.optionCode,"_custom")])):t.currentValue="",t})),n.push(r)}));else if(this.attributes.isRequired){var o=JSON.parse(JSON.stringify(e));o.currentValue="",n.push(o)}n=n.map((function(e,n){return e.map((function(e){e.description="",e.itemId=t.attributes.itemId,e.parentID=t.attributes.parentID,"text"===e.fieldType&&Array.isArray(e.currentValue)&&(e.fieldType="select");var i=new u.A(e.fieldType,h(h({},e),{repeaterOptionCode:t.attributes.optionCode,repeaterRowIndex:n,itemType:t.attributes.itemType,itemId:t.attributes.itemId}));return i.isMappingColumn=_uo.utility.isDefined(t.attributes.ajax)&&_uo.utility.isDefined(t.attributes.ajax.mappingColumn)&&i.getFieldID()===t.attributes.ajax.mappingColumn,i}))})),this.fieldRows=n}},{key:"createFormElement",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=r()('<div class="form-repeater"></div>');if(this.attributes.hasLabel){var i=r()('\n\t\t\t\t<div class="form-repeater__label">\n\t\t\t\t\t'.concat(this.attributes.label,"\n\t\t\t\t\t").concat(this.attributes.isRequired?'<span class="form-repeater__label-required"></span>':"","\n\t\t\t\t</div>\n\t\t\t"));_uo.utility.isDefined(this.attributes.ajax)&&_uo.utility.isDefined(this.attributes.ajax.event)&&["parent_fields_change","on_load"].includes(this.attributes.ajax.event)&&i.get(0).insertAdjacentHTML("beforeEnd",'\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\tcolor="secondary"\n\t\t\t\t\t\tsize="extra-small"\n\t\t\t\t\t\tclass="form-element-ajax-refresh-btn"\n\t\t\t\t\t>\n\t\t\t\t\t\t<uo-icon id="rotate"></uo-icon>\n\n\t\t\t\t\t\t'.concat(_uo.utility.escHTML(wp.i18n.__("Refresh","uncanny-automator")),"\n\t\t\t\t\t</uo-button>\n\t\t\t\t")),n.append(i)}var o=this.getFieldsTable();if(n.append(o),o.append(r()('<div class="form-element__error"></div>')),this.attributes.hasDescription){var a=r()('<div class="form-repeater__description">'.concat(this.attributes.description,"</div>"));n.append(a)}return this.formElement=n,t=n,this.fieldRows.length>1&&this.makeRowsSortable(),this.listenSave(),this.handleAJAX({isRerendering:e}),t}},{key:"getAjaxRequestData",value:function(t){var e=t.fieldToListenToCode;return{recipe_id:UncannyAutomator._recipe.recipe_id,parent_id:this.attributes.parentID,item_id:this.attributes.itemId,group_id:this.attributes.groupId,field_id:this.attributes.optionCode,triggered_by:e,values:W({itemType:this.attributes.itemType,itemID:this.attributes.itemId,field:this})}}},{key:"getMergedValuesWithMappingColumn",value:function(t,e){var n=this;if(!_uo.utility.isDefined(this.attributes.ajax.mappingColumn))return e;var i={};return t.forEach((function(t){var e=t[n.attributes.ajax.mappingColumn];_uo.utility.isEmpty(e)||(delete t[n.attributes.ajax.mappingColumn],i[e]=t)})),e=e.map((function(t){var e=_uo.utility.isDefined(i[t[n.attributes.ajax.mappingColumn]])?i[t[n.attributes.ajax.mappingColumn]]:{};return h(h({},t),e)})),e}},{key:"ajaxMappingColumn",get:function(){if(_uo.utility.isDefined(this.attributes.ajax)&&_uo.utility.isDefined(this.attributes.ajax.mappingColumn))return this.attributes.ajax.mappingColumn}},{key:"handleAJAX",value:function(t){var e=this,n=t.isRerendering;if(_uo.utility.isDefined(this.attributes.ajax)&&_uo.utility.isDefined(this.attributes.ajax.event)){var i=function(t){var n=t.fieldToListenToCode,i=void 0===n?"":n,o=t.onSuccess,r=void 0===o?function(){}:o,a=t.extraAttributes,s=void 0===a?{}:a,u=e.getValue({includeReadOnly:!1}),c=h(h({},e.getAjaxRequestData({fieldToListenToCode:i})),s);e.clearError(),N(e.attributes.ajax.endpoint,c,(function(t){e.attributes.ajax.firstLoadDone=!0;try{r()}catch(t){}if(_uo.utility.isDefined(t.success)&&!t.success)return e.setValue([]),void(_uo.utility.isEmpty(t.error)||e.setError(t.error));_uo.utility.isDefined(t.field_properties)&&(_uo.utility.isDefined(t.field_properties.fields)&&(t.field_properties.fields=t.field_properties.fields.map((function(t){return(0,p.A)(t)}))),e.updateAttributes(t.field_properties,!1)),_uo.utility.isDefined(t.rows)&&e.setValue(e.getMergedValuesWithMappingColumn(u,t.rows),!1),e.reRender()}))};if("parent_fields_change"===this.attributes.ajax.event){var o="automator:field:change.handle-ajax-".concat(this.attributes.optionCode);if(!_uo.utility.isDefined(this.attributes.ajax.listenFields)&&Array.isArray(this.attributes.ajax.listenFields))return;this.attributes.ajax.listenFields.forEach((function(t){var r=B(e.attributes.itemId,t,e.attributes.itemType),a=["date","time","select","radio","checkbox","file"].includes(r.type)?0:1e3;r.formElement.off(o),r.formElement.on(o,_uo.utility.debounce((function(t,n){_uo.utility.isDefined(n)&&_uo.utility.isDefined(n.source)&&"getFormElement"===n.source||(r.startLoadingAnimation(),e.startLoadingAnimation(),i({extraAttributes:{context:"parent-field-changed"},fieldToListenToCode:r.attributes.optionCode,onSuccess:function(){r.stopLoadingAnimation(),e.stopLoadingAnimation()}}))}),a)),"select"===r.type&&r.attributes.supportsCustomValue&&(r.customValueField.formElement.off(o),r.customValueField.formElement.on("automator:field:change",_uo.utility.debounce((function(t,n){_uo.utility.isDefined(n)&&_uo.utility.isDefined(n.source)&&"getFormElement"===n.source||(r.startLoadingAnimation(),r.customValueField.startLoadingAnimation(),e.startLoadingAnimation(),i({extraAttributes:{context:"parent-field-changed"},fieldToListenToCode:r.attributes.optionCode,onSuccess:function(){r.stopLoadingAnimation(),r.customValueField.stopLoadingAnimation(),e.stopLoadingAnimation()}}))}),1e3))),n||_uo.utility.isDefined(r.attributes.ajax)||r.field.trigger("automator:field:change")})),this.$ajaxRefreshBtn&&this.$ajaxRefreshBtn.addEventListener("click",(function(){e.startLoadingAnimation(),i({extraAttributes:{context:"refresh-button"},fieldToListenToCode:e.attributes.optionCode,onSuccess:function(){e.stopLoadingAnimation()}})}))}"on_load"===this.attributes.ajax.event&&(n||(this.startLoadingAnimation(),i({extraAttributes:{context:"on-load"},fieldToListenToCode:this.attributes.optionCode,onSuccess:function(){e.stopLoadingAnimation()}})),this.$ajaxRefreshBtn&&this.$ajaxRefreshBtn.addEventListener("click",(function(){e.startLoadingAnimation(),i({extraAttributes:{context:"refresh-button"},fieldToListenToCode:e.attributes.optionCode,onSuccess:function(){e.stopLoadingAnimation()}})})))}}},{key:"listenSave",value:function(){var t=this;this.formElement.on("saved",(function(e){t.updateAttributesFieldsFromRow()}))}},{key:"updateAttributesFieldsFromRow",value:function(){var t=[];this.fieldRows.forEach((function(e){var n=[];e.forEach((function(t){n.push(t.attributes)})),t.push(n)})),this.attributes.fields=t}},{key:"makeRowsSortable",value:function(){var t=this;this.attributes.canSortRows&&"default"===this.attributes.layout&&(m(this.formElement.find(".form-repeater-fields__table-rows"),{forcePlaceholderSize:!0,handle:".form-repeater-fields__table-rows-cell--number",placeholder:'<tr><td colspan="'.concat(this.fieldRows[0].length+2,'">&nbsp;</td></tr>'),itemSerializer:function(t,e){return{position:t.index,html:t.html}}}),this.formElement.find(".form-repeater-fields__table-rows").on("sortupdate",(function(e){var n=[];r().each(e.detail.destination.items,(function(t,e){n.push(r()(e).data("order"))}));var i=[];n.forEach((function(e){i.push(t.fieldRows[e])})),t.fieldRows=i,t.reRender()})))}},{key:"updateAttributes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=h(h({},this.attributes),t);this.setAttributes(n),e&&this.reRender()}},{key:"getFieldsTable",value:function(){var t=this,e=["form-repeater-fields","form-repeater-fields--".concat(this.attributes.layout)];this.attributes.hide_header&&e.push("form-repeater-fields--hide-header"),this.attributes.hideActions&&e.push("form-repeater-fields--hide-actions"),_uo.utility.isDefined(this.attributes.ajax)&&e.push("form-repeater-fields--ajax"),0===this.attributes.fields.length&&e.push("form-repeater-fields--no-fields");var n=r()('\n\t\t\t<div class="'.concat(e.join(" "),'" data-id="').concat(this.attributes.optionCode,'">\n\t\t\t\t<table class="form-repeater-fields__table">\n\t\t\t\t\t<thead class="form-repeater-fields__table-heading"></thead>\n\t\t\t\t\t<tbody class="form-repeater-fields__table-rows"></tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t'));this.attributes.hideActions||n.append(r()('<div class="form-repeater-fields__actions"></div>'));var i="default"===this.attributes.layout?this.tableMatrix:this._transposeMatrix(this.tableMatrix);if(this.attributes.hide_header||n.find(".form-repeater-fields__table-heading").append(this._templateHeader(i[0])),n.find(".form-repeater-fields__table-rows").append(this._templateRows(i.slice(1))),!this.getAttributes().hideActions){var o=r()('\n\t\t\t\t<div class="uap-btn uap-btn--primary uap-btn--small">\n\t\t\t\t\t'.concat(_uo.utility.escHTML(wp.i18n.__("Add row","uncanny-automator")),"\n\t\t\t\t</div>\n\t\t\t"));_uo.utility.isDefined(this.attributes.addRowButtonLabel)&&o.text(this.attributes.addRowButtonLabel),o.on("click",(function(){o.addClass("uap-btn--loading"),t.addRow()})),n.find(".form-repeater-fields__actions").append(o)}return n}},{key:"getValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=h(h({},{includeReadOnly:!0}),t);var e=[];return this.fieldRows.forEach((function(n){var i={};n.forEach((function(e){if(t.includeReadOnly||!e.attributes.isReadOnly||e.isMappingColumn){var n=e.getValue();if(i[e.getFieldID()]=n,"select"==e.type&&(i["".concat(e.getFieldID(),"_readable")]=e.readableValue),"select"==e.type&&tt(n))try{i["".concat(e.getFieldID(),"_custom")]=e.getSelectCustomValue(),i["".concat(e.getFieldID(),"_readable")]=i["".concat(e.getFieldID(),"_custom")]}catch(t){console.warn("Couldn't save the custom value")}}})),e.push(i)})),e}},{key:"value",get:function(){return this.getValue()}},{key:"valueFromMeta",get:function(){var t=null;return this.attributes.hasValue?t=this.attributes.currentValue:this.attributes.hasDefaultValue&&(t=this.attributes.defaultValue),t}},{key:"setValue",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.fieldRows=[],e.forEach((function(e,n){t.addRow(e,!1)})),n&&this.reRender()}},{key:"addRow",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=JSON.parse(JSON.stringify(this.attributes.fields));i=i.map((function(n){_uo.utility.isDefined(e[n.optionCode])&&(n.currentValue=e[n.optionCode]);var i=new u.A(n.fieldType,h(h({},n),{parentID:t.attributes.parentID,itemId:t.attributes.itemId,itemType:t.attributes.itemType,repeaterOptionCode:t.attributes.optionCode}));return i.isMappingColumn=i.getFieldID()===t.ajaxMappingColumn,i})),this.fieldRows.push(i),n&&this.reRender(!0)}},{key:"reRender",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.fieldRows=this.value.map((function(e,n){var i=JSON.parse(JSON.stringify(t.attributes.fields));return i.map((function(i){var o=new u.A(i.fieldType,h(h({},i),{currentValue:e[i.optionCode],parentID:t.attributes.parentID,itemId:t.attributes.itemId,itemType:t.attributes.itemType,repeaterOptionCode:t.attributes.optionCode,repeaterRowIndex:n}));return o.isMappingColumn=o.getFieldID()===t.ajaxMappingColumn,o}))}));var n=this.formElement,i=this.createFormElement(!0);if(n.replaceWith(i),this.initFlatpickr(),this.initTokenSelector(),this.initCodeMirror(),e){var o=this.fieldRows[this.fieldRows.length-1];if(_uo.utility.isDefined(o)){var r=o[0];_uo.utility.isDefined(r)&&r.focus()}}}},{key:"deleteRow",value:function(t){_uo.utility.isDefined(this.fieldRows[t])&&this.fieldRows.splice(t,1),this.formElement.replaceWith(this.createFormElement(!0))}},{key:"setError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";_uo.utility.isEmpty(t)||(this.$errorWrapper.innerHTML=t,this.formElement.get(0).classList.add("form-element--error"))}},{key:"clearError",value:function(){this.$errorWrapper.innerHTML="",this.formElement.get(0).classList.remove("form-element--error")}},{key:"startLoadingAnimation",value:function(){var t="form-element--loading";_uo.utility.isDefined(this.formElement)&&!this.formElement.hasClass(t)&&(this.formElement.addClass(t),this.formElement.trigger("automator:field:loading"))}},{key:"stopLoadingAnimation",value:function(){var t="form-element--loading";_uo.utility.isDefined(this.formElement)&&this.formElement.hasClass(t)&&(this.formElement.removeClass(t),this.fieldContainer.removeClass("form-checkbox--loading-inline"),this.formElement.trigger("automator:field:loading"))}},{key:"$errorWrapper",get:function(){return this.formElement.get(0).querySelector(".form-element__error")}},{key:"$ajaxRefreshBtn",get:function(){return this.formElement.get(0).querySelector(".form-element-ajax-refresh-btn")}},{key:"getFormElement",value:function(){return this.attributes.completedFirstLoad=!1,this.formElement}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getFieldID",value:function(){return this.attributes.optionCode}},{key:"validate",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e={isValid:!0,message:""},n=[];return this.fieldRows.forEach((function(i){var o={};i.forEach((function(n){o[n.getFieldID()]=n.validate(t),e.isValid=e.isValid&&o[n.getFieldID()].isValid})),n.push(o)})),e}},{key:"initTokenSelector",value:function(){this.fieldRows.forEach((function(t){t.forEach((function(t){t.initTokenSelector()}))}))}},{key:"destroyTokenSelector",value:function(){this.fieldRows.forEach((function(t){t.forEach((function(t){t.destroyTokenSelector()}))}))}},{key:"initFlatpickr",value:function(){this.fieldRows.forEach((function(t){t.forEach((function(t){t.initFlatpickr()}))}))}},{key:"destroyFlatpickr",value:function(){this.fieldRows.forEach((function(t){t.forEach((function(t){t.destroyFlatpickr()}))}))}},{key:"initCodeMirror",value:function(){this.fieldRows.forEach((function(t){t.forEach((function(t){t.initCodeMirror()}))}))}},{key:"destroyCodeMirror",value:function(){this.fieldRows.forEach((function(t){t.forEach((function(t){t.destroyCodeMirror()}))}))}},{key:"_templateHeader",value:function(t){var e=r()("<tr></tr>");return t.forEach((function(t){var n,i,o=r()('<th \n\t\t\t\t\tclass="form-repeater-fields__table-heading-cell '.concat(null!==(n=t.attributes)&&void 0!==n&&n.isHidden?"form-repeater-fields__table-heading-cell--hidden":"",'" \n\t\t\t\t\tdata-id="').concat(null===(i=t.attributes)||void 0===i?void 0:i.id,'"\n\t\t\t\t></th>'));o.append(t.node),e.append(o)})),e}},{key:"_templateHeadingCell",value:function(t){var e=r()('<div data-id="'.concat(t.id,'"></div>'));return _uo.utility.isEmpty(t.title)?_uo.utility.isEmpty(this.attributes.ajax)||e.append(r()('\n\t\t\t\t<div class="form-repeater-fields__table-heading-cell-title">\n\t\t\t\t\t<span class="uap-placeholder-text" data-placeholder="Label"></span> <span class="uap-placeholder-text" data-placeholder="Second"></span>\n\t\t\t\t</div>\n\t\t\t')):e.append(r()('\n\t\t\t\t<div class="form-repeater-fields__table-heading-cell-title">\n\t\t\t\t\t'.concat(t.title,"\n\t\t\t\t\t").concat(t.isRequired?'<span class="form-repeater-fields__table-heading-cell-required"></span>':"","\n\t\t\t\t</div>\n\t\t\t"))),_uo.utility.isEmpty(t.description)||e.append(r()('\n\t\t\t\t<div class="form-repeater-fields__table-heading-cell-description">\n\t\t\t\t\t'.concat(t.description,"\n\t\t\t\t</div>\n\t\t\t"))),e}},{key:"_templateRows",value:function(t){var e=[];return t.forEach((function(t,n){var i=r()('<tr data-order="'.concat(n,'"></tr>'));t.forEach((function(t){var e=r()('<td \n\t\t\t\t\tclass="form-repeater-fields__table-rows-cell '.concat(t.attributes.isHidden?"form-repeater-fields__table-rows-cell--hidden":"",'" \n\t\t\t\t\tdata-id="').concat(t.attributes.id,'"\n\t\t\t\t></td>'));return e.append(t.node),i.append(e)})),e.push(i)})),e}},{key:"_templateCell",value:function(t){var e=r()('<div data-id="'.concat(t.attributes.optionCode,'"></div>')),n=t.getFormElement();return t.initLibraries(),e.append(n),e}},{key:"headers",get:function(){var t,e=this,n=r()('<div data-id="_AUTOMATOR_ROW_NUMBER">#</div>'),i=r()('<div data-id="_AUTOMATOR_TABLE_ACTIONS"></div>');t=_uo.utility.isDefined(this.attributes.ajax)&&_uo.utility.isEmpty(this.attributes.fields)&&!_uo.utility.isEmpty(this.fieldRows)?this.fieldRows[0].filter((function(t){return!t.attributes.optionCode.endsWith("_readable")})).map((function(t,n){var i={title:"",id:t.attributes.optionCode};return{type:"heading",attributes:i,node:e._templateHeadingCell(i)}})):this.attributes.fields.map((function(t){var n={title:_uo.utility.isDefined(t.label)?t.label:"",description:_uo.utility.isDefined(t.description)?t.description:"",isRequired:!!_uo.utility.isDefined(t.isRequired)&&t.isRequired,isHidden:!!_uo.utility.isDefined(t.isHidden)&&t.isHidden,id:t.optionCode};return{type:"heading",attributes:n,node:e._templateHeadingCell(n)}}));var o=[{type:"heading",attributes:{id:"_AUTOMATOR_ROW_NUMBER",title:"#"},node:n}].concat((0,a.A)(t));return this.attributes.hideActions||o.push({type:"heading",attributes:{id:"_AUTOMATOR_TABLE_ACTIONS",title:""},node:i}),o}},{key:"rows",get:function(){var t=this;return(0,a.A)(this.fieldRows.map((function(e,n){return t.getRow(e,n)})))}},{key:"getRow",value:function(t,e){var n=this,i=r()('<div data-id="_AUTOMATOR_ROW_NUMBER">'.concat(e+1,"</div>")),o=r()('<div data-id="_AUTOMATOR_TABLE_ACTIONS"></div>'),s=this.fieldRows.length,u=this.getAttributes();if(0!=e||0==e&&(!this.attributes.isRequired||s>1)){var c=_uo.utility.isDefined(this.attributes.removeRowButtonLabel)?this.attributes.removeRowButtonLabel:_uo.utility.escHTML(wp.i18n.__("Remove row","uncanny-automator")),l=r()('<div class="form-repeater-fields__table-rows-cell-remove" uap-tooltip="'.concat(c,'"><span></span></div>'));l.on("click",(function(){n.deleteRow(e)})),u.hideActions||o.append(l)}var d=[{type:"row-cell",attributes:{id:"_AUTOMATOR_ROW_NUMBER",title:e+1},node:i}].concat((0,a.A)(t.map((function(t){return{type:"row-cell",attributes:{id:t.attributes.optionCode,isHidden:t.attributes.isHidden},node:n._templateCell(t)}}))));return this.attributes.hideActions||d.push({type:"row-cell",attributes:{id:"_AUTOMATOR_TABLE_ACTIONS",title:""},node:o}),d}},{key:"tableMatrix",get:function(){return[(0,a.A)(this.headers)].concat((0,a.A)(this.rows))}},{key:"_transposeMatrix",value:function(t){return t[0].map((function(e,n){return t.map((function(t){return t[n]}))}))}}]),t}();var g,_,v=n(7528),b=n(5571),w=n(2618),A=n(6214),k=n(7610);function T(t,e){return t.get(E(t,e))}function E(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var D=new WeakMap,M=function(){function t(e){var n,i,o;(0,l.A)(this,t),this.$dialog=(0,k._)(),o=void 0,function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(n=this,i=D),i.set(n,o),this.onReady=e,document.dispatchEvent(new CustomEvent("uap/builder/legacy/show-recipe-type-selector")),this.render()}return(0,d.A)(t,[{key:"render",value:function(){var t=this;(0,w.XX)((0,w.qy)(g||(g=(0,v.A)(['\n\t\t\t\t<uo-dialog\n\t\t\t\t\theading="','"\n\t\t\t\t\tforce-manual-close\n\t\t\t\t\topen\n\n\t\t\t\t\t','\n\t\t\t\t>\n\t\t\t\t\t<div class="uap-recipe-type">\n\t\t\t\t\t\t','\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<uo-alert\n\t\t\t\t\t\ttype="info"\n\t\t\t\t\t\theading="','"\n\t\t\t\t\t\tclass="uap-spacing-top uap-spacing-top--big"\n\t\t\t\t\t></uo-alert>\n\t\t\t\t\t\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\tslot="secondary-action"\n\t\t\t\t\t\tcolor="secondary"\n\t\t\t\t\t\thref="','"\n\t\t\t\t\t>\n\t\t\t\t\t\t','\n\t\t\t\t\t</uo-button>\n\n\t\t    \t\t<uo-button\n\t\t\t\t\t\tslot="primary-action"\n\t\t\t\t\t\tid="uap-recipe-type-confirm"\n\n\t\t\t\t\t\t@click=',"\n\n\t\t\t\t\t\t?disabled=","\n\t\t\t\t\t>\n\t\t\t\t\t\t","\n\t\t\t\t\t</uo-button>\n\t\t\t\t</uo-dialog>\n\t\t\t"])),_uo.utility.escHTML(wp.i18n.__("Select a recipe type","uncanny-automator")),(0,k.K)(this.$dialog),(0,A.u)(Object.values(b._),(function(t){return t.id}),(function(e){return t._templateType(e)})),_uo.utility.escHTML(wp.i18n.__("Recipe type cannot be changed later.","uncanny-automator")),UncannyAutomator._recipe.miscellaneous.url_trash_recipe.replaceAll("&amp;","&"),_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator")),(function(e){e.target.loading=!0,t.saveRecipeType()}),_uo.utility.isEmpty(this.recipeType),_uo.utility.escHTML(wp.i18n._x("Confirm","Verb","uncanny-automator"))),document.body)}},{key:"_templateType",value:function(t){var e=this;return(0,w.qy)(_||(_=(0,v.A)(['\n\t\t\t<div\n\t\t\t\tclass="uap-recipe-type-item"\n\t\t\t\tdata-id=','\n\t\t\t\t@click="','"\n\t\t\t\t?selected=',"\n\t\t\t>\n\t\t\t\t<h3>","</h3>\n\t\t\t\t<p>","</p>\n\t\t\t</div>\n\t\t"])),t.id,(function(){return e.handleTypeItemClick(t.id)}),t.id===this.recipeType,t.name,t.description)}},{key:"handleTypeItemClick",value:function(t){document.dispatchEvent(new CustomEvent("uap/builder/legacy/selected-recipe-type",{detail:{recipeType:t},bubbles:!0,composed:!0})),this.recipeType=t}},{key:"saveRecipeType",value:function(){var t=this;UncannyAutomator._core.recipe.setRecipeType(this.recipeType).then((function(e){e.success?(UncannyAutomator._recipe.recipe_type=t.recipeType,t.$dialog.value.close(),t.onReady()):UncannyAutomatorBackend.debugging.enabled&&console.error("Recipe type selector: Couldn't set the recipe type. Open the Network tab and perform the action again.")}))}},{key:"recipeType",get:function(){return Object.keys(b._).includes(T(D,this))?T(D,this):""},set:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object.keys(b._).includes(n)&&(e=n,(t=D).set(E(t,this),e),this.render())}}]),t}(),C=n(9143),x=n(3773),L=n(8829),S=n(2743),I=n(4727),O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t=_uo.utility.isEmpty(t)?function(){}:t;var e=function(){q(),P(),j("create",{allRecipes:UncannyAutomator.recipes_object}),delete UncannyAutomator.triggers,delete UncannyAutomator.actions,delete UncannyAutomator.actionsConditions,t()};_uo.utility.isEmpty(UncannyAutomator._recipe.recipe_type)?new M((function(){e()})):e()},j=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=!1;if(_uo.utility.isDefined(e))switch(e){case"create":var o,a=n.allRecipes;r().each(a,(function(t,e){e.ID==UncannyAutomator._recipe.recipe_id&&(o=e)})),_uo.utility.isDefined(o.extra_options)&&!_uo.utility.isEmpty(o.extra_options)&&(UncannyAutomator.recipes_object[o.ID].extra_options=o.extra_options),r().each(o.triggers,(function(t,e){return e.itemType="trigger"})),r().each(o.actions,(function(t,e){return e.itemType="action"})),r().each(o.closures,(function(t,e){return e.itemType="closure"}));var c=[].concat.apply([],[o.triggers,o.actions,o.closures]);U("reset");var l="anonymous"==UncannyAutomator._recipe.recipe_type;if(r().each(c,(function(t,e){var n,i,a=e.meta.integration,s=e.meta.code;try{i=UncannyAutomator.recipes_object[o.ID].extra_options[a][s]}catch(t){}var c=z(a,e.itemType,s),d=UncannyAutomator._core.directory.integrations.getIntegration(a);if(null!=d&&d.is_app?d.miscellaneous.is_app_connected:_uo.utility.isDefined(c)){var f={};_uo.utility.isEmpty(i)?(_uo.utility.isDefined(c.options)&&r().each(c.options,(function(t,e){f[e.option_code]=[e]})),_uo.utility.isDefined(c.options_group)&&r().extend(!0,f,c.options_group)):(_uo.utility.isDefined(i.options)&&r().each(i.options,(function(t,e){f[e.option_code]=[e]})),_uo.utility.isDefined(i.options_group)&&r().extend(!0,f,i.options_group));var h={};r().each(f,(function(t,n){var i=[],o=n.length>1;r().each(n,(function(n,r){var a,s;if(r.itemType=e.itemType,"repeater"==r.input_type){try{e.meta[r.option_code]=JSON.parse(e.meta[r.option_code])}catch(t){}a=Object.assign((0,p.A)(r),{groupId:t,isGroup:o,itemId:e.ID,itemType:e.itemType,currentValue:_uo.utility.isDefined(e.meta[r.option_code])?e.meta[r.option_code]:r.default_value}),s=new y(a)}else a=function(n){var i=Object.assign((0,p.A)(n),{isGroup:o,itemId:e.ID,groupId:t,currentValue:_uo.utility.isDefined(e.meta[n.option_code])?e.meta[n.option_code]:n.default_value});return"select"==i.fieldType&&_uo.utility.isDefined(e.meta["".concat(i.optionCode,"_custom")])&&(i.customValue=e.meta["".concat(i.optionCode,"_custom")]),i.isAjax&&(i.integrationId=c.integration,_uo.utility.isEmpty(i.targetField)&&(i.targetField=n.option_code)),i}(r),s=new u.A(a.fieldType,a,!1);i.push(s)}));var a=[];_uo.utility.isDefined(c.buttons)&&r().each(c.buttons,(function(e,n){n.show_in==t&&a.push(n)})),h[t]={fields:i,isValid:!1,buttons:a}})),n={id:parseInt(e.ID),itemType:e.itemType,itemCode:s,integrationCode:c.integration,isLive:"publish"==e.post_status,options:h,meta:e.meta,isMissing:!1,tokens:_uo.utility.isDefined(e.tokens)?e.tokens:[],inlineCss:_uo.utility.isDefined(c.inline_css)?c.inline_css:"",customHTML:_uo.utility.isDefined(c.custom_html)?c.custom_html:"",menuOrder:e.menu_order?parseInt(e.menu_order):9999},_uo.utility.isDefined(c.support)&&(n.support=c.support);var m={};r().each(h,(function(t,e){r().each(e.fields,(function(t,e){m[e.getAttributes().optionCode]=e}))})),r().each(m,(function(t,e){var i=e.getAttributes();_uo.utility.isDefined(n.meta[i.optionCode])&&!_uo.utility.isEmpty(n.meta[i.optionCode])||_uo.utility.isEmpty(i.currentValue)||(n.meta[i.optionCode]=i.currentValue)})),l&&(n.canLogNewUserIn=!_uo.utility.isDefined(c.can_log_in_new_user)||c.can_log_in_new_user)}else n={id:parseInt(e.ID),itemType:e.itemType,itemCode:e.meta.code,integrationCode:e.meta.integration,integrationName:e.meta.integration_name,sentence:e.meta.sentence,isLive:"publish"==e.post_status,tokens:[],options:{},meta:e.meta,isMissing:!0,menuOrder:e.menu_order?parseInt(e.menu_order):9999},l&&(n.canLogNewUserIn=!_uo.utility.isDefined(e.meta.can_log_in_new_user)||"true"==e.meta.can_log_in_new_user);U("add",n)})),s(),(0,I.Er)(o),(0,I.cD)(),(0,L.TX)(),(0,S.u5)(),l){UncannyAutomator.recipe.canLogNewUserIn=!1;var d=U("get",{filter:{itemType:"trigger"}});Object.keys(d)>0&&(UncannyAutomator.recipe.canLogNewUserIn=!0,r().each(d,(function(t,e){UncannyAutomator.recipe.canLogNewUserIn=UncannyAutomator.recipe.canLogNewUserIn&&e.canLogNewUserIn})))}(!_uo.utility.isDefined(n.validate)||_uo.utility.isDefined(n.validate)&&n.validate)&&t("validate");break;case"validate":var f=!0;r().each(UncannyAutomator.recipe.hasLive,(function(t){UncannyAutomator.recipe.hasLive[t]=!1})),r().each(UncannyAutomator.recipe.items,(function(t,e){e.isLive&&(UncannyAutomator.recipe.hasLive[e.itemType]=!0)})),r().each(UncannyAutomator.recipe.items,(function(t,e){var n=!0;r().each(e.options,(function(e,i){var o=!0;r().each(i.fields,(function(t,e){e.validate(!1).isValid||(o=!1)})),UncannyAutomator.recipe.items[t].options[e].isValid=o,o||(n=!1)})),UncannyAutomator.recipe.items[t].isValid=n,e.isLive&&!n&&(f=!1)})),UncannyAutomator.recipe.hasLive.trigger?"anonymous"==UncannyAutomator._recipe.recipe_type&&UncannyAutomator.recipe.requiresUserData&&!UncannyAutomator.recipe.userSelector.isValid?(f=!1,UncannyAutomator.recipe.message.error=_uo.utility.escHTML(wp.i18n.__("Specify the user the actions will be run on","uncanny-automator"))):UncannyAutomator.recipe.hasLive.action||UncannyAutomator.recipe.hasLive.closure?UncannyAutomator.recipe.hasLive.trigger||UncannyAutomator.recipe.hasLive.action||UncannyAutomator.recipe.hasLive.closure||(UncannyAutomator.recipe.message.error=_uo.utility.escHTML(wp.i18n.__("Add live items to your recipe","uncanny-automator"))):(f=!1,UncannyAutomator.recipe.message.error=_uo.utility.escHTML(wp.i18n.__("You have to add at least one live action to your recipe","uncanny-automator"))):(f=!1,UncannyAutomator.recipe.message.error=_uo.utility.escHTML(wp.i18n.__("You have to add at least one live trigger to your recipe","uncanny-automator"))),UncannyAutomator.recipe.isValid=f,f&&(UncannyAutomator.recipe.message.error=""),i=!0}else UncannyAutomator._site.has_debug_enabled&&console.error('__deprecated__recipeObject: The action "'.concat(e,"\" isn't defined"));return i},U=function t(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null){case"add":e=r().extend({isValid:!1,isLive:!1},e),_uo.utility.isDefined(UncannyAutomator.recipe.items[e.id])||(UncannyAutomator.recipe.items[e.id]=e,t("clean",{}),n=!0);break;case"delete":e=r().extend({isValid:!1},e),_uo.utility.isEmpty(e.id)?UncannyAutomator._site.has_debug_enabled&&console.error("itemsObject: Invalid item ID"):_uo.utility.isDefined(UncannyAutomator.recipe.items[e.id])?(delete UncannyAutomator.recipe.items[e.id],n=!0):UncannyAutomator._site.has_debug_enabled&&console.error("itemsObject: We didn't find an item with this the ID ".concat(e.id));break;case"clean":var o={};r().each(UncannyAutomator.recipe.items,(function(t,e){_uo.utility.isDefined(e)&&(o[t]=e)})),UncannyAutomator.recipe.items=o,n=!0;break;case"update":_uo.utility.isEmpty(e.id)?UncannyAutomator._site.has_debug_enabled&&console.error("itemsObject: Invalid item ID"):_uo.utility.isDefined(UncannyAutomator.recipe.items[e.id])?(UncannyAutomator.recipe.items[e.id]=r().extend({},UncannyAutomator.recipe.items[e.id],e),n=!0):UncannyAutomator._site.has_debug_enabled&&console.error("itemsObject: We didn't find an item with this the ID ".concat(e.id));break;case"reset":UncannyAutomator.recipe.items={},n=!0;break;case"get":if(n=UncannyAutomator.recipe.items,_uo.utility.isDefined(e.includeOnly)&&0===e.includeOnly.length)return _uo.utility.isEmpty(e.format)||"array"!=e.format?{}:[];if(!_uo.utility.isEmpty(e.includeOnly)){var a={};Object.entries(n).forEach((function(t){var n=(0,i.A)(t,2),o=n[0],r=n[1];e.includeOnly.includes(parseInt(o))&&(a[o]=r)})),n=a}if(!_uo.utility.isEmpty(e.exclude)){var s={};Object.entries(n).forEach((function(t){var n=(0,i.A)(t,2),o=n[0],r=n[1];e.exclude.includes(parseInt(o))||(s[o]=r)})),n=s}if(!_uo.utility.isEmpty(e.filter)){var u={};Object.entries(n).forEach((function(t){var n=(0,i.A)(t,2),o=n[0],r=n[1],a=!0;Object.entries(e.filter).forEach((function(t){var e=(0,i.A)(t,2),n=e[0],o=e[1];r[n]!=o&&(a=!1)})),a&&(u[o]=r)})),n=u}if(_uo.utility.isEmpty(e.format)||"array"!=e.format||(n=Object.values(n)),!_uo.utility.isEmpty(e.orderBy)&&!_uo.utility.isEmpty(e.format)&&"array"==e.format)if("function"==typeof e.orderBy)try{n=n.sort(e.orderBy)}catch(t){UncannyAutomator._site.has_debug_enabled&&(console.error("itemsObject: The compare function `orderBy` thrown an error"),console.error(t),console.log(e.orderBy))}else n=n.sort((function(t,n){if(t[e.orderBy]===n[e.orderBy]&&_uo.utility.isDefined(t.id)&&_uo.utility.isDefined(n.id))return t.id<n.id;if(!_uo.utility.isDefined(t[e.orderBy])||!_uo.utility.isDefined(n[e.orderBy]))return 0;var i=t[e.orderBy],o=n[e.orderBy];return _uo.utility.isDefined(e.orderByType)&&"int"==e.orderByType&&(i=parseInt(i),o=parseInt(o)),i>o?1:-1}))}return n},P=function(){Object.entries(UncannyAutomator.integrations).forEach((function(t){var e=(0,i.A)(t,2),n=e[0],o=(e[1],{available:H(UncannyAutomator.triggers.filter((function(t){return t.integration==n})),"select_option_name",(function(t){return X(t)})),unavailable:[]}),r={available:H(UncannyAutomator.actions.filter((function(t){return t.integration==n})),"select_option_name",(function(t){return X(t)})),unavailable:[]};if(!UncannyAutomatorBackend._site.automator.is_pro_active&&_uo.utility.isDefined(UncannyAutomator.pro_items)&&_uo.utility.isDefined(UncannyAutomator.pro_items[n])){var a=UncannyAutomator._recipe.recipe_type;a="user"==a?"logged-in":a,o.unavailable=H(UncannyAutomator.pro_items[n].triggers.filter((function(t){return t.type==a})),"name",(function(t){return X(t)})),r.unavailable=H(UncannyAutomator.pro_items[n].actions,"name",(function(t){return X(t)}))}o.hasAvailableItems=o.available.length>0,r.hasAvailableItems=r.available.length>0,o.hasUnavailableItems=o.unavailable.length>0,r.hasUnavailableItems=r.unavailable.length>0;var s=function(t,e){return!!t.hasAvailableItems&&t.available.every((function(t){return _uo.utility.isDefined(t[e])&&t[e]}))};o.allItemsArePro=s(o,"is_pro"),r.allItemsArePro=s(r,"is_pro"),o.allItemsAreElite=s(o,"is_elite"),r.allItemsAreElite=s(r,"is_elite"),o.hasTriggers=o.hasAvailableItems||o.unavailable.length>0,r.hasActions=r.hasAvailableItems||r.unavailable.length>0,UncannyAutomator.integrations[n].items={triggers:o,actions:r},(0,I.aS)({integrationCode:n})}))},H=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return _uo.utility.isDefined(n)||(n=function(t){return t}),Array.isArray(t)&&!_uo.utility.isEmpty(t)&&(t=t.sort((function(t,i){var o=0;if(_uo.utility.isDefined(t[e])&&_uo.utility.isDefined(i[e])){var r=n(t[e]),a=n(i[e]);o=(o=(o=r.localeCompare(a))>0?1:o)<0?-1:o}return o}))),t},F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"triggers",n=arguments.length>2?arguments[2]:void 0;n=Object.assign({addDeprecatedItems:!1},n);var i={available:{},unavailable:{}};return["triggers","actions"].includes(e="action"==(e="trigger"==e?"triggers":e)?"actions":e)&&(_uo.utility.isEmpty(t)||_uo.utility.isDefined(UncannyAutomator.integrations[t])&&(i=r().extend(!0,{},UncannyAutomator.integrations[t].items[e]),n.addDeprecatedItems||(i=$(i)))),i},$=function(t){return t.available=t.available.filter((function(t){return!t.is_deprecated})),t.hasAvailableItems=t.available.length>0,_uo.utility.isDefined(t.hasTriggers)?t.hasTriggers=t.hasAvailableItems||t.unavailable.length>0:_uo.utility.isDefined(t.hasActions)&&(t.hasActions=t.hasAvailableItems||t.unavailable.length>0),t.allItemsArePro=t.available.every((function(t){return!!_uo.utility.isDefined(t.is_pro)&&t.is_pro})),t},R=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;if(_uo.utility.isDefined(t)&&Z(t,["set-step","get-step","set-source","update-fields","reset-fields"]))switch(t){case"set-step":Z(["step"],Object.keys(e))?UncannyAutomator.recipe.userSelector.step=e.step:UncannyAutomator._site.has_debug_enabled&&console.error("userSelectorObject: Some attributes are missing");break;case"get-step":var i="select-source";_uo.utility.isDefined(UncannyAutomator.recipe.userSelector.step)?i=UncannyAutomator.recipe.userSelector.step:_uo.utility.isEmpty(UncannyAutomator.recipe.userSelector.data[UncannyAutomator.recipe.userSelector.source])||(i="show-sentence",UncannyAutomator.recipe.userSelector.isValid=!0),n=i;break;case"set-source":Z(["source"],Object.keys(e))?UncannyAutomator.recipe.userSelector.source=e.source:UncannyAutomator._site.has_debug_enabled&&console.error("userSelectorObject: Some attributes are missing");break;case"update-fields":Z(["source","data"],Object.keys(e))?["existingUser","newUser"].includes(e.source)?(_uo.utility.isEmpty(UncannyAutomator.recipe.userSelector.data)&&(UncannyAutomator.recipe.userSelector.data={existingUser:{},newUser:{}}),UncannyAutomator.recipe.userSelector.data[e.source]=r().extend({},UncannyAutomator.recipe.userSelector.data[e.source],e.data)):UncannyAutomator._site.has_debug_enabled&&console.error("userSelectorObject: The source parameter is invalid. Valid values are: existingUser, newUser"):UncannyAutomator._site.has_debug_enabled&&console.error("userSelectorObject: Some attributes are missing");break;case"reset-fields":UncannyAutomator.recipe.userSelector.data={existingUser:{},newUser:{}}}else UncannyAutomator._site.has_debug_enabled&&console.error('userSelectorObject: The action "'.concat(t,"\" isn't defined"));return n},q=function(){["user","anonymous"].includes(UncannyAutomator._recipe.recipe_type)&&(UncannyAutomator.triggers=UncannyAutomator.triggers.filter((function(t){return t.type==UncannyAutomator._recipe.recipe_type})))},V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=["actions_conditions_fields","actions_order_and_conditions","actions_order","change_post_status","recipe_completions_allowed","recipe_max_completions_allowed","remove_schedule","schedule_action","set_recipe_requires_user","set_recipe_terms","update","user-selector"],s=UncannyAutomator._site.automator.links.contact_support;o=Object.assign({requiresRecipesObject:!0,renderUI:!0,errorMessaging:{accessDenied:{title:_uo.utility.escHTML(wp.i18n.__("Access denied","uncanny-automator")),content:_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("Automator experienced a permissions (403) error. This might be caused by an expired WordPress session or a REST endpoint access issue. Automator specifically failed to do a REST call to %1$s. Reloading the page may fix the issue, otherwise have your host investigate why requests to %1$s are returning a 403 error.","uncanny-automator")),"<strong>".concat(t,"</strong>"))},notFound:{title:_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("Endpoint %1$s not found","uncanny-automator")),'<code style="margin: 0 6px">'.concat(t,"</code>")),content:_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("A endpoint that Automator requires is missing. If your %1$s are set to Plain, please change them to something else. Otherwise, removing and reinstalling Automator plugins to rule out an upload issue is recommended, otherwise please contact %2$s.","uncanny-automator")),'<a href="'.concat(UncannyAutomator._site.links.wp_permalinks,'" target="_blank">').concat(_uo.utility.escHTML(wp.i18n.__("site permalinks","uncanny-automator")),"</a>"),'<a href="'.concat(s,'" target="_blank">').concat(_uo.utility.escHTML(wp.i18n.__("Automator support","uncanny-automator")),"</a>"))},timeout:{title:_uo.utility.escHTML(wp.i18n.__("Request timeout","uncanny-automator")),content:_uo.utility.escHTML(wp.i18n.__("The Automator request timed out, likely due to insufficient server resources. Please contact your host.","uncanny-automator"))},serverError:{title:_uo.utility.escHTML(wp.i18n.__("Internal error","uncanny-automator")),content:_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("Automator experienced a fatal error on your site. Please check your PHP and debug error log for more details, then sent the associated error details to %1$s.","uncanny-automator")),'<a href="'.concat(s,'" target="_blank">').concat(_uo.utility.escHTML(wp.i18n.__("Automator support","uncanny-automator")),"</a>"))},parserError:{title:_uo.utility.escHTML(wp.i18n.__("Parser error","uncanny-automator")),content:_uo.utility.escHTML(wp.i18n.__("We have detected a conflict with another plugin. Try testing in a Staging environment with only Automator plugins active, then gradually reactivate plugins until things break again to trace what's causing it.","uncanny-automator"))},dataMissing:{title:_uo.utility.escHTML(wp.i18n.__("Data missing","uncanny-automator")),content:_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("Automator has detected that expected data is missing. Please %1$s with details of the issue and a copy of the System Report on the %2$s page.","uncanny-automator")),'<a href="'.concat(s,'" target="_blank">').concat(_uo.utility.escHTML(wp.i18n.__("contact support","uncanny-automator")),"</a>"),'<a href="'.concat(UncannyAutomator._site.automator.links.tools,'" target="_blank">').concat(_uo.utility.escHTML(wp.i18n.__("Automator Tools","uncanny-automator")),"</a>"))},generic:{title:_uo.utility.escHTML(wp.i18n.__("Unknown error","uncanny-automator")),content:_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("Automator has encountered an unknown error. Please contact %1$s with a screenshot of your recipe, details about what you were doing and any other information that may help us with the error.","uncanny-automator")),'<a href="'.concat(s,'" target="_blank">').concat(_uo.utility.escHTML(wp.i18n.__("Automator support","uncanny-automator")),"</a>"))}}},o),Z(t,a)?r().ajax({method:"POST",url:"".concat(UncannyAutomator._site.rest.url,"/").concat(t,"/"),data:"".concat(r().param(e),"&").concat(r().param({doing_rest:1})),dataType:"json",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",UncannyAutomator._site.rest.nonce)}}).done((function(t,e,r){t.success?(_uo.utility.isEmpty(t._recipe)||(UncannyAutomator._recipe=JSON.parse(t._recipe)),_uo.utility.isDefined(t.recipes_object)||!o.requiresRecipesObject?_uo.utility.isDefined(n)&&(o.requiresRecipesObject&&o.renderUI&&j("create",{allRecipes:t.recipes_object}),n(t)):(UncannyAutomator._site.has_debug_enabled&&console.error("The call was successful, but the new recipes_object is missing."),_uo.utility.isDefined(i)&&i(t,"data-missing"))):_uo.utility.isDefined(i)&&i(t,"data-missing")})).fail((function(t,n,r){var a=n,s=o.errorMessaging.generic;switch(a){case"parsererror":a="parser-error",s=o.errorMessaging.parserError;break;case"error":403==t.status?(a="access-denied",s=o.errorMessaging.accessDenied):404==t.status?(a="not-found",s=o.errorMessaging.notFound):500==t.status&&(a="server-error",s=o.errorMessaging.serverError);break;case"timeout":a="timeout",s=o.errorMessaging.timeOut}_uo.utility.isDefined(i)&&i({success:!1},a),J({title:s.title,warning:s.content,content:"",console:"Data sent:\n"+"".concat(JSON.stringify(e),"\n\n")+"errorCode: \n".concat(a,"\n\n")+"errorThrown:\n".concat(JSON.stringify(r),"\n\n")+"jqXHR: \n".concat(JSON.stringify(t)," \n\n"),buttons:{confirm:null,cancel:{label:_uo.utility.escHTML(wp.i18n._x("Close","Verb","uncanny-automator")),onClick:function(t){t.destroy()}}}})})):UncannyAutomator._site.has_debug_enabled&&console.error("The ".concat(t," endPoint does not exists. The valid endpoints are ").concat(a.join(", ")))},N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_uo.utility.isDefined(t)?(e=r().extend(!0,e,{action:t,nonce:UncannyAutomator._site.rest.nonce}),r().ajax({method:"POST",dataType:"json",url:ajaxurl,data:e,success:function(o){_uo.utility.isDefined(o.status)&&"auth-failed"==o.status?(_uo.utility.isDefined(i)&&i(o),J({title:_uo.utility.escHTML(wp.i18n.__("Access denied","uncanny-automator")),warning:_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("Automator experienced a permissions (403) error. This might be caused by an expired WordPress session or a REST endpoint access issue. Automator specifically failed to do a REST call to %1$s. Reloading the page may fix the issue, otherwise have your host investigate why requests to %1$s are returning a 403 error.","uncanny-automator")),"<strong>".concat(t,"</strong>")),content:"",console:"Data sent:\n"+"".concat(JSON.stringify(e),"\n\n")+"errorCode: \naccess-denied\n\n",buttons:{confirm:null,cancel:{label:_uo.utility.escHTML(wp.i18n._x("Close","Verb","uncanny-automator")),onClick:function(t){t.destroy()}}}})):_uo.utility.isDefined(n)&&n(o,e)},statusCode:{403:function(n){_uo.utility.isDefined(i)&&i(n),J({title:_uo.utility.escHTML(wp.i18n.__("Access denied","uncanny-automator")),warning:_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("Automator experienced a permissions (403) error. This might be caused by an expired WordPress session or a REST endpoint access issue. Automator specifically failed to do a REST call to %1$s. Reloading the page may fix the issue, otherwise have your host investigate why requests to %1$s are returning a 403 error.","uncanny-automator")),"<strong>".concat(t,"</strong>")),content:"",console:"Data sent:\n"+"".concat(JSON.stringify(e),"\n\n")+"errorCode: \naccess-denied\n\n",buttons:{confirm:null,cancel:{label:_uo.utility.escHTML(wp.i18n._x("Close","Verb","uncanny-automator")),onClick:function(t){t.destroy()}}}})}},fail:function(t){_uo.utility.isDefined(i)&&i(t)}})):UncannyAutomator._site.has_debug_enabled&&console.error("We cannot do this AJAX request. {action} is not defined.")},W=function(t){var e=t.itemType,n=t.itemID,i=t.field,o={};if("loop-filter"===e)if(_uo.utility.isDefined(n)){var a=document.querySelector('uap-builder-item-legacy-form[item-id="'.concat(n,'"]'));if(a)return a.unsavedFieldValues}else{var s=document.querySelector("uap-builder-item-loop-filter-edit-dialog uap-builder-item-legacy-form:not([item-id])");if(s)return s.unsavedFieldValues}if(["action","trigger","closure"].includes(e)){if(_uo.utility.isDefined(n))return r().each(UncannyAutomator.recipe.items[n].options,(function(t,e){r().each(e.fields,(function(t,e){var n=e.getFieldID(),i=e.getValue();_uo.utility.isDefined(i)||(i=e.getAttributes().currentValue),"select"==e.getAttributes().fieldType&&tt(i)&&(o["".concat(n,"_custom")]=e.getSelectCustomValue()),o[n]=i,_uo.utility.isEmpty(i)||"select"!=e.getAttributes().fieldType||(o["".concat(n,"_readable")]=e.getReadableValue())}))})),o;if(_uo.utility.isDefined(i)){try{i.$wrapper.get(0).parentNode.querySelectorAll("select, input, textarea").forEach((function(t){_uo.utility.isDefined(t.fieldInstance)&&(o[t.fieldInstance.attributes.optionCode]=t.fieldInstance.getValue())}))}catch(t){console.log(t)}return o}}return o},B=function(t,e,n){var i;if(!["loop-filter","publish-setting"].includes(n)){if(_uo.utility.isEmpty(t)||_uo.utility.isEmpty(e)||!_uo.utility.isDefined(UncannyAutomator.recipe.items[t])){var o=document.querySelector('[name="'.concat(e,'"]:not([data-item-id])'));_uo.utility.isDefined(o)&&_uo.utility.isDefined(o.fieldInstance)&&(i=o.fieldInstance)}else r().each(UncannyAutomator.recipe.items[t].options,(function(t,n){r().each(n.fields,(function(t,n){e==n.getFieldID()&&(i=n)}))}));return i}if(_uo.utility.isDefined(t)){var a=document.querySelector('uap-builder-item-legacy-form[item-id="'.concat(t,'"]'));if(a&&_uo.utility.isDefined(a.fields[e]))return a.fields[e]}else{var s="uap-builder-item-loop-filter-edit-dialog";"publish-setting"===n&&(s="uap-builder-publish-settings-edit-dialog");var u=document.querySelector("".concat(s," uap-builder-item-legacy-form:not([item-id])"));if(u&&_uo.utility.isDefined(u.fields[e]))return u.fields[e]}},z=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!_uo.utility.isEmpty(e)&&!_uo.utility.isEmpty(n)&&!_uo.utility.isEmpty(i)){var o={};if("trigger"==n||"action"==n){if(_uo.utility.isDefined(UncannyAutomator.integrations[e])){var a=UncannyAutomator.integrations[e];_uo.utility.isDefined(a.items)&&(o="trigger"==n?a.items.triggers.available:a.items.actions.available)}}else"closure"==n&&(o=UncannyAutomator.closures);r().each(o,(function(e,n){if(n.code==i)return t=n,!1}))}return t},G=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;V("set_recipe_requires_user",{recipePostID:UncannyAutomator._recipe.recipe_id,requiresUser:t},(function(n){n.success&&_uo.utility.isDefined(e)&&(UncannyAutomator.recipe.requiresUserData=t,Y("user-selector").addClass("user-selector--show"),e(n))}),(function(t){UncannyAutomator._site.has_debug_enabled&&console.log("Couldn't set the recipe requires user status"),_uo.utility.isDefined(n)&&n(t)}),{requiresRecipesObject:!1})},Y=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={};if(_uo.utility.isDefined(e)&&Z(e,["metabox","items","item","optionGroup","lastItem","user-selector","itemsContainer"]))switch(e){case"metabox":n=r().extend({},n),Z(["type"],Object.keys(n))?(n.cssSelectorMetabox="","trigger"==n.type?n.cssSelectorMetabox="#recipe-triggers-ui":"action"==n.type&&(n.cssSelectorMetabox="#recipe-actions-ui"),i=r()(n.cssSelectorMetabox)):UncannyAutomator._site.has_debug_enabled&&console.error("itemsObject: Some attributes are missing");break;case"items":n=r().extend({},n),Z(["type"],Object.keys(n))?i=t("metabox",{type:n.type}).find(".uap-item:not(.item--user-selector):not(.uap-item--actions-initial):not(.item--closure)"):UncannyAutomator._site.has_debug_enabled&&console.error("itemsObject: Some attributes are missing");break;case"item":if(n=r().extend({},n),Z(["id"],Object.keys(n))){n.cssSelector='.uap .uap-item[data-id="'.concat(n.id,'"]');var o=r()(n.cssSelector),a=o.find(".uap-item-inner-content");i.item=o,i.contentContainer=a}else UncannyAutomator._site.has_debug_enabled&&console.error("itemsObject: Some attributes are missing");break;case"optionGroup":if(n=r().extend({},n),Z(["itemID","groupID"],Object.keys(n))){var s=t("item",{id:n.itemID}).item;n.cssSelectorTokenInSentence='.item-title__token[data-token-id="'.concat(n.groupID,'"]'),n.cssSelectorFieldsContainer='.item-options__group[data-optiongroup="'.concat(n.groupID,'"]');var u=s.find(n.cssSelectorTokenInSentence),c=s.find(n.cssSelectorFieldsContainer),l=s.find(".item-options");i.tokenInSentence=u,i.fieldsContainer=c,i.optionsContainer=l}else UncannyAutomator._site.has_debug_enabled&&console.error("itemsObject: Some attributes are missing");break;case"lastItem":n=r().extend({},n),Z(["type"],Object.keys(n))?i=t("metabox",{type:n.type}).find(".uap-item:not(.item--user-selector):not(.uap-item--actions-initial):not(.item--closure)").last():UncannyAutomator._site.has_debug_enabled&&console.error("itemsObject: Some attributes are missing");break;case"user-selector":i=r()(".user-selector");break;case"itemsContainer":if(!_uo.utility.isEmpty(n.type))if("trigger"===n.type)i=document.querySelector("#recipe-triggers-ui .uap-items");else if("action"===n.type&&!_uo.utility.isEmpty(n.actionContext))switch(n.actionContext){case"instant":i=document.querySelector("#recipe-actions-ui .uap-items.uap-items--actions-instant");break;case"delayed":i=document.querySelector("#recipe-actions-ui .uap-items.uap-items--actions-delayed");break;case"scheduled":i=document.querySelector("#recipe-actions-ui .uap-items.uap-items--actions-scheduled")}}else UncannyAutomator._site.has_debug_enabled&&console.error('getDOMElements: The element "'.concat(e,"\" isn't defined"));return i},K=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=null;if(i={plain:"",brackets:"",html:r()("<div/>"),elements:{normal:[],token:[]},parts:[]},e=e.trim(),!_uo.utility.isEmpty(e)){var o,a=new RegExp(/\{\{(.*?)\}\}/gm),s=[],u=[],c=e,l=0,d=(e=e.replace(a,(function(e,i){var o,r=i.split(":"),a=r[0],s=r[1],d=_uo.utility.isDefined(r[2])?r[2]:s;return i={type:"token",id:s,text:a,optionsID:d,hasFields:_uo.utility.isDefined(t.options[d])},_uo.utility.isDefined(n[i.id])&&(tt(n[i.id])&&_uo.utility.isDefined(n["".concat(i.id,"_custom")])?o=n["".concat(i.id,"_custom")]:_uo.utility.isDefined(n["".concat(i.id,"_readable")])&&(o=n["".concat(i.id,"_readable")]),i.originalText=i.text,i.text=_uo.utility.isDefined(o)?o:n[i.id]),u.push(i),c=c.replace(e,"{{token:".concat(l,"}}")),l++,"{{v}}"}))).split("{{v}}"),p=0;for(r().each(d,(function(t,e){if(""!=e){var n={type:"normal",text:e};s.push(n),c=c.replace(e,"{{normal:".concat(p,"}}")),p++}}));null!==(o=a.exec(c));){var f=o[1].split(":");"normal"==(f={type:f[0],index:f[1]}).type?i.parts.push(s[f.index]):i.parts.push(u[f.index])}var h=null;r().each(i.parts,(function(e,n){if(i.plain+=n.text," "!=n.text){var o,a=n.text,s=!1,u=null;if("normal"==n.type||"token"==n.type&&!n.hasFields&&!t.isMissing)o={class:"item-title__normal"},i.brackets+=n.text;else{if(o={class:"item-title__token","data-token-id":n.id,"data-options-id":n.optionsID},_uo.utility.isDefined(t.options[n.optionsID])&&t.options[n.optionsID].isValid&&(o.class+=" item-title__token--filled"),_uo.utility.isDefined(n.originalText)){var c=document.createElement("span");if(c.innerText=a,a=c.innerText,new RegExp("{{(.*?)}}","gi").test(a)){_uo.utility.isDefined(h)||(h=new C.A(t.itemType,"text",{includeGroupName:!1,itemID:t.id,forceShowBothLoopableAndNonLoopable:!0}));var l={},d=a.split(/\s+/);d.length>6&&(a="".concat(d.slice(0,3).join(" ")," ... ").concat(d.slice(-3).join(" "))),_uo.utility.isDefined(t)&&_uo.utility.isDefined(t.id)&&(l.itemID=t.id);var p=h.renderTextWithTokens(a,l);_uo.utility.isDefined(p)&&(s=!0,u=p)}if(!s){var f=_uo.utility.abbreviateText(a);f.isAbbreviated&&(o["uap-tooltip"]=a,a=f.text)}if(!t.isMissing)try{var m=B(t.id,n.id,t.itemType),y=m.attributes.label;if(s){var g=document.createElement("span");g.appendChild(u),m.attributes.showLabelInSentence&&g.insertAdjacentHTML("afterBegin",'<span class="item-title__token-label">'.concat(y,": </span>")),u=g}else a="".concat(m.attributes.showLabelInSentence?'<span class="item-title__token-label">'.concat(y,":</span>"):""," ").concat(_uo.utility.isEmpty(a)?'<em class="uap-empty-value">'.concat(_uo.utility.escHTML(wp.i18n.__("(empty)","uncanny-automator")),"</em>"):a).trim()}catch(t){}}i.brackets+="{{".concat(_uo.utility.htmlEntities.decode(a),"}}")}var _=r()("<span/>",o);s?_.append(u):_.html(a),i.elements[n.type].push(_),i.html.append(_)}else i.brackets+=n.text})),i.elements.normal=r()(i.elements.normal).map((function(t,e){return e.get()})),i.elements.token=r()(i.elements.token).map((function(t,e){return e.get()})).filter(":not(.item-title__normal)")}return i},Z=function(t,e){return Array.isArray(t)?t.every((function(t){return e.includes(t)})):e.includes(t)},X=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(t=t.replace(/{{/g,e)).replace(/}}/g,n)},J=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=r().extend(!0,{title:_uo.utility.escHTML(wp.i18n.__("Sorry, something went wrong","uncanny-automator")),warning:"",content:_uo.utility.escHTML(wp.i18n.__('Click "Learn more" for steps you can take to resolve this issue.',"uncanny-automator")),console:null,buttons:{confirm:{label:_uo.utility.escHTML(wp.i18n.__("Learn more","uncanny-automator")),onClick:function(){window.open(UncannyAutomator._site.automator.links.debugging_guide,"_blank")}},cancel:{label:_uo.utility.escHTML(wp.i18n._x("Close","Verb","uncanny-automator")),onClick:function(t){t.destroy()}}}},t);var e,n="";try{r().each(UncannyAutomator.recipes_object,(function(t,n){n.ID==UncannyAutomator._recipe.recipe_id&&(e=n)}))}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}try{var i="====== Recipe ====== \n",o="User";"anonymous"==e.recipe_type&&(o="Everyone"),i+="Type: ".concat(o);var a="Draft";"publish"==e.post_status&&(a="Live"),n=i+="\nStatus: ".concat(a)}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}try{var s="=== Recipe items === \n",u=function(t){var e="publish"==t.post_status?"Live":"Draft";return"> ".concat(t.meta.integration," - ").concat(t.meta.code," - ").concat(e,"\n  (").concat(t.meta.sentence.replace(/\{\{|\:[a-zA-Z0-9]*\}\}/g,""),")\n  ").concat(JSON.stringify(t).replaceAll("<","&lt;").replaceAll(">","&gt;"),"\n")},c=e.triggers.map(u),l=c.length>0,d=e.actions.map(u),p=d.length>0,f=e.closures.map(u),h=f.length>0;l||p||h?(s+="Triggers\n\n",s+=l?c.join("\n"):"> No triggers",s+="\nActions\n\n",s+=p?d.join("\n"):"> No actions",s+="\nClosures\n\n",s+=h?f.join("\n"):"> No closures"):s+="Recipe without items",n=""!==n?"".concat(n,"\n\n").concat(s):n}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}try{if(_uo.utility.isDefined(t.console)){UncannyAutomator._site.has_debug_enabled&&console.error(t.console);var m="====== JS console ====== \n";m+=t.console.stack||t.console,n=""!==n?"".concat(n,"\n\n").concat(m):n}}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}try{n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}var y={};_uo.utility.isDefined(t.buttons.cancel)&&(y.cancel=t.buttons.cancel.label),_uo.utility.isDefined(t.buttons.confirm)&&(y.confirm=t.buttons.confirm.label);var g=new x.A({title:'<span class="modal__title-icon"><uo-icon id="triangle-exclamation"></uo-icon></span> '.concat(t.title),warning:"".concat(t.warning),content:"\n\t\t\t<div>\n\t\t\t\t".concat(_uo.utility.isEmpty(t.content)?"":t.content,'\n\t\t\t\t<div class="modal__content-code">\n\t\t\t\t\t<pre id="uap-debugging">').concat(n,"</pre>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"),buttons:y},{size:"extra-large",warningFirst:!0});g.setEvents({onConfirm:function(){t.buttons.confirm.onClick(g)},onCancel:function(){t.buttons.cancel.onClick(g)},afterSetEvents:function(){var t=r()("#uap-debugging");t.on("click",(function(){var e=document.createRange();e.selectNodeContents(t[0]),window.getSelection().removeAllRanges(),window.getSelection().addRange(e)}))}})},Q=function(t){Object.assign(document.createElement("a"),{target:"_blank",href:t}).click()},tt=function(t){var e="automator_custom_value";if(t===e)return!0;if(Array.isArray(t)&&t.includes(e))return!0;if("string"==typeof t)try{var n=JSON.parse(t);if(Array.isArray(n)&&n.includes(e))return!0}catch(t){}return!1}},5571:(t,e,n)=>{"use strict";n.d(e,{s:()=>o,_:()=>i});const i={user:{id:"user",name:_uo.utility.escHTML(wp.i18n.__("Logged-in users","uncanny-automator")),description:_uo.utility.escHTML(wp.i18n.__("Recipe will be triggered by logged-in WordPress users.","uncanny-automator"))},anonymous:{id:"anonymous",name:_uo.utility.escHTML(wp.i18n.__("Everyone","uncanny-automator")),description:_uo.utility.escHTML(wp.i18n.__("Recipe will be triggered by logged-in WordPress users or logged out visitors.","uncanny-automator"))}},o=["select","textarea","text","url","email","int","float","checkbox","radio","date","time","repeater","file"]},127:(t,e,n)=>{"use strict";n.d(e,{A:()=>zt});var i=n(4467),o=n(3029),r=n(2901),a=n(1669),s=n.n(a),u=(n(3077),["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"]),c={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:"object"==typeof window&&-1===window.navigator.userAgent.indexOf("MSIE"),ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(t){return"undefined"!=typeof console&&console.warn(t)},getWeek:function(t){var e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var n=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},l={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var e=t%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1};const d=l;var p=function(t,e){return void 0===e&&(e=2),("000"+t).slice(-1*e)},f=function(t){return!0===t?1:0};function h(t,e){var n;return function(){var i=this,o=arguments;clearTimeout(n),n=setTimeout((function(){return t.apply(i,o)}),e)}}var m=function(t){return t instanceof Array?t:[t]};function y(t,e,n){if(!0===n)return t.classList.add(e);t.classList.remove(e)}function g(t,e,n){var i=window.document.createElement(t);return e=e||"",n=n||"",i.className=e,void 0!==n&&(i.textContent=n),i}function _(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function v(t,e){return e(t)?t:t.parentNode?v(t.parentNode,e):void 0}function b(t,e){var n=g("div","numInputWrapper"),i=g("input","numInput "+t),o=g("span","arrowUp"),r=g("span","arrowDown");if(-1===navigator.userAgent.indexOf("MSIE 9.0")?i.type="number":(i.type="text",i.pattern="\\d*"),void 0!==e)for(var a in e)i.setAttribute(a,e[a]);return n.appendChild(i),n.appendChild(o),n.appendChild(r),n}function w(t){try{return"function"==typeof t.composedPath?t.composedPath()[0]:t.target}catch(e){return t.target}}var A=function(){},k=function(t,e,n){return n.months[e?"shorthand":"longhand"][t]},T={D:A,F:function(t,e,n){t.setMonth(n.months.longhand.indexOf(e))},G:function(t,e){t.setHours((t.getHours()>=12?12:0)+parseFloat(e))},H:function(t,e){t.setHours(parseFloat(e))},J:function(t,e){t.setDate(parseFloat(e))},K:function(t,e,n){t.setHours(t.getHours()%12+12*f(new RegExp(n.amPM[1],"i").test(e)))},M:function(t,e,n){t.setMonth(n.months.shorthand.indexOf(e))},S:function(t,e){t.setSeconds(parseFloat(e))},U:function(t,e){return new Date(1e3*parseFloat(e))},W:function(t,e,n){var i=parseInt(e),o=new Date(t.getFullYear(),0,2+7*(i-1),0,0,0,0);return o.setDate(o.getDate()-o.getDay()+n.firstDayOfWeek),o},Y:function(t,e){t.setFullYear(parseFloat(e))},Z:function(t,e){return new Date(e)},d:function(t,e){t.setDate(parseFloat(e))},h:function(t,e){t.setHours((t.getHours()>=12?12:0)+parseFloat(e))},i:function(t,e){t.setMinutes(parseFloat(e))},j:function(t,e){t.setDate(parseFloat(e))},l:A,m:function(t,e){t.setMonth(parseFloat(e)-1)},n:function(t,e){t.setMonth(parseFloat(e)-1)},s:function(t,e){t.setSeconds(parseFloat(e))},u:function(t,e){return new Date(parseFloat(e))},w:A,y:function(t,e){t.setFullYear(2e3+parseFloat(e))}},E={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},D={Z:function(t){return t.toISOString()},D:function(t,e,n){return e.weekdays.shorthand[D.w(t,e,n)]},F:function(t,e,n){return k(D.n(t,e,n)-1,!1,e)},G:function(t,e,n){return p(D.h(t,e,n))},H:function(t){return p(t.getHours())},J:function(t,e){return void 0!==e.ordinal?t.getDate()+e.ordinal(t.getDate()):t.getDate()},K:function(t,e){return e.amPM[f(t.getHours()>11)]},M:function(t,e){return k(t.getMonth(),!0,e)},S:function(t){return p(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,e,n){return n.getWeek(t)},Y:function(t){return p(t.getFullYear(),4)},d:function(t){return p(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return p(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,e){return e.weekdays.longhand[t.getDay()]},m:function(t){return p(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}},M=function(t){var e=t.config,n=void 0===e?c:e,i=t.l10n,o=void 0===i?l:i,r=t.isMobile,a=void 0!==r&&r;return function(t,e,i){var r=i||o;return void 0===n.formatDate||a?e.split("").map((function(e,i,o){return D[e]&&"\\"!==o[i-1]?D[e](t,r,n):"\\"!==e?e:""})).join(""):n.formatDate(t,e,r)}},C=function(t){var e=t.config,n=void 0===e?c:e,i=t.l10n,o=void 0===i?l:i;return function(t,e,i,r){if(0===t||t){var a,s=r||o,u=t;if(t instanceof Date)a=new Date(t.getTime());else if("string"!=typeof t&&void 0!==t.toFixed)a=new Date(t);else if("string"==typeof t){var l=e||(n||c).dateFormat,d=String(t).trim();if("today"===d)a=new Date,i=!0;else if(n&&n.parseDate)a=n.parseDate(t,l);else if(/Z$/.test(d)||/GMT$/.test(d))a=new Date(t);else{for(var p=void 0,f=[],h=0,m=0,y="";h<l.length;h++){var g=l[h],_="\\"===g,v="\\"===l[h-1]||_;if(E[g]&&!v){y+=E[g];var b=new RegExp(y).exec(t);b&&(p=!0)&&f["Y"!==g?"push":"unshift"]({fn:T[g],val:b[++m]})}else _||(y+=".")}a=n&&n.noCalendar?new Date((new Date).setHours(0,0,0,0)):new Date((new Date).getFullYear(),0,1,0,0,0,0),f.forEach((function(t){var e=t.fn,n=t.val;return a=e(a,n,s)||a})),a=p?a:void 0}}if(a instanceof Date&&!isNaN(a.getTime()))return!0===i&&a.setHours(0,0,0,0),a;n.errorHandler(new Error("Invalid date provided: "+u))}}};function x(t,e,n){return void 0===n&&(n=!0),!1!==n?new Date(t.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):t.getTime()-e.getTime()}var L=function(t,e,n){return t>Math.min(e,n)&&t<Math.max(e,n)},S=function(t,e,n){return 3600*t+60*e+n},I=function(t){var e=Math.floor(t/3600),n=(t-3600*e)/60;return[e,n,t-3600*e-60*n]},O={DAY:864e5};function j(t){var e=t.defaultHour,n=t.defaultMinute,i=t.defaultSeconds;if(void 0!==t.minDate){var o=t.minDate.getHours(),r=t.minDate.getMinutes(),a=t.minDate.getSeconds();e<o&&(e=o),e===o&&n<r&&(n=r),e===o&&n===r&&i<a&&(i=t.minDate.getSeconds())}if(void 0!==t.maxDate){var s=t.maxDate.getHours(),u=t.maxDate.getMinutes();(e=Math.min(e,s))===s&&(n=Math.min(u,n)),e===s&&n===u&&(i=t.maxDate.getSeconds())}return{hours:e,minutes:n,seconds:i}}n(5990);var U=function(){return U=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},U.apply(this,arguments)},P=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i},H=300;function F(t,e){var n={config:U(U({},c),R.defaultConfig),l10n:d};function i(){var t;return(null===(t=n.calendarContainer)||void 0===t?void 0:t.getRootNode()).activeElement||document.activeElement}function o(t){return t.bind(n)}function r(){var t=n.config;!1===t.weekNumbers&&1===t.showMonths||!0!==t.noCalendar&&window.requestAnimationFrame((function(){if(void 0!==n.calendarContainer&&(n.calendarContainer.style.visibility="hidden",n.calendarContainer.style.display="block"),void 0!==n.daysContainer){var e=(n.days.offsetWidth+1)*t.showMonths;n.daysContainer.style.width=e+"px",n.calendarContainer.style.width=e+(void 0!==n.weekWrapper?n.weekWrapper.offsetWidth:0)+"px",n.calendarContainer.style.removeProperty("visibility"),n.calendarContainer.style.removeProperty("display")}}))}function a(t){if(0===n.selectedDates.length){var e=void 0===n.config.minDate||x(new Date,n.config.minDate)>=0?new Date:new Date(n.config.minDate.getTime()),i=j(n.config);e.setHours(i.hours,i.minutes,i.seconds,e.getMilliseconds()),n.selectedDates=[e],n.latestSelectedDateObj=e}void 0!==t&&"blur"!==t.type&&function(t){t.preventDefault();var e="keydown"===t.type,i=w(t),o=i;void 0!==n.amPM&&i===n.amPM&&(n.amPM.textContent=n.l10n.amPM[f(n.amPM.textContent===n.l10n.amPM[0])]);var r=parseFloat(o.getAttribute("min")),a=parseFloat(o.getAttribute("max")),s=parseFloat(o.getAttribute("step")),u=parseInt(o.value,10),c=u+s*(t.delta||(e?38===t.which?1:-1:0));if(void 0!==o.value&&2===o.value.length){var l=o===n.hourElement,d=o===n.minuteElement;c<r?(c=a+c+f(!l)+(f(l)&&f(!n.amPM)),d&&V(void 0,-1,n.hourElement)):c>a&&(c=o===n.hourElement?c-a-f(!n.amPM):r,d&&V(void 0,1,n.hourElement)),n.amPM&&l&&(1===s?c+u===23:Math.abs(c-u)>s)&&(n.amPM.textContent=n.l10n.amPM[f(n.amPM.textContent===n.l10n.amPM[0])]),o.value=p(c)}}(t);var o=n._input.value;s(),Dt(),n._input.value!==o&&n._debouncedChange()}function s(){if(void 0!==n.hourElement&&void 0!==n.minuteElement){var t,e,i=(parseInt(n.hourElement.value.slice(-2),10)||0)%24,o=(parseInt(n.minuteElement.value,10)||0)%60,r=void 0!==n.secondElement?(parseInt(n.secondElement.value,10)||0)%60:0;void 0!==n.amPM&&(t=i,e=n.amPM.textContent,i=t%12+12*f(e===n.l10n.amPM[1]));var a=void 0!==n.config.minTime||n.config.minDate&&n.minDateHasTime&&n.latestSelectedDateObj&&0===x(n.latestSelectedDateObj,n.config.minDate,!0),s=void 0!==n.config.maxTime||n.config.maxDate&&n.maxDateHasTime&&n.latestSelectedDateObj&&0===x(n.latestSelectedDateObj,n.config.maxDate,!0);if(void 0!==n.config.maxTime&&void 0!==n.config.minTime&&n.config.minTime>n.config.maxTime){var u=S(n.config.minTime.getHours(),n.config.minTime.getMinutes(),n.config.minTime.getSeconds()),c=S(n.config.maxTime.getHours(),n.config.maxTime.getMinutes(),n.config.maxTime.getSeconds()),l=S(i,o,r);if(l>c&&l<u){var d=I(u);i=d[0],o=d[1],r=d[2]}}else{if(s){var p=void 0!==n.config.maxTime?n.config.maxTime:n.config.maxDate;(i=Math.min(i,p.getHours()))===p.getHours()&&(o=Math.min(o,p.getMinutes())),o===p.getMinutes()&&(r=Math.min(r,p.getSeconds()))}if(a){var h=void 0!==n.config.minTime?n.config.minTime:n.config.minDate;(i=Math.max(i,h.getHours()))===h.getHours()&&o<h.getMinutes()&&(o=h.getMinutes()),o===h.getMinutes()&&(r=Math.max(r,h.getSeconds()))}}A(i,o,r)}}function l(t){var e=t||n.latestSelectedDateObj;e&&e instanceof Date&&A(e.getHours(),e.getMinutes(),e.getSeconds())}function A(t,e,i){void 0!==n.latestSelectedDateObj&&n.latestSelectedDateObj.setHours(t%24,e,i||0,0),n.hourElement&&n.minuteElement&&!n.isMobile&&(n.hourElement.value=p(n.config.time_24hr?t:(12+t)%12+12*f(t%12==0)),n.minuteElement.value=p(e),void 0!==n.amPM&&(n.amPM.textContent=n.l10n.amPM[f(t>=12)]),void 0!==n.secondElement&&(n.secondElement.value=p(i)))}function T(t){var e=w(t),n=parseInt(e.value)+(t.delta||0);(n/1e3>1||"Enter"===t.key&&!/[^\d]/.test(n.toString()))&&it(n)}function D(t,e,i,o){return e instanceof Array?e.forEach((function(e){return D(t,e,i,o)})):t instanceof Array?t.forEach((function(t){return D(t,e,i,o)})):(t.addEventListener(e,i,o),void n._handlers.push({remove:function(){return t.removeEventListener(e,i,o)}}))}function F(){wt("onChange")}function $(t,e){var i=void 0!==t?n.parseDate(t):n.latestSelectedDateObj||(n.config.minDate&&n.config.minDate>n.now?n.config.minDate:n.config.maxDate&&n.config.maxDate<n.now?n.config.maxDate:n.now),o=n.currentYear,r=n.currentMonth;try{void 0!==i&&(n.currentYear=i.getFullYear(),n.currentMonth=i.getMonth())}catch(t){t.message="Invalid date supplied: "+i,n.config.errorHandler(t)}e&&n.currentYear!==o&&(wt("onYearChange"),K()),!e||n.currentYear===o&&n.currentMonth===r||wt("onMonthChange"),n.redraw()}function q(t){var e=w(t);~e.className.indexOf("arrow")&&V(t,e.classList.contains("arrowUp")?1:-1)}function V(t,e,n){var i=t&&w(t),o=n||i&&i.parentNode&&i.parentNode.firstChild,r=At("increment");r.delta=e,o&&o.dispatchEvent(r)}function N(t,e,i,o){var r=ot(e,!0),a=g("span",t,e.getDate().toString());return a.dateObj=e,a.$i=o,a.setAttribute("aria-label",n.formatDate(e,n.config.ariaDateFormat)),-1===t.indexOf("hidden")&&0===x(e,n.now)&&(n.todayDateElem=a,a.classList.add("today"),a.setAttribute("aria-current","date")),r?(a.tabIndex=-1,kt(e)&&(a.classList.add("selected"),n.selectedDateElem=a,"range"===n.config.mode&&(y(a,"startRange",n.selectedDates[0]&&0===x(e,n.selectedDates[0],!0)),y(a,"endRange",n.selectedDates[1]&&0===x(e,n.selectedDates[1],!0)),"nextMonthDay"===t&&a.classList.add("inRange")))):a.classList.add("flatpickr-disabled"),"range"===n.config.mode&&function(t){return!("range"!==n.config.mode||n.selectedDates.length<2)&&x(t,n.selectedDates[0])>=0&&x(t,n.selectedDates[1])<=0}(e)&&!kt(e)&&a.classList.add("inRange"),n.weekNumbers&&1===n.config.showMonths&&"prevMonthDay"!==t&&o%7==6&&n.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+n.config.getWeek(e)+"</span>"),wt("onDayCreate",a),a}function W(t){t.focus(),"range"===n.config.mode&&ut(t)}function B(t){for(var e=t>0?0:n.config.showMonths-1,i=t>0?n.config.showMonths:-1,o=e;o!=i;o+=t)for(var r=n.daysContainer.children[o],a=t>0?0:r.children.length-1,s=t>0?r.children.length:-1,u=a;u!=s;u+=t){var c=r.children[u];if(-1===c.className.indexOf("hidden")&&ot(c.dateObj))return c}}function z(t,e){var o=i(),r=rt(o||document.body),a=void 0!==t?t:r?o:void 0!==n.selectedDateElem&&rt(n.selectedDateElem)?n.selectedDateElem:void 0!==n.todayDateElem&&rt(n.todayDateElem)?n.todayDateElem:B(e>0?1:-1);void 0===a?n._input.focus():r?function(t,e){for(var i=-1===t.className.indexOf("Month")?t.dateObj.getMonth():n.currentMonth,o=e>0?n.config.showMonths:-1,r=e>0?1:-1,a=i-n.currentMonth;a!=o;a+=r)for(var s=n.daysContainer.children[a],u=i-n.currentMonth===a?t.$i+e:e<0?s.children.length-1:0,c=s.children.length,l=u;l>=0&&l<c&&l!=(e>0?c:-1);l+=r){var d=s.children[l];if(-1===d.className.indexOf("hidden")&&ot(d.dateObj)&&Math.abs(t.$i-l)>=Math.abs(e))return W(d)}n.changeMonth(r),z(B(r),0)}(a,e):W(a)}function G(t,e){for(var i=(new Date(t,e,1).getDay()-n.l10n.firstDayOfWeek+7)%7,o=n.utils.getDaysInMonth((e-1+12)%12,t),r=n.utils.getDaysInMonth(e,t),a=window.document.createDocumentFragment(),s=n.config.showMonths>1,u=s?"prevMonthDay hidden":"prevMonthDay",c=s?"nextMonthDay hidden":"nextMonthDay",l=o+1-i,d=0;l<=o;l++,d++)a.appendChild(N("flatpickr-day "+u,new Date(t,e-1,l),0,d));for(l=1;l<=r;l++,d++)a.appendChild(N("flatpickr-day",new Date(t,e,l),0,d));for(var p=r+1;p<=42-i&&(1===n.config.showMonths||d%7!=0);p++,d++)a.appendChild(N("flatpickr-day "+c,new Date(t,e+1,p%r),0,d));var f=g("div","dayContainer");return f.appendChild(a),f}function Y(){if(void 0!==n.daysContainer){_(n.daysContainer),n.weekNumbers&&_(n.weekNumbers);for(var t=document.createDocumentFragment(),e=0;e<n.config.showMonths;e++){var i=new Date(n.currentYear,n.currentMonth,1);i.setMonth(n.currentMonth+e),t.appendChild(G(i.getFullYear(),i.getMonth()))}n.daysContainer.appendChild(t),n.days=n.daysContainer.firstChild,"range"===n.config.mode&&1===n.selectedDates.length&&ut()}}function K(){if(!(n.config.showMonths>1||"dropdown"!==n.config.monthSelectorType)){var t=function(t){return!(void 0!==n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&t<n.config.minDate.getMonth()||void 0!==n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()&&t>n.config.maxDate.getMonth())};n.monthsDropdownContainer.tabIndex=-1,n.monthsDropdownContainer.innerHTML="";for(var e=0;e<12;e++)if(t(e)){var i=g("option","flatpickr-monthDropdown-month");i.value=new Date(n.currentYear,e).getMonth().toString(),i.textContent=k(e,n.config.shorthandCurrentMonth,n.l10n),i.tabIndex=-1,n.currentMonth===e&&(i.selected=!0),n.monthsDropdownContainer.appendChild(i)}}}function Z(){var t,e=g("div","flatpickr-month"),i=window.document.createDocumentFragment();n.config.showMonths>1||"static"===n.config.monthSelectorType?t=g("span","cur-month"):(n.monthsDropdownContainer=g("select","flatpickr-monthDropdown-months"),n.monthsDropdownContainer.setAttribute("aria-label",n.l10n.monthAriaLabel),D(n.monthsDropdownContainer,"change",(function(t){var e=w(t),i=parseInt(e.value,10);n.changeMonth(i-n.currentMonth),wt("onMonthChange")})),K(),t=n.monthsDropdownContainer);var o=b("cur-year",{tabindex:"-1"}),r=o.getElementsByTagName("input")[0];r.setAttribute("aria-label",n.l10n.yearAriaLabel),n.config.minDate&&r.setAttribute("min",n.config.minDate.getFullYear().toString()),n.config.maxDate&&(r.setAttribute("max",n.config.maxDate.getFullYear().toString()),r.disabled=!!n.config.minDate&&n.config.minDate.getFullYear()===n.config.maxDate.getFullYear());var a=g("div","flatpickr-current-month");return a.appendChild(t),a.appendChild(o),i.appendChild(a),e.appendChild(i),{container:e,yearElement:r,monthElement:t}}function X(){_(n.monthNav),n.monthNav.appendChild(n.prevMonthNav),n.config.showMonths&&(n.yearElements=[],n.monthElements=[]);for(var t=n.config.showMonths;t--;){var e=Z();n.yearElements.push(e.yearElement),n.monthElements.push(e.monthElement),n.monthNav.appendChild(e.container)}n.monthNav.appendChild(n.nextMonthNav)}function J(){n.weekdayContainer?_(n.weekdayContainer):n.weekdayContainer=g("div","flatpickr-weekdays");for(var t=n.config.showMonths;t--;){var e=g("div","flatpickr-weekdaycontainer");n.weekdayContainer.appendChild(e)}return Q(),n.weekdayContainer}function Q(){if(n.weekdayContainer){var t=n.l10n.firstDayOfWeek,e=P(n.l10n.weekdays.shorthand);t>0&&t<e.length&&(e=P(e.splice(t,e.length),e.splice(0,t)));for(var i=n.config.showMonths;i--;)n.weekdayContainer.children[i].innerHTML="\n      <span class='flatpickr-weekday'>\n        "+e.join("</span><span class='flatpickr-weekday'>")+"\n      </span>\n      "}}function tt(t,e){void 0===e&&(e=!0);var i=e?t:t-n.currentMonth;i<0&&!0===n._hidePrevMonthArrow||i>0&&!0===n._hideNextMonthArrow||(n.currentMonth+=i,(n.currentMonth<0||n.currentMonth>11)&&(n.currentYear+=n.currentMonth>11?1:-1,n.currentMonth=(n.currentMonth+12)%12,wt("onYearChange"),K()),Y(),wt("onMonthChange"),Tt())}function et(t){return n.calendarContainer.contains(t)}function nt(t){if(n.isOpen&&!n.config.inline){var e=w(t),i=et(e),o=!(e===n.input||e===n.altInput||n.element.contains(e)||t.path&&t.path.indexOf&&(~t.path.indexOf(n.input)||~t.path.indexOf(n.altInput))||i||et(t.relatedTarget)),r=!n.config.ignoredFocusElements.some((function(t){return t.contains(e)}));o&&r&&(n.config.allowInput&&n.setDate(n._input.value,!1,n.config.altInput?n.config.altFormat:n.config.dateFormat),void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement&&""!==n.input.value&&void 0!==n.input.value&&a(),n.close(),n.config&&"range"===n.config.mode&&1===n.selectedDates.length&&n.clear(!1))}}function it(t){if(!(!t||n.config.minDate&&t<n.config.minDate.getFullYear()||n.config.maxDate&&t>n.config.maxDate.getFullYear())){var e=t,i=n.currentYear!==e;n.currentYear=e||n.currentYear,n.config.maxDate&&n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth=Math.min(n.config.maxDate.getMonth(),n.currentMonth):n.config.minDate&&n.currentYear===n.config.minDate.getFullYear()&&(n.currentMonth=Math.max(n.config.minDate.getMonth(),n.currentMonth)),i&&(n.redraw(),wt("onYearChange"),K())}}function ot(t,e){var i;void 0===e&&(e=!0);var o=n.parseDate(t,void 0,e);if(n.config.minDate&&o&&x(o,n.config.minDate,void 0!==e?e:!n.minDateHasTime)<0||n.config.maxDate&&o&&x(o,n.config.maxDate,void 0!==e?e:!n.maxDateHasTime)>0)return!1;if(!n.config.enable&&0===n.config.disable.length)return!0;if(void 0===o)return!1;for(var r=!!n.config.enable,a=null!==(i=n.config.enable)&&void 0!==i?i:n.config.disable,s=0,u=void 0;s<a.length;s++){if("function"==typeof(u=a[s])&&u(o))return r;if(u instanceof Date&&void 0!==o&&u.getTime()===o.getTime())return r;if("string"==typeof u){var c=n.parseDate(u,void 0,!0);return c&&c.getTime()===o.getTime()?r:!r}if("object"==typeof u&&void 0!==o&&u.from&&u.to&&o.getTime()>=u.from.getTime()&&o.getTime()<=u.to.getTime())return r}return!r}function rt(t){return void 0!==n.daysContainer&&-1===t.className.indexOf("hidden")&&-1===t.className.indexOf("flatpickr-disabled")&&n.daysContainer.contains(t)}function at(t){var e=t.target===n._input,i=n._input.value.trimEnd()!==Et();!e||!i||t.relatedTarget&&et(t.relatedTarget)||n.setDate(n._input.value,!0,t.target===n.altInput?n.config.altFormat:n.config.dateFormat)}function st(e){var o=w(e),r=n.config.wrap?t.contains(o):o===n._input,u=n.config.allowInput,c=n.isOpen&&(!u||!r),l=n.config.inline&&r&&!u;if(13===e.keyCode&&r){if(u)return n.setDate(n._input.value,!0,o===n.altInput?n.config.altFormat:n.config.dateFormat),n.close(),o.blur();n.open()}else if(et(o)||c||l){var d=!!n.timeContainer&&n.timeContainer.contains(o);switch(e.keyCode){case 13:d?(e.preventDefault(),a(),mt()):yt(e);break;case 27:e.preventDefault(),mt();break;case 8:case 46:r&&!n.config.allowInput&&(e.preventDefault(),n.clear());break;case 37:case 39:if(d||r)n.hourElement&&n.hourElement.focus();else{e.preventDefault();var p=i();if(void 0!==n.daysContainer&&(!1===u||p&&rt(p))){var f=39===e.keyCode?1:-1;e.ctrlKey?(e.stopPropagation(),tt(f),z(B(1),0)):z(void 0,f)}}break;case 38:case 40:e.preventDefault();var h=40===e.keyCode?1:-1;n.daysContainer&&void 0!==o.$i||o===n.input||o===n.altInput?e.ctrlKey?(e.stopPropagation(),it(n.currentYear-h),z(B(1),0)):d||z(void 0,7*h):o===n.currentYearElement?it(n.currentYear-h):n.config.enableTime&&(!d&&n.hourElement&&n.hourElement.focus(),a(e),n._debouncedChange());break;case 9:if(d){var m=[n.hourElement,n.minuteElement,n.secondElement,n.amPM].concat(n.pluginElements).filter((function(t){return t})),y=m.indexOf(o);if(-1!==y){var g=m[y+(e.shiftKey?-1:1)];e.preventDefault(),(g||n._input).focus()}}else!n.config.noCalendar&&n.daysContainer&&n.daysContainer.contains(o)&&e.shiftKey&&(e.preventDefault(),n._input.focus())}}if(void 0!==n.amPM&&o===n.amPM)switch(e.key){case n.l10n.amPM[0].charAt(0):case n.l10n.amPM[0].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[0],s(),Dt();break;case n.l10n.amPM[1].charAt(0):case n.l10n.amPM[1].charAt(0).toLowerCase():n.amPM.textContent=n.l10n.amPM[1],s(),Dt()}(r||et(o))&&wt("onKeyDown",e)}function ut(t,e){if(void 0===e&&(e="flatpickr-day"),1===n.selectedDates.length&&(!t||t.classList.contains(e)&&!t.classList.contains("flatpickr-disabled"))){for(var i=t?t.dateObj.getTime():n.days.firstElementChild.dateObj.getTime(),o=n.parseDate(n.selectedDates[0],void 0,!0).getTime(),r=Math.min(i,n.selectedDates[0].getTime()),a=Math.max(i,n.selectedDates[0].getTime()),s=!1,u=0,c=0,l=r;l<a;l+=O.DAY)ot(new Date(l),!0)||(s=s||l>r&&l<a,l<o&&(!u||l>u)?u=l:l>o&&(!c||l<c)&&(c=l));Array.from(n.rContainer.querySelectorAll("*:nth-child(-n+"+n.config.showMonths+") > ."+e)).forEach((function(e){var r=e.dateObj.getTime(),a=u>0&&r<u||c>0&&r>c;if(a)return e.classList.add("notAllowed"),void["inRange","startRange","endRange"].forEach((function(t){e.classList.remove(t)}));s&&!a||(["startRange","inRange","endRange","notAllowed"].forEach((function(t){e.classList.remove(t)})),void 0!==t&&(t.classList.add(i<=n.selectedDates[0].getTime()?"startRange":"endRange"),o<i&&r===o?e.classList.add("startRange"):o>i&&r===o&&e.classList.add("endRange"),r>=u&&(0===c||r<=c)&&L(r,o,i)&&e.classList.add("inRange")))}))}}function ct(){!n.isOpen||n.config.static||n.config.inline||ft()}function lt(t){return function(e){var i=n.config["_"+t+"Date"]=n.parseDate(e,n.config.dateFormat),o=n.config["_"+("min"===t?"max":"min")+"Date"];void 0!==i&&(n["min"===t?"minDateHasTime":"maxDateHasTime"]=i.getHours()>0||i.getMinutes()>0||i.getSeconds()>0),n.selectedDates&&(n.selectedDates=n.selectedDates.filter((function(t){return ot(t)})),n.selectedDates.length||"min"!==t||l(i),Dt()),n.daysContainer&&(ht(),void 0!==i?n.currentYearElement[t]=i.getFullYear().toString():n.currentYearElement.removeAttribute(t),n.currentYearElement.disabled=!!o&&void 0!==i&&o.getFullYear()===i.getFullYear())}}function dt(){return n.config.wrap?t.querySelector("[data-input]"):t}function pt(){"object"!=typeof n.config.locale&&void 0===R.l10ns[n.config.locale]&&n.config.errorHandler(new Error("flatpickr: invalid locale "+n.config.locale)),n.l10n=U(U({},R.l10ns.default),"object"==typeof n.config.locale?n.config.locale:"default"!==n.config.locale?R.l10ns[n.config.locale]:void 0),E.D="("+n.l10n.weekdays.shorthand.join("|")+")",E.l="("+n.l10n.weekdays.longhand.join("|")+")",E.M="("+n.l10n.months.shorthand.join("|")+")",E.F="("+n.l10n.months.longhand.join("|")+")",E.K="("+n.l10n.amPM[0]+"|"+n.l10n.amPM[1]+"|"+n.l10n.amPM[0].toLowerCase()+"|"+n.l10n.amPM[1].toLowerCase()+")",void 0===U(U({},e),JSON.parse(JSON.stringify(t.dataset||{}))).time_24hr&&void 0===R.defaultConfig.time_24hr&&(n.config.time_24hr=n.l10n.time_24hr),n.formatDate=M(n),n.parseDate=C({config:n.config,l10n:n.l10n})}function ft(t){if("function"!=typeof n.config.position){if(void 0!==n.calendarContainer){wt("onPreCalendarPosition");var e=t||n._positionElement,i=Array.prototype.reduce.call(n.calendarContainer.children,(function(t,e){return t+e.offsetHeight}),0),o=n.calendarContainer.offsetWidth,r=n.config.position.split(" "),a=r[0],s=r.length>1?r[1]:null,u=e.getBoundingClientRect(),c=window.innerHeight-u.bottom,l="above"===a||"below"!==a&&c<i&&u.top>i,d=window.pageYOffset+u.top+(l?-i-2:e.offsetHeight+2);if(y(n.calendarContainer,"arrowTop",!l),y(n.calendarContainer,"arrowBottom",l),!n.config.inline){var p=window.pageXOffset+u.left,f=!1,h=!1;"center"===s?(p-=(o-u.width)/2,f=!0):"right"===s&&(p-=o-u.width,h=!0),y(n.calendarContainer,"arrowLeft",!f&&!h),y(n.calendarContainer,"arrowCenter",f),y(n.calendarContainer,"arrowRight",h);var m=window.document.body.offsetWidth-(window.pageXOffset+u.right),g=p+o>window.document.body.offsetWidth,_=m+o>window.document.body.offsetWidth;if(y(n.calendarContainer,"rightMost",g),!n.config.static)if(n.calendarContainer.style.top=d+"px",g)if(_){var v=function(){for(var t=null,e=0;e<document.styleSheets.length;e++){var n=document.styleSheets[e];if(n.cssRules){try{n.cssRules}catch(t){continue}t=n;break}}return null!=t?t:(i=document.createElement("style"),document.head.appendChild(i),i.sheet);var i}();if(void 0===v)return;var b=window.document.body.offsetWidth,w=Math.max(0,b/2-o/2),A=v.cssRules.length,k="{left:"+u.left+"px;right:auto;}";y(n.calendarContainer,"rightMost",!1),y(n.calendarContainer,"centerMost",!0),v.insertRule(".flatpickr-calendar.centerMost:before,.flatpickr-calendar.centerMost:after"+k,A),n.calendarContainer.style.left=w+"px",n.calendarContainer.style.right="auto"}else n.calendarContainer.style.left="auto",n.calendarContainer.style.right=m+"px";else n.calendarContainer.style.left=p+"px",n.calendarContainer.style.right="auto"}}}else n.config.position(n,t)}function ht(){n.config.noCalendar||n.isMobile||(K(),Tt(),Y())}function mt(){n._input.focus(),-1!==window.navigator.userAgent.indexOf("MSIE")||void 0!==navigator.msMaxTouchPoints?setTimeout(n.close,0):n.close()}function yt(t){t.preventDefault(),t.stopPropagation();var e=v(w(t),(function(t){return t.classList&&t.classList.contains("flatpickr-day")&&!t.classList.contains("flatpickr-disabled")&&!t.classList.contains("notAllowed")}));if(void 0!==e){var i=e,o=n.latestSelectedDateObj=new Date(i.dateObj.getTime()),r=(o.getMonth()<n.currentMonth||o.getMonth()>n.currentMonth+n.config.showMonths-1)&&"range"!==n.config.mode;if(n.selectedDateElem=i,"single"===n.config.mode)n.selectedDates=[o];else if("multiple"===n.config.mode){var a=kt(o);a?n.selectedDates.splice(parseInt(a),1):n.selectedDates.push(o)}else"range"===n.config.mode&&(2===n.selectedDates.length&&n.clear(!1,!1),n.latestSelectedDateObj=o,n.selectedDates.push(o),0!==x(o,n.selectedDates[0],!0)&&n.selectedDates.sort((function(t,e){return t.getTime()-e.getTime()})));if(s(),r){var u=n.currentYear!==o.getFullYear();n.currentYear=o.getFullYear(),n.currentMonth=o.getMonth(),u&&(wt("onYearChange"),K()),wt("onMonthChange")}if(Tt(),Y(),Dt(),r||"range"===n.config.mode||1!==n.config.showMonths?void 0!==n.selectedDateElem&&void 0===n.hourElement&&n.selectedDateElem&&n.selectedDateElem.focus():W(i),void 0!==n.hourElement&&void 0!==n.hourElement&&n.hourElement.focus(),n.config.closeOnSelect){var c="single"===n.config.mode&&!n.config.enableTime,l="range"===n.config.mode&&2===n.selectedDates.length&&!n.config.enableTime;(c||l)&&mt()}F()}}n.parseDate=C({config:n.config,l10n:n.l10n}),n._handlers=[],n.pluginElements=[],n.loadedPlugins=[],n._bind=D,n._setHoursFromDate=l,n._positionCalendar=ft,n.changeMonth=tt,n.changeYear=it,n.clear=function(t,e){if(void 0===t&&(t=!0),void 0===e&&(e=!0),n.input.value="",void 0!==n.altInput&&(n.altInput.value=""),void 0!==n.mobileInput&&(n.mobileInput.value=""),n.selectedDates=[],n.latestSelectedDateObj=void 0,!0===e&&(n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth()),!0===n.config.enableTime){var i=j(n.config);A(i.hours,i.minutes,i.seconds)}n.redraw(),t&&wt("onChange")},n.close=function(){n.isOpen=!1,n.isMobile||(void 0!==n.calendarContainer&&n.calendarContainer.classList.remove("open"),void 0!==n._input&&n._input.classList.remove("active")),wt("onClose")},n.onMouseOver=ut,n._createElement=g,n.createDay=N,n.destroy=function(){void 0!==n.config&&wt("onDestroy");for(var t=n._handlers.length;t--;)n._handlers[t].remove();if(n._handlers=[],n.mobileInput)n.mobileInput.parentNode&&n.mobileInput.parentNode.removeChild(n.mobileInput),n.mobileInput=void 0;else if(n.calendarContainer&&n.calendarContainer.parentNode)if(n.config.static&&n.calendarContainer.parentNode){var e=n.calendarContainer.parentNode;if(e.lastChild&&e.removeChild(e.lastChild),e.parentNode){for(;e.firstChild;)e.parentNode.insertBefore(e.firstChild,e);e.parentNode.removeChild(e)}}else n.calendarContainer.parentNode.removeChild(n.calendarContainer);n.altInput&&(n.input.type="text",n.altInput.parentNode&&n.altInput.parentNode.removeChild(n.altInput),delete n.altInput),n.input&&(n.input.type=n.input._type,n.input.classList.remove("flatpickr-input"),n.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach((function(t){try{delete n[t]}catch(t){}}))},n.isEnabled=ot,n.jumpToDate=$,n.updateValue=Dt,n.open=function(t,e){if(void 0===e&&(e=n._positionElement),!0===n.isMobile){if(t){t.preventDefault();var i=w(t);i&&i.blur()}return void 0!==n.mobileInput&&(n.mobileInput.focus(),n.mobileInput.click()),void wt("onOpen")}if(!n._input.disabled&&!n.config.inline){var o=n.isOpen;n.isOpen=!0,o||(n.calendarContainer.classList.add("open"),n._input.classList.add("active"),wt("onOpen"),ft(e)),!0===n.config.enableTime&&!0===n.config.noCalendar&&(!1!==n.config.allowInput||void 0!==t&&n.timeContainer.contains(t.relatedTarget)||setTimeout((function(){return n.hourElement.select()}),50))}},n.redraw=ht,n.set=function(t,e){if(null!==t&&"object"==typeof t)for(var i in Object.assign(n.config,t),t)void 0!==gt[i]&&gt[i].forEach((function(t){return t()}));else n.config[t]=e,void 0!==gt[t]?gt[t].forEach((function(t){return t()})):u.indexOf(t)>-1&&(n.config[t]=m(e));n.redraw(),Dt(!0)},n.setDate=function(t,e,i){if(void 0===e&&(e=!1),void 0===i&&(i=n.config.dateFormat),0!==t&&!t||t instanceof Array&&0===t.length)return n.clear(e);_t(t,i),n.latestSelectedDateObj=n.selectedDates[n.selectedDates.length-1],n.redraw(),$(void 0,e),l(),0===n.selectedDates.length&&n.clear(!1),Dt(e),e&&wt("onChange")},n.toggle=function(t){if(!0===n.isOpen)return n.close();n.open(t)};var gt={locale:[pt,Q],showMonths:[X,r,J],minDate:[$],maxDate:[$],positionElement:[bt],clickOpens:[function(){!0===n.config.clickOpens?(D(n._input,"focus",n.open),D(n._input,"click",n.open)):(n._input.removeEventListener("focus",n.open),n._input.removeEventListener("click",n.open))}]};function _t(t,e){var i=[];if(t instanceof Array)i=t.map((function(t){return n.parseDate(t,e)}));else if(t instanceof Date||"number"==typeof t)i=[n.parseDate(t,e)];else if("string"==typeof t)switch(n.config.mode){case"single":case"time":i=[n.parseDate(t,e)];break;case"multiple":i=t.split(n.config.conjunction).map((function(t){return n.parseDate(t,e)}));break;case"range":i=t.split(n.l10n.rangeSeparator).map((function(t){return n.parseDate(t,e)}))}else n.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(t)));n.selectedDates=n.config.allowInvalidPreload?i:i.filter((function(t){return t instanceof Date&&ot(t,!1)})),"range"===n.config.mode&&n.selectedDates.sort((function(t,e){return t.getTime()-e.getTime()}))}function vt(t){return t.slice().map((function(t){return"string"==typeof t||"number"==typeof t||t instanceof Date?n.parseDate(t,void 0,!0):t&&"object"==typeof t&&t.from&&t.to?{from:n.parseDate(t.from,void 0),to:n.parseDate(t.to,void 0)}:t})).filter((function(t){return t}))}function bt(){n._positionElement=n.config.positionElement||n._input}function wt(t,e){if(void 0!==n.config){var i=n.config[t];if(void 0!==i&&i.length>0)for(var o=0;i[o]&&o<i.length;o++)i[o](n.selectedDates,n.input.value,n,e);"onChange"===t&&(n.input.dispatchEvent(At("change")),n.input.dispatchEvent(At("input")))}}function At(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}function kt(t){for(var e=0;e<n.selectedDates.length;e++){var i=n.selectedDates[e];if(i instanceof Date&&0===x(i,t))return""+e}return!1}function Tt(){n.config.noCalendar||n.isMobile||!n.monthNav||(n.yearElements.forEach((function(t,e){var i=new Date(n.currentYear,n.currentMonth,1);i.setMonth(n.currentMonth+e),n.config.showMonths>1||"static"===n.config.monthSelectorType?n.monthElements[e].textContent=k(i.getMonth(),n.config.shorthandCurrentMonth,n.l10n)+" ":n.monthsDropdownContainer.value=i.getMonth().toString(),t.value=i.getFullYear().toString()})),n._hidePrevMonthArrow=void 0!==n.config.minDate&&(n.currentYear===n.config.minDate.getFullYear()?n.currentMonth<=n.config.minDate.getMonth():n.currentYear<n.config.minDate.getFullYear()),n._hideNextMonthArrow=void 0!==n.config.maxDate&&(n.currentYear===n.config.maxDate.getFullYear()?n.currentMonth+1>n.config.maxDate.getMonth():n.currentYear>n.config.maxDate.getFullYear()))}function Et(t){var e=t||(n.config.altInput?n.config.altFormat:n.config.dateFormat);return n.selectedDates.map((function(t){return n.formatDate(t,e)})).filter((function(t,e,i){return"range"!==n.config.mode||n.config.enableTime||i.indexOf(t)===e})).join("range"!==n.config.mode?n.config.conjunction:n.l10n.rangeSeparator)}function Dt(t){void 0===t&&(t=!0),void 0!==n.mobileInput&&n.mobileFormatStr&&(n.mobileInput.value=void 0!==n.latestSelectedDateObj?n.formatDate(n.latestSelectedDateObj,n.mobileFormatStr):""),n.input.value=Et(n.config.dateFormat),void 0!==n.altInput&&(n.altInput.value=Et(n.config.altFormat)),!1!==t&&wt("onValueUpdate")}function Mt(t){var e=w(t),i=n.prevMonthNav.contains(e),o=n.nextMonthNav.contains(e);i||o?tt(i?-1:1):n.yearElements.indexOf(e)>=0?e.select():e.classList.contains("arrowUp")?n.changeYear(n.currentYear+1):e.classList.contains("arrowDown")&&n.changeYear(n.currentYear-1)}return function(){n.element=n.input=t,n.isOpen=!1,function(){var i=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],r=U(U({},JSON.parse(JSON.stringify(t.dataset||{}))),e),a={};n.config.parseDate=r.parseDate,n.config.formatDate=r.formatDate,Object.defineProperty(n.config,"enable",{get:function(){return n.config._enable},set:function(t){n.config._enable=vt(t)}}),Object.defineProperty(n.config,"disable",{get:function(){return n.config._disable},set:function(t){n.config._disable=vt(t)}});var s="time"===r.mode;if(!r.dateFormat&&(r.enableTime||s)){var l=R.defaultConfig.dateFormat||c.dateFormat;a.dateFormat=r.noCalendar||s?"H:i"+(r.enableSeconds?":S":""):l+" H:i"+(r.enableSeconds?":S":"")}if(r.altInput&&(r.enableTime||s)&&!r.altFormat){var d=R.defaultConfig.altFormat||c.altFormat;a.altFormat=r.noCalendar||s?"h:i"+(r.enableSeconds?":S K":" K"):d+" h:i"+(r.enableSeconds?":S":"")+" K"}Object.defineProperty(n.config,"minDate",{get:function(){return n.config._minDate},set:lt("min")}),Object.defineProperty(n.config,"maxDate",{get:function(){return n.config._maxDate},set:lt("max")});var p=function(t){return function(e){n.config["min"===t?"_minTime":"_maxTime"]=n.parseDate(e,"H:i:S")}};Object.defineProperty(n.config,"minTime",{get:function(){return n.config._minTime},set:p("min")}),Object.defineProperty(n.config,"maxTime",{get:function(){return n.config._maxTime},set:p("max")}),"time"===r.mode&&(n.config.noCalendar=!0,n.config.enableTime=!0),Object.assign(n.config,a,r);for(var f=0;f<i.length;f++)n.config[i[f]]=!0===n.config[i[f]]||"true"===n.config[i[f]];for(u.filter((function(t){return void 0!==n.config[t]})).forEach((function(t){n.config[t]=m(n.config[t]||[]).map(o)})),n.isMobile=!n.config.disableMobile&&!n.config.inline&&"single"===n.config.mode&&!n.config.disable.length&&!n.config.enable&&!n.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),f=0;f<n.config.plugins.length;f++){var h=n.config.plugins[f](n)||{};for(var y in h)u.indexOf(y)>-1?n.config[y]=m(h[y]).map(o).concat(n.config[y]):void 0===r[y]&&(n.config[y]=h[y])}r.altInputClass||(n.config.altInputClass=dt().className+" "+n.config.altInputClass),wt("onParseConfig")}(),pt(),n.input=dt(),n.input?(n.input._type=n.input.type,n.input.type="text",n.input.classList.add("flatpickr-input"),n._input=n.input,n.config.altInput&&(n.altInput=g(n.input.nodeName,n.config.altInputClass),n._input=n.altInput,n.altInput.placeholder=n.input.placeholder,n.altInput.disabled=n.input.disabled,n.altInput.required=n.input.required,n.altInput.tabIndex=n.input.tabIndex,n.altInput.type="text",n.input.setAttribute("type","hidden"),!n.config.static&&n.input.parentNode&&n.input.parentNode.insertBefore(n.altInput,n.input.nextSibling)),n.config.allowInput||n._input.setAttribute("readonly","readonly"),bt()):n.config.errorHandler(new Error("Invalid input element specified")),function(){n.selectedDates=[],n.now=n.parseDate(n.config.now)||new Date;var t=n.config.defaultDate||("INPUT"!==n.input.nodeName&&"TEXTAREA"!==n.input.nodeName||!n.input.placeholder||n.input.value!==n.input.placeholder?n.input.value:null);t&&_t(t,n.config.dateFormat),n._initialDate=n.selectedDates.length>0?n.selectedDates[0]:n.config.minDate&&n.config.minDate.getTime()>n.now.getTime()?n.config.minDate:n.config.maxDate&&n.config.maxDate.getTime()<n.now.getTime()?n.config.maxDate:n.now,n.currentYear=n._initialDate.getFullYear(),n.currentMonth=n._initialDate.getMonth(),n.selectedDates.length>0&&(n.latestSelectedDateObj=n.selectedDates[0]),void 0!==n.config.minTime&&(n.config.minTime=n.parseDate(n.config.minTime,"H:i")),void 0!==n.config.maxTime&&(n.config.maxTime=n.parseDate(n.config.maxTime,"H:i")),n.minDateHasTime=!!n.config.minDate&&(n.config.minDate.getHours()>0||n.config.minDate.getMinutes()>0||n.config.minDate.getSeconds()>0),n.maxDateHasTime=!!n.config.maxDate&&(n.config.maxDate.getHours()>0||n.config.maxDate.getMinutes()>0||n.config.maxDate.getSeconds()>0)}(),n.utils={getDaysInMonth:function(t,e){return void 0===t&&(t=n.currentMonth),void 0===e&&(e=n.currentYear),1===t&&(e%4==0&&e%100!=0||e%400==0)?29:n.l10n.daysInMonth[t]}},n.isMobile||function(){var t=window.document.createDocumentFragment();if(n.calendarContainer=g("div","flatpickr-calendar"),n.calendarContainer.tabIndex=-1,!n.config.noCalendar){if(t.appendChild((n.monthNav=g("div","flatpickr-months"),n.yearElements=[],n.monthElements=[],n.prevMonthNav=g("span","flatpickr-prev-month"),n.prevMonthNav.innerHTML=n.config.prevArrow,n.nextMonthNav=g("span","flatpickr-next-month"),n.nextMonthNav.innerHTML=n.config.nextArrow,X(),Object.defineProperty(n,"_hidePrevMonthArrow",{get:function(){return n.__hidePrevMonthArrow},set:function(t){n.__hidePrevMonthArrow!==t&&(y(n.prevMonthNav,"flatpickr-disabled",t),n.__hidePrevMonthArrow=t)}}),Object.defineProperty(n,"_hideNextMonthArrow",{get:function(){return n.__hideNextMonthArrow},set:function(t){n.__hideNextMonthArrow!==t&&(y(n.nextMonthNav,"flatpickr-disabled",t),n.__hideNextMonthArrow=t)}}),n.currentYearElement=n.yearElements[0],Tt(),n.monthNav)),n.innerContainer=g("div","flatpickr-innerContainer"),n.config.weekNumbers){var e=function(){n.calendarContainer.classList.add("hasWeeks");var t=g("div","flatpickr-weekwrapper");t.appendChild(g("span","flatpickr-weekday",n.l10n.weekAbbreviation));var e=g("div","flatpickr-weeks");return t.appendChild(e),{weekWrapper:t,weekNumbers:e}}(),i=e.weekWrapper,o=e.weekNumbers;n.innerContainer.appendChild(i),n.weekNumbers=o,n.weekWrapper=i}n.rContainer=g("div","flatpickr-rContainer"),n.rContainer.appendChild(J()),n.daysContainer||(n.daysContainer=g("div","flatpickr-days"),n.daysContainer.tabIndex=-1),Y(),n.rContainer.appendChild(n.daysContainer),n.innerContainer.appendChild(n.rContainer),t.appendChild(n.innerContainer)}n.config.enableTime&&t.appendChild(function(){n.calendarContainer.classList.add("hasTime"),n.config.noCalendar&&n.calendarContainer.classList.add("noCalendar");var t=j(n.config);n.timeContainer=g("div","flatpickr-time"),n.timeContainer.tabIndex=-1;var e=g("span","flatpickr-time-separator",":"),i=b("flatpickr-hour",{"aria-label":n.l10n.hourAriaLabel});n.hourElement=i.getElementsByTagName("input")[0];var o=b("flatpickr-minute",{"aria-label":n.l10n.minuteAriaLabel});if(n.minuteElement=o.getElementsByTagName("input")[0],n.hourElement.tabIndex=n.minuteElement.tabIndex=-1,n.hourElement.value=p(n.latestSelectedDateObj?n.latestSelectedDateObj.getHours():n.config.time_24hr?t.hours:function(t){switch(t%24){case 0:case 12:return 12;default:return t%12}}(t.hours)),n.minuteElement.value=p(n.latestSelectedDateObj?n.latestSelectedDateObj.getMinutes():t.minutes),n.hourElement.setAttribute("step",n.config.hourIncrement.toString()),n.minuteElement.setAttribute("step",n.config.minuteIncrement.toString()),n.hourElement.setAttribute("min",n.config.time_24hr?"0":"1"),n.hourElement.setAttribute("max",n.config.time_24hr?"23":"12"),n.hourElement.setAttribute("maxlength","2"),n.minuteElement.setAttribute("min","0"),n.minuteElement.setAttribute("max","59"),n.minuteElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(i),n.timeContainer.appendChild(e),n.timeContainer.appendChild(o),n.config.time_24hr&&n.timeContainer.classList.add("time24hr"),n.config.enableSeconds){n.timeContainer.classList.add("hasSeconds");var r=b("flatpickr-second");n.secondElement=r.getElementsByTagName("input")[0],n.secondElement.value=p(n.latestSelectedDateObj?n.latestSelectedDateObj.getSeconds():t.seconds),n.secondElement.setAttribute("step",n.minuteElement.getAttribute("step")),n.secondElement.setAttribute("min","0"),n.secondElement.setAttribute("max","59"),n.secondElement.setAttribute("maxlength","2"),n.timeContainer.appendChild(g("span","flatpickr-time-separator",":")),n.timeContainer.appendChild(r)}return n.config.time_24hr||(n.amPM=g("span","flatpickr-am-pm",n.l10n.amPM[f((n.latestSelectedDateObj?n.hourElement.value:n.config.defaultHour)>11)]),n.amPM.title=n.l10n.toggleTitle,n.amPM.tabIndex=-1,n.timeContainer.appendChild(n.amPM)),n.timeContainer}()),y(n.calendarContainer,"rangeMode","range"===n.config.mode),y(n.calendarContainer,"animate",!0===n.config.animate),y(n.calendarContainer,"multiMonth",n.config.showMonths>1),n.calendarContainer.appendChild(t);var r=void 0!==n.config.appendTo&&void 0!==n.config.appendTo.nodeType;if((n.config.inline||n.config.static)&&(n.calendarContainer.classList.add(n.config.inline?"inline":"static"),n.config.inline&&(!r&&n.element.parentNode?n.element.parentNode.insertBefore(n.calendarContainer,n._input.nextSibling):void 0!==n.config.appendTo&&n.config.appendTo.appendChild(n.calendarContainer)),n.config.static)){var a=g("div","flatpickr-wrapper");n.element.parentNode&&n.element.parentNode.insertBefore(a,n.element),a.appendChild(n.element),n.altInput&&a.appendChild(n.altInput),a.appendChild(n.calendarContainer)}n.config.static||n.config.inline||(void 0!==n.config.appendTo?n.config.appendTo:window.document.body).appendChild(n.calendarContainer)}(),function(){if(n.config.wrap&&["open","close","toggle","clear"].forEach((function(t){Array.prototype.forEach.call(n.element.querySelectorAll("[data-"+t+"]"),(function(e){return D(e,"click",n[t])}))})),n.isMobile)!function(){var t=n.config.enableTime?n.config.noCalendar?"time":"datetime-local":"date";n.mobileInput=g("input",n.input.className+" flatpickr-mobile"),n.mobileInput.tabIndex=1,n.mobileInput.type=t,n.mobileInput.disabled=n.input.disabled,n.mobileInput.required=n.input.required,n.mobileInput.placeholder=n.input.placeholder,n.mobileFormatStr="datetime-local"===t?"Y-m-d\\TH:i:S":"date"===t?"Y-m-d":"H:i:S",n.selectedDates.length>0&&(n.mobileInput.defaultValue=n.mobileInput.value=n.formatDate(n.selectedDates[0],n.mobileFormatStr)),n.config.minDate&&(n.mobileInput.min=n.formatDate(n.config.minDate,"Y-m-d")),n.config.maxDate&&(n.mobileInput.max=n.formatDate(n.config.maxDate,"Y-m-d")),n.input.getAttribute("step")&&(n.mobileInput.step=String(n.input.getAttribute("step"))),n.input.type="hidden",void 0!==n.altInput&&(n.altInput.type="hidden");try{n.input.parentNode&&n.input.parentNode.insertBefore(n.mobileInput,n.input.nextSibling)}catch(t){}D(n.mobileInput,"change",(function(t){n.setDate(w(t).value,!1,n.mobileFormatStr),wt("onChange"),wt("onClose")}))}();else{var t=h(ct,50);if(n._debouncedChange=h(F,H),n.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&D(n.daysContainer,"mouseover",(function(t){"range"===n.config.mode&&ut(w(t))})),D(n._input,"keydown",st),void 0!==n.calendarContainer&&D(n.calendarContainer,"keydown",st),n.config.inline||n.config.static||D(window,"resize",t),void 0!==window.ontouchstart?D(window.document,"touchstart",nt):D(window.document,"mousedown",nt),D(window.document,"focus",nt,{capture:!0}),!0===n.config.clickOpens&&(D(n._input,"focus",n.open),D(n._input,"click",n.open)),void 0!==n.daysContainer&&(D(n.monthNav,"click",Mt),D(n.monthNav,["keyup","increment"],T),D(n.daysContainer,"click",yt)),void 0!==n.timeContainer&&void 0!==n.minuteElement&&void 0!==n.hourElement){D(n.timeContainer,["increment"],a),D(n.timeContainer,"blur",a,{capture:!0}),D(n.timeContainer,"click",q),D([n.hourElement,n.minuteElement],["focus","click"],(function(t){return w(t).select()})),void 0!==n.secondElement&&D(n.secondElement,"focus",(function(){return n.secondElement&&n.secondElement.select()})),void 0!==n.amPM&&D(n.amPM,"click",(function(t){a(t)}))}n.config.allowInput&&D(n._input,"blur",at)}}(),(n.selectedDates.length||n.config.noCalendar)&&(n.config.enableTime&&l(n.config.noCalendar?n.latestSelectedDateObj:void 0),Dt(!1)),r();var i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!n.isMobile&&i&&ft(),wt("onReady")}(),n}function $(t,e){for(var n=Array.prototype.slice.call(t).filter((function(t){return t instanceof HTMLElement})),i=[],o=0;o<n.length;o++){var r=n[o];try{if(null!==r.getAttribute("data-fp-omit"))continue;void 0!==r._flatpickr&&(r._flatpickr.destroy(),r._flatpickr=void 0),r._flatpickr=F(r,e||{}),i.push(r._flatpickr)}catch(t){console.error(t)}}return 1===i.length?i[0]:i}"undefined"!=typeof HTMLElement&&"undefined"!=typeof HTMLCollection&&"undefined"!=typeof NodeList&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return $(this,t)},HTMLElement.prototype.flatpickr=function(t){return $([this],t)});var R=function(t,e){return"string"==typeof t?$(window.document.querySelectorAll(t),e):t instanceof Node?$([t],e):$(t,e)};R.defaultConfig={},R.l10ns={en:U({},d),default:U({},d)},R.localize=function(t){R.l10ns.default=U(U({},R.l10ns.default),t)},R.setDefaults=function(t){R.defaultConfig=U(U({},R.defaultConfig),t)},R.parseDate=C({}),R.formatDate=M({}),R.compareDates=x,"undefined"!=typeof jQuery&&void 0!==jQuery.fn&&(jQuery.fn.flatpickr=function(t){return $(this,t)}),Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+("string"==typeof t?parseInt(t,10):t))},"undefined"!=typeof window&&(window.flatpickr=R);const q=R;var V=n(8514),N=n(5571),W=n(7431),B=n(9417),z=n(5361),G=n(6822),Y=n(3954),K=n(9143),Z=n(5197),X=n(3773);function J(t){var e=Q();return function(){var n,i=(0,Y.A)(t);if(e){var o=(0,Y.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,G.A)(this,n)}}function Q(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Q=function(){return!!t})()}var tt,et,nt,it,ot,rt,at,st,ut,ct,lt,dt,pt,ft,ht,mt,yt,gt,_t,vt=(0,r.A)((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,o.A)(this,t),e.attributes.supportsTokens)return"textarea"==e.type?new wt(e,n):new bt(e,n)})),bt=function(t){(0,z.A)(n,t);var e=J(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.A)(this,n),(i=e.call(this,t.attributes.itemType,t.type,r)).Field=t,i.Field.TokenSelector=(0,B.A)(i),i.itemIsInsideUserLoop=UncannyAutomator._core.recipe.item.loop.isItemInsideUserLoop(i.Field.attributes.itemId||0),i.render(),i.setData(),i.Field.getField().on("ua-codemirror-ready",(function(){i.getCodeMirrorEditor(),i.editor.setValue(i.editor.getValue()),i.renderTokens(),i.handleAddTokens(),i.renderTokensInRealTime()})),i}return(0,r.A)(n,[{key:"render",value:function(){this.RenderTokenSelector=new At(this.Field,this.tokens)}},{key:"setData",value:function(){this.data={tokenRenderingDebounce:200}}},{key:"getCodeMirrorEditor",value:function(){this.editor=this.Field.fieldCM}},{key:"handleAddTokens",value:function(){var t=this;this.Field.field.off("ua-add-token").on("ua-add-token",(function(e,n){["date","time"].includes(t.Field.attributes.fieldType)&&t.editor.setValue(""),t.insertTextAtCursor("{{".concat(n.id,"}}")),t.renderTokens({ignoreRequiresUserModal:!0}),["date","time"].includes(t.Field.attributes.fieldType)||t.editor.focus(),["date","time"].includes(t.Field.attributes.fieldType)&&t.Field.setValue("{{".concat(n.id,"}}"))}))}},{key:"destroy",value:function(){this.RenderTokenSelector.destroy()}},{key:"insertTextAtCursor",value:function(t){this.editor.doc.replaceRange(t,this.editor.doc.getCursor())}},{key:"renderTokensInRealTime",value:function(){var t=this;this.editor.on("blur",(function(e){t.renderTokens()})),this.editor.on("paste",(function(e){setTimeout((function(){t.renderTokens()}),100)}))}},{key:"renderTokens",value:function(t){var e=this;t=Object.assign({ignoreRequiresUserModal:!1},t);var n=this.editor.getValue(),i=_uo.utility.getTokenIDsFromString(n),o=function(t,n){var i=n+t.length+4,o=e.editor.posFromIndex(n),r=e.editor.posFromIndex(i),a=e.createTokenDOMNode(t),s=e.editor.markText(o,r,{replacedWith:a}),u=t.startsWith("UT")?e.tokensThatRequireUser.some((function(e){return console.log("Evaluating ".concat(e," against ").concat(t,". Does it start with ").concat(e,"? ").concat(t.startsWith(e))),t.startsWith(e)})):e.tokensThatRequireUser.includes(t),c=null!==document.querySelector(".needs-user-data-modal");e.itemIsInsideUserLoop||"anonymous"!==UncannyAutomator._recipe.recipe_type||UncannyAutomator.recipe.requiresUserData||!u||c||e.tokenNeedsUserModal(a,{removeToken:function(){var t=s.find();s.clear(),e.editor.replaceRange("",t.from,t.to)}}),e.Field.attributes.isReadOnly||a.addEventListener("click",(function(){if(!a.classList.contains("uap-token--cm-focused")){a.classList.add("uap-token--cm-focused");var n=function(){a.classList.remove("uap-token--cm-focused"),document.removeEventListener("mouseup",i),document.removeEventListener("copy",o),document.removeEventListener("keydown",r),document.removeEventListener("keydown",u)},i=function(t){a.isEqualNode(t.target)||a.contains(t.target)||n()};document.addEventListener("mouseup",i);var o=function(e){n();try{navigator.clipboard.writeText("{{".concat(t,"}}"))}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}};document.addEventListener("copy",o);var r=function(t){var i=t.keyCode||t.charCode;if(8===i||46===i){var o=s.find();s.clear(),e.editor.replaceRange("",o.from,o.to),n()}};document.addEventListener("keydown",r);var u=function(t){var i=t.keyCode||t.charCode;if(37===i||39===i){n();var o=s.find(),r=37===i?o.from:o.to;e.editor.focus(),e.editor.setCursor(r)}};document.addEventListener("keydown",u)}}))};i.forEach((function(t){for(var e=n,i=0;-1!==e.indexOf("{{".concat(t,"}}"));){var r=e.indexOf("{{".concat(t,"}}"));o(t,i+r),i+=r+t.length+4,e=n.substring(i)}}))}},{key:"tokenNeedsUserModal",value:function(t){var e,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(UncannyAutomatorBackend._site.automator.is_pro_active){var o=UncannyAutomator._recipe.is_recipe_on;(e=new X.A({title:"".concat(_uo.utility.escHTML(wp.i18n.__("We need some user data","uncanny-automator")),' <span class="needs-user-data-modal-pro-badge needs-user-data-modal-pro-badge--gray">').concat(_uo.utility.escHTML(wp.i18n.__("Pro","uncanny-automator")),"</span>"),content:'\n\t\t\t\t\t<div class="needs-user-data-modal">\n\t\t\t\t\t\t<div class="needs-user-data-modal__title">'.concat(_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("The token %1$s outputs the data of a WordPress user.","uncanny-automator")),t.outerHTML),'</div>\n\t\t\t\t\t\t<div class="needs-user-data-modal__disclaimer">\n\t\t\t\t\t\t\t<div class="description">').concat(_uo.utility.escHTML(wp.i18n.__("Since this is a recipe that runs for everyone, including logged-out users, you'll need to select a new or existing user that this data will come from.","uncanny-automator")),"</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t"),buttons:{cancel:_uo.utility.escHTML(wp.i18n.__("Remove token","uncanny-automator")),confirm:_uo.utility.escHTML(wp.i18n.__("Set user data","uncanny-automator"))}},{size:"large"})).setEvents({onConfirm:function(){var t=e.getElements();t.modal.box.buttons.confirm.addClass("uap-btn--loading").prop("disabled",!0),(0,V.Gj)(!0,(function(t){e.destroy(),n.renderTokens()}),(function(e){t.modal.box.buttons.confirm.removeClass("uap-btn--loading").prop("disabled",!1)})),o&&UncannyAutomator._core.recipe.setRecipeStatus(!1,!1),_uo.utility.isDefined(i.allowedConfirm)&&i.allowedConfirm()},onCancel:function(){e.destroy(),_uo.utility.isDefined(i.removeToken)&&i.removeToken(),_uo.utility.isDefined(i.allowedCancel)&&i.allowedCancel()}})}else(e=new X.A({title:"".concat(_uo.utility.escHTML(wp.i18n.__("We need some user data","uncanny-automator")),' <span class="needs-user-data-modal-pro-badge">').concat(_uo.utility.escHTML(wp.i18n.__("Pro","uncanny-automator")),"</span>"),content:'\n\t\t\t\t\t<div class="needs-user-data-modal">\n\t\t\t\t\t\t<div class="needs-user-data-modal__title">'.concat(_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("The token %1$s outputs the data of a WordPress user.","uncanny-automator")),t.outerHTML),'</div>\n\t\t\t\t\t\t<div class="needs-user-data-modal__disclaimer">\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<div class="description">').concat(_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("Because the token is associated with user data, it must be mapped to a new or existing user. This requires %1$s.","uncanny-automator")),"Uncanny Automator Pro"),' <a href="').concat(_uo.utility.addParametersUTM("https://automatorplugin.com/pricing/",{medium:"select_an_item",campaign:"update_to_pro",content:"requires_user_data"}),'" target="_blank">').concat(_uo.utility.escHTML(wp.i18n.__("Upgrade now","uncanny-automator")),' <uo-icon id="external-link"></uo-icon></a></div>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<div class="description">').concat(_uo.utility.escHTML(wp.i18n.__("If you don't want to upgrade now, you can add this token to a recipe that runs only for logged-in users.","uncanny-automator")),' <a href="').concat(_uo.utility.addParametersUTM("https://automatorplugin.com/knowledge-base/creating-a-recipe/#Recipe_types",{medium:"select_an_item",content:"requires_user_data-learn-more"}),'" target="_blank">').concat(_uo.utility.escHTML(wp.i18n.__("Learn more","uncanny-automator")),' <uo-icon id="external-link"></uo-icon></a></div>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t'),buttons:{cancel:_uo.utility.escHTML(wp.i18n.__("Remove token","uncanny-automator")),confirm:_uo.utility.escHTML(wp.i18n.__("Upgrade to Pro","uncanny-automator"))}},{size:"large"})).setEvents({onConfirm:function(){e.destroy(),(0,V.V3)(_uo.utility.addParametersUTM("https://automatorplugin.com/pricing/",{medium:"add_token",campaign:"update_to_pro",content:"requires_user_data"})),_uo.utility.isDefined(i.removeToken)&&i.removeToken(),_uo.utility.isDefined(i.forbiddenConfirm)&&i.forbiddenConfirm()},onCancel:function(){e.destroy(),_uo.utility.isDefined(i.removeToken)&&i.removeToken(),_uo.utility.isDefined(i.forbiddenCancel)&&i.forbiddenCancel()}})}}]),n}(K.A),wt=function(t){(0,z.A)(n,t);var e=J(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.A)(this,n),(i=e.call(this,t,r)).Field.attributes.supportsTinyMCE&&i.Field.getField().on("ua-tinymce-ready",(function(){i.getTinyMCEEditor(),i.addStylesToEditor(),setTimeout((function(){i.parsePlainTokensInTinyMCE({parseTokensInAttributes:!1})}),i.data.tokenRenderingDebounce),setTimeout((function(){i.parseHTMLTokensInPlainTextarea()}),i.data.tokenRenderingDebounce),i.handleAddTokens(),i.handleHTMLTokensInPlainTextarea(),i.handlePlainTokensInTinyMCE()})),i}return(0,r.A)(n,[{key:"setData",value:function(){this.data={tokenRenderingDebounce:200,tokenCSSClass:"uap-token-tinymce",tinymceTokenRegex:new RegExp(/\<ins contenteditable\="false"\>\<\!\-\-UAToken\-\-\>(?:.*?)data\-token\-id\="(.*?)"(?:.*?)\<\!\-\-UATokenEnd\-\-\>\<\/ins\>/gm)},this.data.tinymceTokenTemplate='<ins contenteditable="false">\x3c!--UAToken--\x3e<span class="'.concat(this.data.tokenCSSClass,'" contenteditable="false" data-token-id="%2$s">%1$s</span>\x3c!--UATokenEnd--\x3e</ins>')}},{key:"render",value:function(){this.RenderTokenSelector=new At(this.Field,this.tokens)}},{key:"insertTextAtCursor",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!_uo.utility.isDefined(this.tinyMCEeditor)||_uo.utility.isDefined(this.tinyMCEeditor)&&this.tinyMCEeditor.hidden)this.editor.doc.replaceRange(e,this.editor.doc.getCursor());else{e=e.substring(2,e.length-2);var n=this.createTokenDOMNode(e),i=e.startsWith("UT")?this.tokensThatRequireUser.some((function(t){return e.startsWith(t)})):this.tokensThatRequireUser.includes(e);this.itemIsInsideUserLoop||"anonymous"!=UncannyAutomator._recipe.recipe_type||UncannyAutomator.recipe.requiresUserData||!i?(this.tinyMCEeditor.execCommand("mceInsertContent",!1,_uo.utility.sprintf(this.data.tinymceTokenTemplate,n.outerHTML,e)),this.Field.getField().trigger("change input")):this.tokenNeedsUserModal(n,{allowedConfirm:function(){t.tinyMCEeditor.execCommand("mceInsertContent",!1,_uo.utility.sprintf(t.data.tinymceTokenTemplate,n.outerHTML,e)),t.Field.getField().trigger("change input")}})}}},{key:"getTinyMCEEditor",value:function(){this.tinyMCEeditor=this.Field.fieldTinyMCE}},{key:"addStylesToEditor",value:function(){this.tinyMCEeditor.dom.addStyle("\n\t\t\thtml body {\n\t\t\t\tfont-family: -apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n\t\t\t\tfont-size: 15px;\n\t\t\t\tmargin-left: 12px;\n\t\t\t\tmargin-right: 12px;\n\t\t\t}\n\n\t\t\tins {\n\t\t\t\ttext-decoration: none !important;\n\t\t\t}\n\t\t")}},{key:"handleHTMLTokensInPlainTextarea",value:function(){var t=this;this.Field.getField().on("change input",_uo.utility.debounce((function(){t.parseHTMLTokensInPlainTextarea()}),this.data.tokenRenderingDebounce)),this.Field.getField().on("ua-tinymce-activate-text-view",(function(){setTimeout((function(){t.parseHTMLTokensInPlainTextarea()}),t.data.tokenRenderingDebounce)}))}},{key:"handlePlainTokensInTinyMCE",value:function(){var t=this;this.Field.getField().on("ua-tinymce-activate-visual-view",(function(){setTimeout((function(){t.parsePlainTokensInTinyMCE({parseTokensInAttributes:!1})}),t.data.tokenRenderingDebounce)}))}},{key:"parsePlainTokensInTinyMCE",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t=Object.assign({parseTokensInAttributes:!0},t);var e=this.tinyMCEeditor.getContent({format:"raw"}),n=this.renderTextWithTokens(e,{template:this.data.tinymceTokenTemplate,parseTokensInAttributes:t.parseTokensInAttributes,returnString:!0});e!=n&&this.tinyMCEeditor.setContent(n)}},{key:"parseHTMLTokensInPlainTextarea",value:function(){var t=this.Field.getField().val(),e=!1;if(t=t.replaceAll(this.data.tinymceTokenRegex,(function(t,n){return e=!0,"{{".concat(n,"}}")})),e)try{this.editor.setValue(t)}catch(e){this.Field.getField().val(t)}}},{key:"destroy",value:function(){this.RenderTokenSelector.destroy()}}]),n}(bt),At=function(){function t(e,n){(0,o.A)(this,t),this.tokensLogging=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.fieldType,o=void 0===i?"text":i,r=n.richText,a=void 0!==r&&r,s=n.includeName,u=void 0===s||s,c=n.includeID,l=void 0!==c&&c,d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"td",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"padding: 12px; text-align: left; border: 1px solid #dddddd; word-wrap: break-word; overflow-wrap: break-word;";return a?"<".concat(e,' style="').concat(n,'">').concat(t,"</").concat(e,">"):t},p=function(t){var e=t.name,n=t.id,i=t.content,o=[];return u&&o.push(d(e)),l&&o.push(d(a?n:"(".concat(n,")"))),o.push(d(a?i:u||l?": ".concat(i):i)),a?"<tr>".concat(o.join(""),"</tr>"):o.join(" ")},f=function(t){var e=t.map(p),n=a?"":"textarea"===o?"\n\n":" | ";return a?"<tbody>".concat(e.join(""),"</tbody>"):e.join(n)};return t=e,a?'<table style="width: 100%; table-layout: fixed; border-collapse: collapse; margin: 20px 0;">'.concat(function(){if(!a)return"";var t=[],e="padding: 12px; text-align: left; border: 1px solid #dddddd; word-wrap: break-word; background-color: #f2f2f2; overflow-wrap: break-word;";return u&&t.push(d(_uo.utility.escHTML(wp.i18n.__("Name","uncanny-automator")),"th",e)),l&&t.push(d(_uo.utility.escHTML(wp.i18n.__("ID","uncanny-automator")),"th",e)),t.push(d(_uo.utility.escHTML(wp.i18n.__("Value","uncanny-automator")),"th",e)),"<thead><tr>".concat(t.join(""),"</tr></thead>")}()).concat(f(t),"</table>"):f(t)},this.Field=e,this.tokens=n,this.item=_uo.utility.isDefined(this.Field.attributes.itemId)?UncannyAutomator._core.recipe.item.getItem(this.Field.attributes.itemType,this.Field.attributes.itemId):null,this.itemIsInsideUserLoop=UncannyAutomator._core.recipe.item.loop.isItemInsideUserLoop(this.Field.attributes.itemId||0),this.tokens=this.tokens.map((function(t,e){return t.order=e,t})),this.getData(),this.getElements(),this.createWrapper(),this.createFilter(),this.createGroupsOfTokens(),this.listenToggleButton(),this.resizeDropdownOnWindowResize(),this.resizeDropdownOnWindowScroll(),this.refreshOnFieldChange(),this.search(),this.shouldSupportFilters()&&this.setFilter(!0)}return(0,r.A)(t,[{key:"getData",value:function(){this.data={isOpen:!1,position:"below"}}},{key:"getElements",value:function(){this.$elements={wrapper:null,toggleButton:null,searchField:null,dropdown:null,allGroups:null,dropdownGroupsContainer:null,dropdownTokens:null,noResultsOption:null,seperators:null}}},{key:"createWrapper",value:function(){var t=s()('\n\t\t\t<div class="form-variable">\n\t\t\t\t<div class="form-variable__element">\n\t\t\t\t\t<div class="form-variable__render-container"></div>\n\t\t\t\t\t<div class="form-variable__toggle">\n\t\t\t\t\t\t<uo-icon id="asterisk"></uo-icon>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="form-variable__dropdown">\n\t\t\t\t\t<div class="form-variable__dropdown-container">\n\t\t\t\t\t\t<div class="form-variable__search">\n\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\tclass="form-variable__search-input" \n\t\t\t\t\t\t\t\tplaceholder="'.concat(_uo.utility.escHTML(wp.i18n.__("Search tokens","uncanny-automator")),'"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="form-variable__groups"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t')),e=[];"textarea"==this.Field.type&&e.push(this.Field.getField()),_uo.utility.isDefined(this.Field.getFieldCM())&&e.push(this.Field.getFieldCM()),e.forEach((function(e){t.insertAfter(e),t.find(".form-variable__render-container").append(e)})),this.$elements.wrapper=t,this.$elements.renderContainer=t.find(".form-variable__render-container"),this.$elements.searchFieldContainer=t.find(".form-variable__search"),this.$elements.searchField=t.find(".form-variable__search-input"),this.$elements.toggleButton=t.find(".form-variable__toggle"),this.$elements.dropdown=t.find(".form-variable__dropdown"),this.$elements.dropdownGroupsContainer=t.find(".form-variable__groups")}},{key:"createFilter",value:function(){var t=this,e={text:_uo.utility.escHTML(wp.i18n._x("Text","Token","uncanny-automator")),email:_uo.utility.escHTML(wp.i18n._x("Email","Token","uncanny-automator")),url:_uo.utility.escHTML(wp.i18n._x("URL","Token","uncanny-automator")),float:_uo.utility.escHTML(wp.i18n._x("Float","Token","uncanny-automator")),int:_uo.utility.escHTML(wp.i18n._x("Integer","Token","uncanny-automator")),date:_uo.utility.escHTML(wp.i18n._x("Date","Token","uncanny-automator")),time:_uo.utility.escHTML(wp.i18n._x("Time","Token","uncanny-automator"))};if(this.shouldSupportFilters()){var n=this.Field.attributes.fieldType,i=_uo.utility.isDefined(e[n])?e[n]:n,o=s()('\n\t\t\t\t<div class="form-variable__filter"></div>\n\t\t\t'),r=new zt("checkbox",{optionCode:"token__enableFilter",currentValue:!0,label:'<span class="form-variable__filter-label">'+_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("Only %1$s tokens","uncanny-automator")),'<span class="form-variable__filter-type">'.concat(i,"</span>"))+"<span>"}),a=r.createFormElement();o.prepend(a),this.$elements.searchFieldContainer.append(o),this.$elements.filterContainer=o,a.on("automator:field:change",(function(){r.getValue()?t.setFilter(!0):t.setFilter(!1)}))}}},{key:"createGroupsOfTokens",value:function(){var t=this,e=this.$elements.wrapper.find(".form-variable__groups"),n=this.tokens.filter((function(t){return!_uo.utility.isDefined(t.itemType)})),i=this.tokens.filter((function(t){return"trigger"===t.itemType})),o=this.tokens.filter((function(t){return"action"===t.itemType}));n.forEach((function(n,i){e.append(t.createIndividualGroupOfTokens(i,n))})),i.length>0&&(e.get(0).insertAdjacentHTML("beforeEnd",'\n\t\t\t\t<uo-alert \n\t\t\t\t\tsize="xsmall" \n\t\t\t\t\ttype="info" \n\t\t\t\t\tcustom-icon \n\t\t\t\t\tno-radius\n\n\t\t\t\t\tclass="form-variable__group-item-separator form-variable__group-item-separator--triggers"\n\t\t\t\t>\n\t\t\t\t\t'.concat(_uo.utility.escHTML(wp.i18n.__("Triggers","uncanny-automator")),"\n\t\t\t\t</uo-alert>\n\t\t\t")),i.forEach((function(n,i){e.append(t.createIndividualGroupOfTokens(i,n))}))),o.length>0&&(e.get(0).insertAdjacentHTML("beforeEnd",'\n\t\t\t\t<uo-alert \n\t\t\t\t\tsize="xsmall" \n\t\t\t\t\ttype="info" \n\t\t\t\t\tcustom-icon \n\t\t\t\t\tno-radius\n\n\t\t\t\t\tclass="form-variable__group-item-separator form-variable__group-item-separator--actions"\n\t\t\t\t>\n\t\t\t\t\t'.concat(_uo.utility.escHTML(wp.i18n.__("Actions","uncanny-automator")),"\n\t\t\t\t</uo-alert>\n\t\t\t")),o.forEach((function(n,i){e.append(t.createIndividualGroupOfTokens(i,n))}))),this.$elements.allGroups=e.find(".form-variable__group"),this.$elements.dropdownTokens=e.find(".form-variable__group-item"),this.$elements.separators={triggers:e.get(0).querySelector(".form-variable__group-item-separator--triggers"),actions:e.get(0).querySelector(".form-variable__group-item-separator--actions")},this.$elements.noResultsOption=s()('\n\t\t\t<div class="form-variable__group-item-no-results form-variable__group-item-no-results--hide">\n\t\t\t\t<div class="form-variable__group-item-no-results-title">\n\t\t\t\t\t'.concat(_uo.utility.escHTML(wp.i18n.__("No tokens found","uncanny-automator")),'\n\t\t\t\t</div>\n\t\t\t\t<div class="form-variable__group-item-no-results-description">\n\t\t\t\t\t').concat(this.shouldSupportFilters()?_uo.utility.escHTML(wp.i18n.__("Try searching again or disabling the token type filter.","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("Try searching again.","uncanny-automator")),"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t")),e.append(this.$elements.noResultsOption)}},{key:"createIndividualGroupOfTokens",value:function(t,e){var n=this,i=s()('\n\t\t\t<div \n\t\t\t\tclass="form-variable__group"\n\t\t\t\tdata-id="'.concat(e.id,'"\n\t\t\t>\n\t\t\t\t<div class="form-variable__group-source">\n\t\t\t\t\t<div class="form-variable-group-source__icon"></div>\n\t\t\t\t\t<div class="form-variable-group-source__description">\n\t\t\t\t\t\t<div class="form-variable-group-source__title"></div>\n\t\t\t\t\t\t<div class="form-variable-group-source__tags"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="form-variable-group-source__toggle">\n\t\t\t\t\t\t<span class="form-variable-group-source__toggle-icon"></span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<span class="form-variable__group-children"></span>\n\t\t\t</div>\n\t\t')),o=(0,Z.G)({itemID:this.Field.attributes.itemId,dynamicSentence:e.name,fields:_uo.utility.isDefined(UncannyAutomator.recipe.items[e.itemID])?UncannyAutomator.recipe.items[e.itemID].meta:{},abbreviateFields:!0});i.find(".form-variable-group-source__title").append(o);var r=e.icon.cloneNode();i.find(".form-variable-group-source__icon").append(r);var a=i.find(".form-variable__group-source");if(a.on("click",(function(){var t,n;t=i.hasClass("form-variable__group--open"),n=t?"uap/builder/legacy/field/token-selector/group/close":"uap/builder/legacy/field/token-selector/group/open",document.dispatchEvent(new CustomEvent(n,{detail:{groupCode:e.id}})),i.toggleClass("form-variable__group--open")})),_uo.utility.isDefined(e.itemID)&&_uo.utility.isDefined(UncannyAutomator.recipe.items[e.itemID])&&("trigger"===UncannyAutomator.recipe.items[e.itemID].itemType&&i.get(0).classList.add("form-variable__group--trigger"),"action"===UncannyAutomator.recipe.items[e.itemID].itemType)){var u=i.get(0).querySelector(".form-variable-group-source__tags"),c=this.Field.attributes.itemId,l=UncannyAutomator.recipe.items[e.itemID];if(i.get(0).classList.add("form-variable__group--action"),l.hasConditions&&(i.get(0).classList.add("form-variable__group--action-conditions"),u.insertAdjacentHTML("beforeEnd","\n\t\t\t\t\t\t<uo-tooltip>\n\t\t\t\t\t\t\t".concat(_uo.utility.escHTML(wp.i18n.__("These tokens may be empty if the associated action's filter conditions are not met.","uncanny-automator")),'\n\n\t\t\t\t\t\t\t<uo-chip\n\t\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\t\tcolor="warning"\n\t\t\t\t\t\t\t\tfilled\n\n\t\t\t\t\t\t\t\tslot="target"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<uo-icon id="code-merge"></uo-icon> ').concat(_uo.utility.escHTML(wp.i18n.__("Filtered","uncanny-automator")),"\n\t\t\t\t\t\t\t</uo-chip>\n\t\t\t\t\t\t</uo-tooltip>\n\t\t\t\t\t"))),_uo.utility.isDefined(c)&&_uo.utility.isDefined(UncannyAutomator.recipe.items[c])&&"action"===UncannyAutomator.recipe.items[c].itemType){var d=UncannyAutomator.recipe.items[c];l.isScheduled&&!d.isScheduled&&(i.get(0).classList.add("form-variable__group--action-scheduled"),u.insertAdjacentHTML("beforeEnd","\n\t\t\t\t\t\t\t<uo-tooltip>\n\t\t\t\t\t\t\t\t".concat(_uo.utility.escHTML(wp.i18n.__("These tokens may be empty if the associated action has not yet run when this action runs.","uncanny-automator")),'\n\n\t\t\t\t\t\t\t\t<uo-chip\n\t\t\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\t\t\tcolor="warning"\n\t\t\t\t\t\t\t\t\tfilled\n\n\t\t\t\t\t\t\t\t\tslot="target"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<uo-icon id="clock"></uo-icon> ').concat(_uo.utility.escHTML(wp.i18n.__("Scheduled","uncanny-automator")),"\n\t\t\t\t\t\t\t\t</uo-chip>\n\t\t\t\t\t\t\t</uo-tooltip>\n\t\t\t\t\t\t"))),(l.isDelayed&&!d.isDelayed||l.isDelayedCustom&&!d.isDelayedCustom)&&(i.get(0).classList.add("form-variable__group--action-delayed"),u.insertAdjacentHTML("beforeEnd","\n\t\t\t\t\t\t\t<uo-tooltip>\n\t\t\t\t\t\t\t\t".concat(_uo.utility.escHTML(wp.i18n.__("These tokens may be empty if the associated action has not yet run when this action runs.","uncanny-automator")),'\n\n\t\t\t\t\t\t\t\t<uo-chip\n\t\t\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\t\t\tcolor="warning"\n\t\t\t\t\t\t\t\t\tfilled\n\n\t\t\t\t\t\t\t\t\tslot="target"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<uo-icon id="clock"></uo-icon> ').concat(_uo.utility.escHTML(wp.i18n.__("Delayed","uncanny-automator")),"\n\t\t\t\t\t\t\t\t</uo-chip>\n\t\t\t\t\t\t\t</uo-tooltip>\n\t\t\t\t\t\t")))}}var p=i.find(".form-variable__group-children");return e.tokens.forEach((function(t){if(_uo.utility.isDefined(t.deprecated)&&t.deprecated)return!1;var e=_uo.utility.isEmpty(t.name)?"":t.name;t.id||console.error("Pay attention to the token below");var i=!n.itemIsInsideUserLoop&&"anonymous"==UncannyAutomator._recipe.recipe_type&&!UncannyAutomator.recipe.requiresUserData&&_uo.utility.isDefined(t.requiresUser)&&t.requiresUser,o=s()('\n\t\t\t\t<div \n\t\t\t\t\tclass="form-variable__group-item"\n\t\t\t\t\tdata-search="'.concat(e.trim().toLowerCase().replace(/\s/g,""),'"\n\t\t\t\t\tdata-type="').concat(t.type,'"\n\t\t\t\t\tdata-token-id="').concat(t.id,'"\n\t\t\t\t>\n\t\t\t\t\t<span>').concat(e,"</span>\n\n\t\t\t\t\t").concat(i?'<span class="form-variable__group-item-tag">'+_uo.utility.escHTML(wp.i18n.__("Needs user data","uncanny-automator"))+"</span>":"","\n\t\t\t\t</div>\n\t\t\t")),r=function(t){_uo.utility.isDefined(n.Field.attributes.clearWhenAddingToken)&&n.Field.attributes.clearWhenAddingToken&&n.Field.setValue("",!1),n.Field.field.trigger("ua-add-token",t),document.dispatchEvent(new CustomEvent("uap/builder/legacy/field/token-selector/token/add",{detail:{field:n.Field,$field:n.Field.field,tokenCode:t.id}}))};o.on("click",(function(){n.close({triggeredBy:"token-added"}),_uo.utility.isDefined(t.beforeAdded)?t.beforeAdded(r,n.Field):r(t)})),p.append(o)})),this.tokens[e.order].$toggleButton=a,i}},{key:"addAllTokensInGroupCallback",value:function(t){var e=this,n=s()("<div></div>"),i=new zt("checkbox",{label:_uo.utility.escHTML(wp.i18n.__("Include token name","uncanny-automator")),currentValue:!0});n.append(i.createFormElement());var o=new zt("checkbox",{label:_uo.utility.escHTML(wp.i18n.__("Include token ID","uncanny-automator")),currentValue:!1});n.append(o.createFormElement());var r=t.name instanceof jQuery?t.name.text():t.name,a=s()('<div class="description">'.concat(_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__('On confirmation, all the tokens in the group "%1$s" will be added to the field  "%2$s".',"uncanny-automator")),r,_uo.utility.isEmpty(this.Field.attributes.label)?_uo.utility.escHTML(wp.i18n.__("(no label)","uncanny-automator")):this.Field.attributes.label),"</div>"));n.append(a);var u=new X.A({title:_uo.utility.escHTML(wp.i18n.__("Add tokens","uncanny-automator")),content:n,buttons:{cancel:_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator")),confirm:_uo.utility.escHTML(wp.i18n.__("Add tokens","uncanny-automator"))}});u.setEvents({onConfirm:function(){try{e.close({triggeredBy:"token-added"});var n,r=i.getValue(),a=o.getValue(),s=e.Field.getValue(),c=[];if(t.tokens.forEach((function(t){if(null!=t&&t.deprecated)return!1;var e={name:t.name,id:t.id,content:"{{".concat(t.id,"}}")};c.push(e)})),n=e.tokensLogging(c,{fieldType:e.Field.type,richText:"textarea"==e.Field.type&&_uo.utility.isDefined(e.Field.fieldTinyMCE),includeName:r,includeID:a}),"textarea"==e.Field.type&&_uo.utility.isDefined(e.Field.fieldTinyMCE)&&s.includes("</body>"))try{e.Field.setValue(s.replace("</body>","".concat(n,"</body>")))}catch(t){e.Field.setValue("".concat(s," ").concat(n))}else e.Field.setValue("".concat(s," ").concat(n));"textarea"==e.Field.type&&_uo.utility.isDefined(e.Field.fieldTinyMCE)&&!e.Field.fieldTinyMCE.hidden&&e.Field.getField().trigger("ua-tinymce-activate-visual-view")}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t),alert("Debugging: Couldn't add all tokens. Enable debug mode and check the console.")}u.destroy()},afterHide:function(){u.destroy()}})}},{key:"listenToggleButton",value:function(){var t=this;this.$elements.toggleButton.on("click",(function(){t.data.isOpen?t.close({triggeredBy:"toggle-button"}):t.open()}))}},{key:"search",value:function(){var t=this;this.$elements.searchField.on("input",_uo.utility.throttle((function(){var e=t.$elements.searchField.val();e=e.trim().toLowerCase().replace(/\s/g,""),_uo.utility.isEmpty(e)?(t.$elements.allGroups.removeClass("form-variable__group--open"),t.$elements.dropdownTokens.removeClass("form-variable__group-item--hidden-by-search")):(t.$elements.allGroups.addClass("form-variable__group--open"),t.$elements.dropdownTokens.addClass("form-variable__group-item--hidden-by-search"),t.$elements.dropdownTokens.filter((function(t,n){return-1!==n.dataset.search.search(e)})).removeClass("form-variable__group-item--hidden-by-search")),t.updateGroupsOfTokensVisibility()}),30)),this.$elements.searchField.on("focus",(function(){t.$elements.wrapper.addClass("form-variable--search-focus")})),this.$elements.searchField.on("blur",(function(){t.$elements.wrapper.removeClass("form-variable--search-focus")}))}},{key:"setFilter",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.$elements.dropdownTokens.removeClass("form-variable__group-item--hidden-by-filter"):(this.$elements.dropdownTokens.addClass("form-variable__group-item--hidden-by-filter"),this.$elements.dropdownTokens.filter((function(e,n){return("int"==n.dataset.type&&"float"==t.Field.attributes.fieldType?"float":n.dataset.type)==t.Field.attributes.fieldType})).removeClass("form-variable__group-item--hidden-by-filter")),this.updateGroupsOfTokensVisibility()}},{key:"updateGroupsOfTokensVisibility",value:function(){var t=!1;this.$elements.allGroups.removeClass("form-variable__group--without-available-tokens"),this.$elements.allGroups.filter((function(e,n){n.querySelectorAll(".form-variable__group-item:not(.form-variable__group-item--hidden-by-filter):not(.form-variable__group-item--hidden-by-search)").length>0?t=!0:n.classList.add("form-variable__group--without-available-tokens")})),t?(this.$elements.noResultsOption.addClass("form-variable__group-item-no-results--hide"),this.$elements.separators.triggers&&(0===this.$elements.allGroups.filter(".form-variable__group--trigger:not(.form-variable__group--without-available-tokens)").length?this.$elements.separators.triggers.classList.add("form-variable__group-item--hidden-by-search"):this.$elements.separators.triggers.classList.remove("form-variable__group-item--hidden-by-search")),this.$elements.separators.actions&&(0===this.$elements.allGroups.filter(".form-variable__group--action:not(.form-variable__group--without-available-tokens)").length?this.$elements.separators.actions.classList.add("form-variable__group-item--hidden-by-search"):this.$elements.separators.actions.classList.remove("form-variable__group-item--hidden-by-search"))):(this.$elements.noResultsOption.removeClass("form-variable__group-item-no-results--hide"),this.$elements.separators.triggers&&this.$elements.separators.triggers.classList.add("form-variable__group-item--hidden-by-search"),this.$elements.separators.actions&&this.$elements.separators.actions.classList.add("form-variable__group-item--hidden-by-search"))}},{key:"open",value:function(){if(["date","time"].includes(this.Field.attributes.fieldType))try{this.Field.flatpickrInstance.close()}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}this.$elements.wrapper.addClass("form-variable--open"),this.data.isOpen=!0,this.closeWhenClickedOutside(),this.$elements.searchField.val("").trigger("input").css({"padding-right":"".concat((_uo.utility.isDefined(this.$elements.filterContainer)?this.$elements.filterContainer.outerWidth():0)+12,"px")}),this.$elements.searchField.focus(),this.setDropdownView(),this.setDropdownDirection(),this.setDropdownHeight(),this.addContextMenus(),document.dispatchEvent(new CustomEvent("uap/builder/legacy/field/token-selector/open",{detail:{fieldCode:this.Field.attributes.optionCode}}))}},{key:"addContextMenus",value:function(){var t=this;this.tokens.forEach((function(e,n){try{var i=new uap.ContextMenu({id:"tokens",$element:e.$toggleButton[0]});t.tokens[n].contextMenu=i;var o=i.addGroup({id:"testing",name:_uo.utility.escHTML(wp.i18n.__("Debugging tools","uncanny-automator"))});"advanced"==e.id?o.addItem({id:"add-all-tokens",name:_uo.utility.escHTML(wp.i18n.__("Add all in this group","uncanny-automator")),disabled:!0}):o.addItem({id:"add-all-tokens",name:_uo.utility.escHTML(wp.i18n.__("Add all in this group","uncanny-automator")),callback:function(){t.addAllTokensInGroupCallback(e)}})}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}}))}},{key:"close",value:function(t){var e=t.triggeredBy,n=void 0===e?"unknown":e;this.$elements.wrapper.removeClass("form-variable--open"),this.data.isOpen=!1,this.$elements.searchField.val("").trigger("input"),s()(document).off("mouseup.uap-token-selector-click-outside"),this.tokens.forEach((function(t,e){try{t.contextMenu.destroy()}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}})),document.dispatchEvent(new CustomEvent("uap/builder/legacy/field/token-selector/close",{detail:{fieldCode:this.Field.attributes.optionCode,triggeredBy:n}}))}},{key:"destroy",value:function(){this.$elements.renderContainer.children().insertAfter(this.$elements.wrapper),this.$elements.wrapper.remove()}},{key:"closeWhenClickedOutside",value:function(){var t=this;s()(document).on("mouseup.uap-token-selector-click-outside",(function(e){var n=t.$elements.wrapper;n.is(e.target)||0!==n.has(e.target).length||t.close({triggeredBy:"click-outside"})}))}},{key:"getDropdownPosition",value:function(){var t=s()(window),e={};e.above=this.$elements.wrapper.offset().top-t.scrollTop(),e.below=t.height()-(e.above+this.$elements.wrapper.outerHeight()),"textarea"==this.Field.type&&(e.below=t.height()-(e.above+38)),this.$elements.dropdown.addClass("uo-realsize");var n=this.$elements.dropdown.outerHeight()+110;return this.$elements.dropdown.removeClass("uo-realsize"),"textarea"==this.Field.type?e.hasSpaceBelow=!0:e.hasSpaceBelow=e.below>=n,e}},{key:"setDropdownView",value:function(){this.$elements.dropdown.width()<350&&this.$elements.wrapper.addClass("form-variable--bubble")}},{key:"setDropdownDirection",value:function(){var t=this.getDropdownPosition();this.$elements.wrapper.removeClass("form-variable--above form-variable--below"),t.below>t.above||t.hasSpaceBelow?(this.$elements.wrapper.addClass("form-variable--below"),this.data.position="below"):(this.$elements.wrapper.addClass("form-variable--above"),this.data.position="above")}},{key:"setDropdownHeight",value:function(){if(this.data.isOpen){var t=this.getDropdownPosition()[this.data.position]-this.$elements.searchField.outerHeight()-45;this.$elements.dropdownGroupsContainer.css({"max-height":"".concat(t,"px")})}}},{key:"focusSearchField",value:function(){this.$elements.searchField.focus()}},{key:"resizeDropdownOnWindowResize",value:function(){var t=this;s()(window).on("resize",_uo.utility.throttle((function(){t.setDropdownDirection(),t.setDropdownHeight()}),20))}},{key:"resizeDropdownOnWindowScroll",value:function(){var t=this;s()(window).on("scroll",_uo.utility.debounce((function(){t.setDropdownDirection(),t.setDropdownHeight()}),300))}},{key:"refreshOnFieldChange",value:function(){var t=this;this.Field.formElement.on("automator:field:change",(function(){t.setDropdownDirection(),t.setDropdownHeight()}))}},{key:"shouldSupportFilters",value:function(){var t=this.Field.attributes.fieldType;return["email","int","float","url","date","time"].includes(t)}}]),t}(),kt=n(2284),Tt=n(296),Et=n(467),Dt=n(7528),Mt=n(4756),Ct=n.n(Mt),xt=n(2618),Lt=n(2777),St=n(1141),It=n.n(St);function Ot(t){var e=jt();return function(){var n,i=(0,Y.A)(t);if(e){var o=(0,Y.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,G.A)(this,n)}}function jt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(jt=function(){return!!t})()}function Ut(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function Pt(t,e,n){return t.set(Ft(t,e),n),n}function Ht(t,e){return t.get(Ft(t,e))}function Ft(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function $t(t){var e=function(t){if("object"!=(0,kt.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,kt.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,kt.A)(e)?e:e+""}function Rt(t,e,n){"symbol"==(0,kt.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function qt(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,kt.A)(t):"null"));return t}function Vt(t){return t}function Nt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nt(Object(n),!0).forEach((function(e){(0,i.A)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}new(nt=new WeakMap,it=new WeakMap,ot=new WeakMap,at=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Rt((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Rt(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,kt.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},(p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:$t(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return qt(e)===t}:undefined)}}})(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(et=function(t){(0,z.A)(i,t);var e,n=Ot(i);function i(){var t;(0,o.A)(this,i);for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(t=n.call.apply(n,[this].concat(r))).snackbarDuration=3e3,Ut((0,B.A)(t),nt,dt((0,B.A)(t))),Ut((0,B.A)(t),it,(pt((0,B.A)(t)),ft((0,B.A)(t),_uo.utility.escHTML(wp.i18n.__("Click to copy","uncanny-automator"))))),Ut((0,B.A)(t),ot,(ht((0,B.A)(t)),mt((0,B.A)(t),"default"))),yt((0,B.A)(t)),t}return(0,r.A)(i,[{key:"fieldID",get:function(){return Ht(nt,this)},set:function(t){Pt(nt,this,t)}},{key:"tooltip",get:function(){return Ht(it,this)},set:function(t){Pt(it,this,t)}},{key:"buttonState",get:function(){return Ht(ot,this)},set:function(t){Pt(ot,this,t)}},{key:"render",value:function(){var t={color:"copied"===this.buttonState?"success":"",icon:"copied"===this.buttonState?"check":"copy"};return(0,xt.qy)(rt||(rt=(0,Dt.A)(['\n\t\t\t<uo-tooltip>\n\t\t\t\t<span class="nowrap">','</span>\n\n\t\t\t\t<span slot="target">\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\t@click="','"\n\t\t\t\t\t\tcolor=','\n\t\t\t\t\t\tsize="small"\n\t\t\t\t\t>\n\t\t\t\t\t\t<uo-icon id="','"></uo-icon>\n\t\t\t\t\t</uo-button>\n\t\t\t\t</span>\n\t\t\t</uo-tooltip>\n\t\t'])),this.tooltip,this.handleClick,t.color,t.icon)}},{key:"handleClick",value:(e=(0,Et.A)(Ct().mark((function t(){var e;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=document.getElementById(this.fieldID),_uo.utility.isDefined(e)){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,navigator.clipboard.writeText(e.value);case 6:this.toggleState(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),console.error("Clipboard copy failed:",t.t0);case 12:case"end":return t.stop()}}),t,this,[[3,9]])}))),function(){return e.apply(this,arguments)})},{key:"toggleState",value:function(){var t=this;this.buttonState="copied";var e=document.querySelector('[for="'.concat(this.fieldID,'"]')),n=_uo.utility.isDefined(e)&&e.textContent?_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__('"%s" copied to clipboard',"uncanny-automator")),e.textContent):_uo.utility.escHTML(wp.i18n.__("Copied to clipboard","uncanny-automator"));_uo.utility.createSnackbar({iconId:"check",message:n,duration:this.snackbarDuration}),setTimeout((function(){t.buttonState="default"}),this.snackbarDuration)}}]),i}(xt.WF),[(0,Lt.EM)("uap-builder-field-click-to-copy")],[[(0,Lt.MZ)({type:String,attribute:"field-id"}),1,"fieldID"],[(0,Lt.MZ)({type:String}),1,"tooltip"],[(0,Lt.wk)({type:String}),1,"buttonState"]],0,0,xt.WF),st=(0,Tt.A)(at.e,6),dt=st[0],pt=st[1],ft=st[2],ht=st[3],mt=st[4],yt=st[5],ut=(0,Tt.A)(at.c,2),_t=ut[0],lt=ut[1],gt=et,(tt=function(t){(0,z.A)(n,t);var e=Ot(n);function n(){var t;return(0,o.A)(this,n),(t=e.call(this,_t)).styles=(0,xt.AH)(ct||(ct=(0,Dt.A)(["",""])),(0,xt.iz)(It())),(0,B.A)(t),lt(),t}return(0,r.A)(n)}(Vt))[gt]=void 0,tt);var Bt=function(){function t(e,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,o.A)(this,t),this.type=e,this.attributes=this.setAttributes(n),this.createDOMelements=i,this.customValidationFunction=r,i&&this.createFormElement()}return(0,r.A)(t,[{key:"createFormElement",value:function(){var e,n=this,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=null,r=this.type,a=this.attributes;if((0,V.RV)(r,N.s)){var u=s()("<div/>",{class:"form-element"});u.attr("data-integration-id",a.integrationID),u.attr("data-field-code",a.optionCode),_uo.utility.isDefined(a.formElementClass)&&u.addClass(a.formElementClass);var c,l,d,p={name:a.optionCode,id:a.uniqueFieldID,"data-isajax":a.isAjax,"data-targetfield":a.targetField,"data-integrationid":a.integrationID,"data-endPoint":a.endPoint,"data-supportsTokens":a.supportsTokens,"data-excludeDefaultToken":a.excludeDefaultToken,"data-supportsTinymce":a.supportsTinyMCE,"data-required":a.isRequired,"data-item_type":a.itemType,"data-item-id":a.itemId,"data-option-group":a.groupId,"data-is-hidden":a.isHidden,"data-is-child-field":a.isChildField};switch("textarea"===this.type&&(p["data-supportsfullpageediting"]=a.supportsFullPageEditing),r){case"select":c=s()("<div/>",{class:"form-select"}),this.fieldContainer=c,l=s()("<select/>",s().extend({},p,{"data-type":"select",class:"form-element__select","data-supports-custom-value":a.supportsCustomValue})),a.supportsMultipleValues&&(l.prop("multiple","multiple"),a.supportsCustomValue&&_uo.utility.isEmpty(a.currentValue)&&(a.currentValue=[],a.hasValue=!1)),this.field=l;var f,h,m=!1,y=0;a.hasDefaultValue&&(f=_uo.utility.isEmpty(a.defaultValue.option_value)||_uo.utility.isEmpty(a.defaultValue.option_name)?a.defaultValue:a.defaultValue.option_value);var g=s()('<optgroup class="form-element__select-normal-options"></optgroup>');if(a.options=a.options.filter((function(t){return!(0,V.Bd)(t.value)})),s().each(a.options,(function(t,e){var n=s()("<option/>",{value:e.value,text:e.text});a.hasDefaultValue&&f==t&&(n.prop("selected",!0),h=!0,m=!0),a.hasValue&&a.currentValue==e.value&&(n.prop("selected",!0),m=!0),n.appendTo(g),y++})),g.appendTo(l),a.supportsMultipleValues){if(!_uo.utility.isEmpty(a.currentValue))try{l.val(a.currentValue)}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}_uo.utility.isEmpty(l.val())||(m=!0)}if(a.hasDefaultValue&&!h&&!_uo.utility.isEmpty(a.defaultValue.option_value)&&!_uo.utility.isEmpty(a.defaultValue.option_name)){var _=s()("<option/>",{value:a.defaultValue.option_value,text:a.defaultValue.option_name});a.hasValue||a.defaultValue.option_value==a.currentValue||(_.prop("selected",!0),m=!0),_.prependTo(l),y++}if(a.hasPlaceholder&&(l.prepend("<option></option>"),a.hasDefaultValue||a.hasValue||l.find("option:selected").prop("selected",!1)),a.hasValue&&!(0,V.Bd)(a.currentValue)&&_uo.utility.isDefined(a.ajax)&&_uo.utility.isDefined(a.ajax.event)&&"search_options"===a.ajax.event&&((Array.isArray(a.currentValue)?a.currentValue:[a.currentValue]).forEach((function(t){var e=UncannyAutomator.recipe.items[a.itemId].meta["".concat(a.optionCode,"_readable")];e=_uo.utility.isDefined(e)?e:t;try{e=n._helperFindMultiselectLabel(e,t)}catch(t){console.warn(t)}if(_uo.utility.isDefined(a.repeaterOptionCode)&&_uo.utility.isDefined(a.repeaterRowIndex))try{e=UncannyAutomator.recipe.items[a.itemId].meta[a.repeaterOptionCode][a.repeaterRowIndex]["".concat(a.optionCode,"_readable")];try{e=n._helperFindMultiselectLabel(e,t)}catch(t){console.warn(t)}}catch(t){console.warn(t)}g.get(0).insertAdjacentHTML("afterBegin",'\n\t\t\t\t\t\t\t\t<option value="'.concat(t,'" selected="selected">\n\t\t\t\t\t\t\t\t\t').concat(e,"\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t")),y++})),m=!0),a.supportsCustomValue){var v=a.customValue,b=s()('\n\t\t\t\t\t\t\t<optgroup label="'.concat(_uo.utility.escHTML(wp.i18n.__("Other options","uncanny-automator")),'">\n\t\t\t\t\t\t\t\t<option value="automator_custom_value">').concat(_uo.utility.escHTML(wp.i18n.__("Use a token/custom value","uncanny-automator")),"</option>\n\t\t\t\t\t\t\t</optgroup>\n\t\t\t\t\t\t"));l.append(b),a.hasValue&&(0,V.Bd)(a.currentValue)&&(b.find("option").attr("selected",!0),m=!0),a.hasValue&&!m&&(b.find("option").attr("selected",!0),m=!0,v=a.currentValue),this.customValueField=new t("text",{parentID:a.parentID,itemId:a.itemId,itemType:a.itemType,isRequired:a.isRequired,isReadOnly:!1,supportsTinyMCE:!1,supportsCopyToClipboard:!1,supportsTokens:a.supportsTokens,isAjax:!1,fieldType:"text",optionCode:"".concat(a.optionCode,"_custom"),label:"",description:a.hasCustomValueDescription?a.customValueDescription:void 0,placeholder:"",isHidden:!1,tokenName:_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("%s (custom value)","uncanny-automator")),a.label),defaultValue:null,currentValue:v,isChildField:!0,parentOptionCode:a.optionCode})}if(this.selectHasSelectedOption=m,"search_options"!==(null===(e=a.ajax)||void 0===e?void 0:e.event)&&0==y){var w=s()(new Option(_uo.utility.escHTML(wp.i18n.__("No results found","uncanny-automator")),"",!0,!0));w.prop("disabled",!0),this.field.find(".form-element__select-normal-options").append(w),this.attributes.supportsCustomValue||this.field.prop("disabled",!0)}l.on("change",(function(t,e){u.trigger("automator:field:change",e)}));break;case"text":case"url":case"email":case"int":case"float":case"date":case"time":var A="form-input form-input--".concat(r);if(c=s()("<div/>",{class:A}),this.$fakeCodemirrorField=s()("<div/>",{class:"form-element__input-cm"}),c.append(this.$fakeCodemirrorField),this.fieldContainer=c,l=s()("<input/>",s().extend({},p,{class:"form-element__input",type:"text","data-type":r})),_uo.utility.isDefined(a.maxLength)&&l.prop("maxlength",a.maxLength),this.field=l,a.supportsTokens&&c.addClass("form-input--token"),a.hasPlaceholder&&l.prop("placeholder",a.placeholder),a.hasValue?l.prop("value",a.currentValue):a.hasDefaultValue&&l.prop("value",a.defaultValue),["date","time"].includes(a.fieldType)){var k=s()('\n\t\t\t\t\t\t\t\t<div class="form-element__input-clear" uap-tooltip="'.concat(_uo.utility.escHTML(wp.i18n._x("Clear","Verb","uncanny-automator")),'">\n\t\t\t\t\t\t\t\t\t<uo-icon id="xmark"></uo-icon>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t'));c.addClass("form-input--has-clear"),this.$fakeCodemirrorField.append(k),k.on("click",(function(){n.clearValue()}))}if(["int","float"].includes(a.fieldType)&&(_uo.utility.isEmpty(a.minNumber)||l.get(0).setAttribute("data-min",a.minNumber),_uo.utility.isEmpty(a.maxNumber)||l.get(0).setAttribute("data-max",a.maxNumber)),_uo.utility.isDefined(a.supportsCopyToClipboard)&&a.supportsCopyToClipboard){c.addClass("form-input--has-copy");var T=document.createElement("uap-builder-field-click-to-copy");T.fieldID=a.uniqueFieldID,this.$fakeCodemirrorField.append(T)}l.on("input",(function(){u.trigger("automator:field:change")}));break;case"textarea":c=s()("<div/>",{class:"form-textarea"}),this.fieldContainer=c,l=s()("<textarea/>",s().extend(!0,p,{"data-type":"textarea",class:"form-element__textarea","data-item_type":a.itemType})),_uo.utility.isDefined(a.maxLength)&&l.prop("maxlength",a.maxLength),this.field=l,a.supportsTokens&&c.addClass("form-textarea--token"),a.hasPlaceholder&&l.prop("placeholder",a.placeholder),this.$fakeCodemirrorField=s()("<div/>",{class:"form-element__input-cm"}),c.append(this.$fakeCodemirrorField),a.hasValue?l.text(a.currentValue):a.hasDefaultValue&&l.text(a.defaultValue),l.on("input",(function(){u.trigger("automator:field:change")}));break;case"checkbox":c=s()("<div/>",{class:"form-checkbox"}),this.fieldContainer=c;var E=s()("<label/>",{class:"form-checkbox__container"}),D=s()("<div/>",{class:"checkbox--show"});if(l=s()("<input/>",s().extend({},p,{type:"checkbox","data-type":"checkbox",class:"checkbox--hidden checkbox--primary"})),a.hasValue&&a.currentValue&&l.prop("checked",!0),this.field=l,a.hasLabel&&(_uo.utility.isDefined(a.isToggle)&&a.isToggle?c[0].insertAdjacentHTML("afterBegin",'\n\t\t\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\t\t\tfor="'.concat(p.id,'"\n\t\t\t\t\t\t\t\t\t\tclass="form-element__label"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t').concat(a.label,"\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t")):E[0].innerHTML=a.label),c.append(E),E.append(l),E.append(D),_uo.utility.isDefined(a.isToggle)&&a.isToggle){c.addClass("form-checkbox--toggle"),_uo.utility.isDefined(a.toggle)||(a.toggle={on:_uo.utility.escHTML(wp.i18n.__("Yes","uncanny-automator")),off:_uo.utility.escHTML(wp.i18n.__("No","uncanny-automator"))});var M=s()("<span/>",{class:"checkbox-label checkbox-label--on"}).text(a.toggle.on);E.append(M);var C=s()("<span/>",{class:"checkbox-label checkbox-label--off"}).text(a.toggle.off);E.append(C)}if(_uo.utility.isDefined(a.color))if((0,V.RV)(a.color,["gutenberg","green"]))switch(a.color){case"gutenberg":c.addClass("form-checkbox--toggle-gutenberg");break;case"green":c.addClass("form-checkbox--toggle-green")}else console.error("The color ".concat(a.color," does not exists. Default color will be used instead."));_uo.utility.isDefined(a.align)&&((0,V.RV)(a.align,["left","right"])?"right"==a.align&&c.addClass("form-checkbox--toggle-right"):console.error("The alignment ".concat(a.align,' does not exists. "left" will be used instead.'))),l.on("change",(function(t,e){u.trigger("automator:field:change",e)})),l=E;break;case"radio":c=s()("<div/>",{class:"form-radio"}),this.fieldContainer=c;var x=s()(),L=s()();s().each(a.options,(function(t,e){var n=s()("<label/>",{class:"form-radio__container"});n.html(e.text);var i=s()("<input/>",s().extend({},p,{type:"radio","data-type":"radio",class:"radio--hidden radio--primary",value:e.value,name:p.id}));x=x.add(i);var o=s()("<div/>",{class:"radio--show"});n.append(i),n.append(o),(a.hasValue&&a.currentValue==e.value||!a.hasValue&&a.hasDefaultValue&&a.defaultValue==e.value)&&i.prop("checked",!0),L=L.add(n)})),this.field=L,l=L,x.on("change",(function(t,e){u.trigger("automator:field:change",e)}));break;case"file":c=s()("<div/>",{class:"form-file"}),this.fieldContainer=c,l=s()("<uo-field-input-file/>",{multiple:a.supportsMultipleValues,required:a.isRequired,value:a.currentValue}),a.fileTypes&&l.prop("fileTypes",a.fileTypes),this.field=l,this.field.on("change",(function(t,e){u.trigger("automator:field:change",e)}))}if(c.append(l),"checkbox"!=r&&(a.hasLabel||a.isRequired)&&(d=s()("<label/>",{class:"form-element__label",for:a.uniqueFieldID}),a.hasLabel&&d.html(a.label)),a.isRequired)if(c.addClass("form-element--required"),"checkbox"==a.fieldType){if(l.find("input").prop("required",!0),a.hasLabel){var S=s()("<span/>",{class:"form-element-label__required"});l.append(S)}}else if(l.prop("required",!0),a.hasLabel){var I=s()("<span/>",{class:"form-element-label__required"});d.append(I)}_uo.utility.isDefined(a.isReadOnly)&&a.isReadOnly&&(["date","time"].includes(this.attributes.fieldType)||c.addClass("form-element--readonly"),"select"==a.fieldType?l.prop("disabled",!0):["checkbox","radio"].includes(a.fieldType)?l.find("input").prop("disabled",!0):l.prop("readonly",!0)),(a.hasLabel||a.isRequired)&&c.prepend(d);var O=s()("<div/>",{class:"form-element__error"});if(c.append(O),this.fieldContainer=c,a.hasDescription){var j=s()("<div/>",{class:"description"});j.html(a.description),c.append(j)}_uo.utility.isDefined(a.ajax)&&_uo.utility.isDefined(a.ajax.event)&&["parent_fields_change","on_load"].includes(a.ajax.event)&&d.get(0).insertAdjacentHTML("beforeEnd",'\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\tcolor="secondary"\n\t\t\t\t\t\tsize="extra-small"\n\t\t\t\t\t\tclass="form-element-ajax-refresh-btn"\n\t\t\t\t\t>\n\t\t\t\t\t\t<uo-icon id="rotate"></uo-icon>\n\n\t\t\t\t\t\t'.concat("select"===this.type?_uo.utility.escHTML(wp.i18n.__("Refresh options","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("Refresh","uncanny-automator")),"\n\t\t\t\t\t</uo-button>\n\t\t\t\t")),a.isHidden&&c.addClass("form-element--hidden"),u.append(c),"select"==a.fieldType&&_uo.utility.isDefined(this.customValueField)&&(this.customValueFieldContainer=s()('<div class="form-select-custom">\n\t\t\t\t\t\t<div class="form-element-children"></div>\n\t\t\t\t\t</div>'),this.customValueFieldContainer.find(".form-element-children").append(this.customValueField.createFormElement()),u.append(this.customValueFieldContainer),a.supportsMultipleValues&&c.addClass("form-multi-select-custom"),(0,V.Bd)(this.getValue())?this.customValueFieldContainer.addClass("form-select-custom--visible"):this.customValueFieldContainer.removeClass("form-select-custom--visible")),this.field.get(0).fieldInstance=this,o=u,this.formElement=u,i&&this.initLibraries(),this.handleAJAX(),this.onChange(),this.onFocus()}else console.error('The field type "'.concat(r,'" is invalid. The valid ones are ').concat(N.s.join(", ")));return o}},{key:"setAttributes",value:function(t){if(t.fieldType=this.type,t.uniqueFieldID="".concat(t.optionCode,"__").concat(_uo.utility.getUniqueID()),"checkbox"!=t.fieldType||_uo.utility.isEmpty(t.currentValue)||["true","false"].includes(t.currentValue)&&(t.currentValue="true"==t.currentValue,t.currentValue?t.hasValue=!0:t.hasValue=!1),_uo.utility.isDefined(t.hasValue)||(_uo.utility.isEmpty(t.currentValue)?t.hasValue=!1:t.hasValue=!0),_uo.utility.isEmpty(t.placeholder)&&"select"===this.type&&_uo.utility.isDefined(t.ajax)&&_uo.utility.isDefined(t.ajax.event)&&"search_options"===t.ajax.event&&(t.placeholder=_uo.utility.escHTML(wp.i18n.__("Search...","uncanny-automator"))),_uo.utility.isDefined(t.hasPlaceholder)||(_uo.utility.isEmpty(t.placeholder)?t.hasPlaceholder=!1:t.hasPlaceholder=!0),_uo.utility.isDefined(t.hasDefaultValue)||(_uo.utility.isEmpty(t.defaultValue)?t.hasDefaultValue=!1:t.hasDefaultValue=!0),_uo.utility.isDefined(t.hasLabel)||(_uo.utility.isEmpty(t.label)?t.hasLabel=!1:t.hasLabel=!0),_uo.utility.isDefined(t.showLabelInSentence)||(t.showLabelInSentence=!0),_uo.utility.isDefined(t.hasDescription)||(_uo.utility.isEmpty(t.description)?t.hasDescription=!1:t.hasDescription=!0),_uo.utility.isEmpty(t.tokenName)&&(t.tokenName=t.label),_uo.utility.isDefined(t.supportsCopyToClipboard)||(t.supportsCopyToClipboard=!1),_uo.utility.isDefined(t.isRequired)||(t.isRequired=!1),_uo.utility.isDefined(t.isChildField)||(t.isChildField=!1),_uo.utility.isDefined(t.isReadOnly)||(t.isReadOnly=!1),_uo.utility.isDefined(t.supportsMultipleValues)||(t.supportsMultipleValues=!1),"file"!==this.type||_uo.utility.isDefined(t.fileTypes)||(t.fileTypes=[]),"select"==t.fieldType){if(t.supportsMultipleValues?_uo.utility.isDefined(t.supportsCustomValue)||(t.supportsCustomValue=!1):_uo.utility.isDefined(t.supportsCustomValue)||(["condition","action","closure","loop-filter"].includes(t.itemType)?t.supportsCustomValue=!0:t.supportsCustomValue=!1),t.supportsMultipleValues)try{t.currentValue=JSON.parse(t.currentValue)}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}t.hasCustomValueDescription=!_uo.utility.isEmpty(t.customValueDescription)}if(["radio","select"].includes(t.fieldType)&&(_uo.utility.isDefined(t.options)||(t.options=[]),_uo.utility.isDefined(t.optionsShowID)||(t.optionsShowID=!0)),["int","float"].includes(t.fieldType)){if(!_uo.utility.isEmpty(t.minNumber)){var e=parseFloat(t.minNumber);isNaN(e)||(t.minNumber=e)}if(!_uo.utility.isEmpty(t.maxNumber)){var n=parseFloat(t.maxNumber);isNaN(n)||(t.maxNumber=n)}}if("date"==t.fieldType&&(t.isReadOnly=!0,_uo.utility.isDefined(t.dateFormat)||(t.dateFormat="Y-m-d"),_uo.utility.isDefined(t.dateAltFormat)||(t.dateAltFormat=UncannyAutomator._site.date_format),_uo.utility.isDefined(t.minDate)&&(t.minDate=t.minDate),_uo.utility.isDefined(t.maxDate)&&(t.maxDate=t.maxDate),_uo.utility.isDefined(t.supportsRange)||(t.supportsRange=!1)),_uo.utility.isDefined(t.clearWhenAddingToken)||(t.clearWhenAddingToken=!1),"time"==t.fieldType){t.isReadOnly=!0,_uo.utility.isDefined(t.timeFormat)||(t.timeFormat="h:i K"),_uo.utility.isDefined(t.timeAltFormat)||(t.timeAltFormat=UncannyAutomator._site.time_format);var i={a:"K",A:"K",B:"",G:"H",g:"h",h:"g"};try{t.timeAltFormat=t.timeAltFormat.replace(new RegExp(Object.keys(i).join("|"),"g"),(function(t){return i[t]}))}catch(e){t.timeAltFormat=t.timeFormat,UncannyAutomatorBackend.debugging.enabled&&console.warn(e)}_uo.utility.isDefined(t.minTime)&&(t.minTime=t.minTime),_uo.utility.isDefined(t.maxTime)&&(t.maxTime=t.maxTime)}return _uo.utility.isDefined(t.supportsMarkdown)||(t.supportsMarkdown=!1),_uo.utility.isDefined(t.supportsTinyMCE)||(t.supportsTinyMCE=!1),t.supportsTinyMCE&&!_uo.utility.isDefined(t.supportsFullPageEditing)&&(t.supportsFullPageEditing=!1),!_uo.utility.isDefined(t.isToggle)&&_uo.utility.isDefined(t.toggle)&&(t.isToggle=!0),_uo.utility.isDefined(t.isAjax)||(t.isAjax=!1),_uo.utility.isDefined(t.ajax)&&_uo.utility.isDefined(t.ajax.event)&&(t.ajax.firstLoadDone=!1),_uo.utility.isDefined(t.isHidden)||(t.isHidden=!1),_uo.utility.isDefined(t.unsupportedTokens)||(t.unsupportedTokens=[]),_uo.utility.isDefined(t.onlyLoopableTokens)||(t.onlyLoopableTokens=!1),"trigger"==t.itemType&&(t.supportsTokens=!1),_uo.utility.isDefined(t.supportsTokens)||(["text","textarea","int","float","email","url","select","date","time"].includes(t.fieldType)&&["condition","action","closure","loop-filter"].includes(t.itemType)&&!t.isReadOnly?t.supportsTokens=!0:t.supportsTokens=!1),t.supportsTokens&&"select"==t.fieldType&&!["condition","action","closure","loop-filter"].includes(t.itemType)&&(t.supportsTokens=!1),t}},{key:"getAjaxRequestData",value:function(t){var e=t.fieldToListenToCode;return{recipe_id:UncannyAutomator._recipe.recipe_id,parent_id:this.attributes.parentID,item_id:this.attributes.itemId,group_id:this.attributes.groupId,field_id:this.attributes.optionCode,triggered_by:e,values:(0,V.Iv)({itemType:this.attributes.itemType,itemID:this.attributes.itemId,field:this})}}},{key:"handleAJAX",value:function(){var t=this;if(_uo.utility.isDefined(this.attributes.ajax)&&_uo.utility.isDefined(this.attributes.ajax.event)){var e=function(e){var n=e.fieldToListenToCode,i=void 0===n?"":n,o=e.onSuccess,r=void 0===o?function(){}:o,a=e.extraAttributes,s=void 0===a?{}:a,u=(0,V.Iv)({itemType:t.attributes.itemType,itemID:t.attributes.itemId,field:t}),c=Wt(Wt({},t.getAjaxRequestData({fieldToListenToCode:i})),s);t.clearError(),(0,V.WE)(t.attributes.ajax.endpoint,c,(function(e){t.attributes.ajax.firstLoadDone=!0;try{r()}catch(t){}if(_uo.utility.isDefined(e.success)&&!e.success)return _uo.utility.isEmpty(e.error)||t.setError(e.error),"select"===t.type&&t.setSelectOptions([],!1),void t.setValue("");_uo.utility.isDefined(e.options)&&t.setSelectOptions(e.options,!1),_uo.utility.isDefined(e.value)?t.setValue(e.value):["loop-filter","condition"].includes(t.attributes.itemType)?_uo.utility.isDefined(u[t.attributes.optionCode])&&_uo.utility.isDefined(u[t.attributes.optionCode].value)&&(0,V.Bd)(u[t.attributes.optionCode].value)?t.setValue(u["".concat(t.attributes.optionCode)].custom):t.attributes.supportsMultipleValues||_uo.utility.isDefined(u[t.attributes.optionCode])&&t.field.get(0).querySelector('option[value="'.concat(u[t.attributes.optionCode].value,'"]'))?t.setValue(u[t.attributes.optionCode].value):t.setValue(""):(0,V.Bd)(u[t.attributes.optionCode])?t.setValue(u["".concat(t.attributes.optionCode,"_custom")]):t.attributes.supportsMultipleValues||t.field.get(0).querySelector('option[value="'.concat(u[t.attributes.optionCode],'"]'))?t.setValue(u[t.attributes.optionCode]):t.setValue("")}))};if("parent_fields_change"===this.attributes.ajax.event){if(!_uo.utility.isDefined(this.attributes.ajax.listenFields)&&Array.isArray(this.attributes.ajax.listenFields))return;this.attributes.ajax.listenFields.forEach((function(n){var i=(0,V.VI)(t.attributes.itemId,n,t.attributes.itemType),o=["date","time","select","radio","checkbox","file"].includes(i.type)?0:1e3;i.formElement.on("automator:field:change",_uo.utility.debounce((function(n,o){_uo.utility.isDefined(o)&&_uo.utility.isDefined(o.source)&&"getFormElement"===o.source||(i.startLoadingAnimation(),t.startLoadingAnimation(),e({extraAttributes:{context:"parent-field-changed"},fieldToListenToCode:i.attributes.optionCode,onSuccess:function(){i.stopLoadingAnimation(),t.stopLoadingAnimation()}}))}),o)),"select"===i.type&&i.attributes.supportsCustomValue&&i.customValueField.formElement.on("automator:field:change",_uo.utility.debounce((function(n,o){_uo.utility.isDefined(o)&&_uo.utility.isDefined(o.source)&&"getFormElement"===o.source||(i.startLoadingAnimation(),i.customValueField.startLoadingAnimation(),t.startLoadingAnimation(),e({extraAttributes:{context:"parent-field-changed"},fieldToListenToCode:i.attributes.optionCode,onSuccess:function(){i.stopLoadingAnimation(),i.customValueField.stopLoadingAnimation(),t.stopLoadingAnimation()}}))}),1e3)),_uo.utility.isDefined(i.attributes.ajax)||i.field.trigger("automator:field:change")})),this.$ajaxRefreshBtn&&this.$ajaxRefreshBtn.addEventListener("click",(function(){t.startLoadingAnimation(),e({extraAttributes:{context:"refresh-button"},fieldToListenToCode:t.attributes.optionCode,onSuccess:function(){t.stopLoadingAnimation()}})}))}"on_load"===this.attributes.ajax.event&&(this.startLoadingAnimation(),e({extraAttributes:{context:"on-load"},fieldToListenToCode:this.attributes.optionCode,onSuccess:function(){t.stopLoadingAnimation()}}),this.$ajaxRefreshBtn&&this.$ajaxRefreshBtn.addEventListener("click",(function(){t.startLoadingAnimation(),e({extraAttributes:{context:"refresh-button"},fieldToListenToCode:t.attributes.optionCode,onSuccess:function(){t.stopLoadingAnimation()}})}))),"search_options"===this.attributes.ajax.event&&_uo.utility.isDefined(this.attributes.ajax.clearOnChangeFields)&&Array.isArray(this.attributes.ajax.clearOnChangeFields)&&this.attributes.ajax.clearOnChangeFields.forEach((function(e){var n=(0,V.VI)(t.attributes.itemId,e,t.attributes.itemType),i=["date","time","select","radio","file","checkbox"].includes(n.type)?0:1e3;n.formElement.on("automator:field:change",_uo.utility.debounce((function(e,n){t.setValue("")}),i)),"select"===n.type&&n.attributes.supportsCustomValue&&n.customValueField.formElement.on("automator:field:change",_uo.utility.debounce((function(e,n){t.setValue("")}),1e3))}))}}},{key:"updateAttributes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type=t;var n=Wt(Wt(Wt({},this.attributes),e),{fieldType:t}),i=this.getFormElement();this.attributes=this.setAttributes(n),this.createFormElement(),i.replaceWith(this.formElement),this.initLibraries(),this.initTokenSelector(),this.initFlatpickr(),this.initCodeMirror()}},{key:"_helperFindMultiselectLabel",value:function(t,e){var n=JSON.parse(t).map((function(t){return t.split("::")})).find((function(t){return t[0]==e}));return n&&(t=n[1]),t}},{key:"validate",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.attributes.dynamic_visibility&&this.applyDynamicVisibility();var e,n=null;t?(n=this.getFieldContainer(),e=this.getValue()):e=this.attributes.currentValue,this.type;var i={supportsTokens:this.attributes.supportsTokens,required:this.attributes.isRequired,isHidden:this.attributes.isHidden};return"textarea"===this.type&&(i.supportsFullPageEditing=this.attributes.supportsFullPageEditing),["int","float"].includes(this.type)&&(_uo.utility.isDefined(this.attributes.minNumber)&&(i.minNumber=this.attributes.minNumber),_uo.utility.isDefined(this.attributes.maxNumber)&&(i.maxNumber=this.attributes.maxNumber)),(0,W.jr)(n,this.type,e,i,this.customValidationFunction)}},{key:"setError",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";_uo.utility.isEmpty(t)||this.field&&(this.$errorWrapper.innerHTML=t,this.formElement.get(0).classList.add("form-element--error"))}},{key:"clearError",value:function(){this.field&&(this.$errorWrapper.innerHTML="",this.formElement.get(0).classList.remove("form-element--error"))}},{key:"$errorWrapper",get:function(){return this.formElement.get(0).querySelector(".form-element__error")}},{key:"onChange",value:function(){var t=this;this.formElement.on("automator:field:change",(function(e,n){if(_uo.utility.isDefined(t.fieldContainer)&&(_uo.utility.isEmpty(t.getValue())?t.fieldContainer.removeClass("form-input--has-value"):t.fieldContainer.addClass("form-input--has-value")),"select"==t.attributes.fieldType&&t.attributes.supportsCustomValue){var i=t.attributes.supportsMultipleValues,o=!1,r=t.getValue(),a=(0,V.Bd)(r);i&&a&&r.length>1&&(r=["automator_custom_value"],o=!0),a?(t.customValueFieldContainer.addClass("form-select-custom--visible"),i&&(t.field.prop("disabled")||t.field.prop("disabled",!0),t.fieldContainer.addClass("form-multi-select-custom--visible"),t.fieldContainer.off("click",".select2-selection__clear"),t.fieldContainer.on("click",".select2-selection__clear",(function(){t.field.prop("disabled",!1).val(null).trigger("change")})),o&&setTimeout((function(){t.setValue(["automator_custom_value"],!0)}),0))):(t.customValueFieldContainer.removeClass("form-select-custom--visible"),i&&(t.field.prop("disabled")&&t.field.prop("disabled",!1),t.fieldContainer.removeClass("form-multi-select-custom--visible")))}var s=function(){if(t.attributes.isAjax&&t.attributes.targetField!==t.attributes.optionCode&&t.doAJAX(),_uo.utility.isDefined(t.attributes.isChildField)&&t.attributes.isChildField&&_uo.utility.isDefined(t.attributes.parentOptionCode)){var e=(0,V.VI)(t.attributes.itemId,t.attributes.parentOptionCode,t.attributes.itemType);_uo.utility.isDefined(e)&&e.doAJAX()}};if(t.attributes.isAjax&&_uo.utility.isDefined(t.attributes.targetField)&&t.attributes.targetField!==t.attributes.optionCode&&(t.attributes.completedFirstLoad||_uo.utility.isEmpty(t.attributes.currentValue)&&!t.attributes.hasDefaultValue&&!t.attributes.completedFirstLoad)){var u=(0,V.VI)(t.attributes.itemId,t.attributes.targetField,t.attributes.itemType);u.attributes.supportsMultipleValues||(u.setValue(null,!1),u.setCustomValue(null,!1))}return["select","radio","checkbox","file"].includes(t.attributes.fieldType)?s():(_uo.utility.isDefined(t.onChangeTimeout)&&clearTimeout(t.onChangeTimeout),t.onChangeTimeout=setTimeout((function(){s()}),1500)),!1}))}},{key:"onFocus",value:function(){var t=this;this.field.on("focusin",(function(e){t.attributes.isReadOnly&&s()(e.currentTarget).select()})),this.field.on("focusout",(function(){}))}},{key:"isReady",value:function(){return _uo.utility.isDefined(UncannyAutomator.recipe.items[this.attributes.itemId])}},{key:"doAJAX",value:function(){var t=this;if(_uo.utility.isDefined(this.getValue())?this.getValue():this.getMetaValue(),this.attributes.isAjax){var e=this;if(this.attributes.optionCode!=this.attributes.targetField&&(e=(0,V.VI)(this.attributes.itemId,this.attributes.targetField,this.attributes.itemType)),!_uo.utility.isEmpty(this.attributes.integrationId)&&!_uo.utility.isEmpty(this.attributes.endpoint)){this.startLoadingAnimation(),e.startLoadingAnimation();var n=this.getValue(),i=_uo.utility.isDefined(e.getValue())?e.getValue():e.getMetaValue();(0,V.WE)(this.attributes.endpoint,{recipe_id:UncannyAutomator._recipe.recipe_id,integration_id:this.attributes.integrationId,item_id:this.attributes.itemId,group_id:this.attributes.groupId,field_id:this.attributes.optionCode,target_field:this.attributes.targetField,value:n,values:(0,V.Iv)({itemType:this.attributes.itemType,itemID:this.attributes.itemId,field:this})},(function(n){if(t.stopLoadingAnimation(),e.stopLoadingAnimation(),"select"==e.getAttributes().fieldType&&Array.isArray(n)){if(t.attributes.isAjax&&!t.attributes.supportsMultipleValues&&_uo.utility.isDefined(t.attributes.targetField)&&t.attributes.targetField!==t.attributes.optionCode&&(t.attributes.completedFirstLoad||_uo.utility.isEmpty(t.attributes.currentValue)&&!t.attributes.hasDefaultValue&&!t.attributes.completedFirstLoad)&&(i=null),!t.attributes.completedFirstLoad&&_uo.utility.isEmpty(i)&&(i=e.attributes.currentValue),(0,V.Bd)(i)){var o=e.getSelectCustomValue();i=_uo.utility.isEmpty(o)?null:o}e.setSelectOptions(n,!1),e.setValue(i)}else e.setValue(n);t.attributes.completedFirstLoad=!0}))}}}},{key:"getFormElement",value:function(){var t=this;if(["trigger","action","closure"].includes(this.attributes.itemType)&&this.isReady()){this.attributes.completedFirstLoad=!1,_uo.utility.isDefined(this.attributes.ajax)&&_uo.utility.isDefined(this.attributes.ajax.firstLoadDone)&&(this.attributes.ajax.firstLoadDone=!1);var e=!1;try{e=UncannyAutomator.recipe.items[this.attributes.itemId].options[this.attributes.groupId].fields.reduce((function(e,n){return e||n.attributes.targetField==t.attributes.optionCode&&n.attributes.optionCode!=t.attributes.optionCode&&n.attributes.isAjax}),!1)}catch(t){UncannyAutomator._site.has_debug_enabled}e||(this.attributes.targetField==this.attributes.optionCode&&this.attributes.isAjax&&this.doAJAX(),this.field.trigger("automator:field:change",{source:"getFormElement",manuallySet:!1}))}return this.formElement}},{key:"$wrapper",get:function(){return this.getFormElement()}},{key:"getFieldContainer",value:function(){return this.fieldContainer}},{key:"getFieldID",value:function(){return this.attributes.optionCode}},{key:"id",get:function(){return this.getFieldID()}},{key:"$ajaxRefreshBtn",get:function(){return this.formElement.get(0).querySelector(".form-element-ajax-refresh-btn")}},{key:"getField",value:function(){return this.field}},{key:"getFieldCM",value:function(){return this.$fakeCodemirrorField}},{key:"getAttributes",value:function(){return this.attributes}},{key:"getValue",value:function(){var t=null;if(_uo.utility.isDefined(this.field))switch(this.type){case"select":t=_uo.utility.isDefined(this.attributes.ajax)&&!this.attributes.ajax.firstLoadDone?this.valueFromMeta:this.field.val();break;case"text":case"url":case"email":case"int":case"float":case"date":case"time":t=this.field.val();break;case"textarea":if(_uo.utility.isDefined(this.TokenSelector))try{this.TokenSelector.parseHTMLTokensInPlainTextarea()}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}t=this.field.val();try{_uo.utility.isDefined(this.fieldTinyMCE)&&!this.fieldTinyMCE.hidden&&(t=this.fieldTinyMCE.getContent({format:"raw"}))}catch(t){}break;case"checkbox":t=this.field.is(":checked");break;case"radio":t=this.field.find("input:checked").val();break;case"file":t=this.field.get(0).value}return _uo.utility.isDefined(t)||(t=this.valueFromMeta),t}},{key:"value",get:function(){return this.getValue()}},{key:"valueFromMeta",get:function(){var t=null;return this.attributes.hasValue?t=this.attributes.currentValue:this.attributes.hasDefaultValue&&(t=this.attributes.defaultValue),t}},{key:"valueStandardFormat",get:function(){var t={type:this.type,value:this.value};return"select"===this.type&&(t.readable=this.readableValue,(0,V.Bd)(t.value)&&this.attributes.supportsCustomValue&&(t.custom=this.customValue)),t.backup={label:this.attributes.label,show_label_in_sentence:this.attributes.showLabelInSentence},"select"===this.type&&(t.backup.supports_custom_value=this.attributes.supportsCustomValue,t.backup.supports_multiple_values=this.attributes.supportsMultipleValues),"textarea"===this.type&&(t.backup.supports_tinymce=this.attributes.supportsTinyMCE,t.backup.supports_fullpage_editing=this.attributes.supportsFullPageEditing,t.backup.supports_markdown=this.attributes.supportsMarkdown),t}},{key:"getReadableValue",value:function(){var t=this,e=null,n=this.getValue();switch(this.type){case"select":if(_uo.utility.isDefined(this.field))if(this.attributes.supportsMultipleValues&&Array.isArray(n))try{e=n.map((function(e){return t.getSelectOptionByValue(e).text})).join("".concat(_uo.utility.escHTML(wp.i18n.__(",","uncanny-automator"))," "))}catch(t){e=JSON.stringify(n)}else e=this.field.find('option[value="'.concat(n,'"]')).text();else if(this.attributes.supportsMultipleValues&&s().isArray(n))try{e=n.map((function(e){return t.getSelectOptionByValue(e).text})).join("".concat(_uo.utility.escHTML(wp.i18n.__(",","uncanny-automator"))," "))}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}else try{e=this.getSelectOptionByValue(n).text}catch(t){UncannyAutomator._site.has_debug_enabled}break;case"text":case"url":case"email":case"int":case"float":case"textarea":case"date":case"time":n=s()("<p/>").html(n).text();break;case"checkbox":e=n?_uo.utility.escHTML(wp.i18n.__("True","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("False","uncanny-automator"));break;case"radio":if(_uo.utility.isDefined(this.field)){var i=this.field.find("input:checked");1==i.length&&(e=i.closest(".form-radio__container").text().trim())}else try{e=this.getSelectOptionByValue(n).text}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}break;case"file":e=n.map((function(t){return t.title})).join(", ")}return e}},{key:"readableValue",get:function(){return this.getReadableValue()}},{key:"getSelectCustomValue",value:function(){var t=null;if("select"==this.attributes.fieldType&&this.attributes.supportsCustomValue&&(0,V.Bd)(this.getValue()))if(_uo.utility.isDefined(this.customValueField))t=this.customValueField.getValue();else try{t=UncannyAutomator.recipe.items[this.attributes.itemId].meta["".concat(this.attributes.optionCode,"_custom")]}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}return t}},{key:"selectCustomValue",get:function(){if("select"!==!this.type)return this.getSelectCustomValue()}},{key:"label",get:function(){return this.attributes.label}},{key:"getSelectOptionByValue",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n={text:e,value:e},i=this.attributes,o=i.options;if(i.supportsCustomValue&&o.push({value:"automator_custom_value",text:_uo.utility.escHTML(wp.i18n.__("Use a token/custom value","uncanny-automator"))}),_uo.utility.isEmpty(o)||o.forEach((function(t){e==t.value&&(n=t)})),_uo.utility.isEmpty(o)&&null!==(t=this.attributes.ajax)&&void 0!==t&&t.firstLoadDone){var r=Array.from(this.field[0].querySelectorAll("option")).filter((function(t){return t.value==e}));r.length>0&&(n={value:r[0].value,text:r[0].textContent})}return n}},{key:"getMetaValue",value:function(){var t;if(_uo.utility.isDefined(UncannyAutomator.recipe.items[this.attributes.itemId])){var e=UncannyAutomator.recipe.items[this.attributes.itemId].meta[this.attributes.optionCode];_uo.utility.isDefined(e)&&(t=e)}return t}},{key:"setValue",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{updateCodemirror:!0};if(_uo.utility.isDefined(this.field))switch(this.type){case"select":_uo.utility.isDefined(t)||(t=this.attributes.supportsMultipleValues?[]:"");var o=this.field.find("option");if(this.attributes.supportsMultipleValues)o.prop("selected",!1),s().isArray(t)&&!_uo.utility.isEmpty(t)&&(t.forEach((function(t){var n=e.field.find('option[value="'.concat(t,'"]'));n.length>0&&n.prop("selected",!0)})),n&&this.field.trigger("change",{manuallySet:!1}));else{var r=this.field.find('option[value="'.concat(t,'"]'));r.length>0?(o.prop("selected",!1),r.prop("selected",!0),n&&this.field.trigger("change",{manuallySet:!1})):(o.prop("selected",!1),this.attributes.supportsCustomValue&&!_uo.utility.isEmpty(t)&&this.setCustomValue(t,!1),n&&this.field.trigger("change",{manuallySet:!1}))}break;case"text":case"url":case"email":case"int":case"float":if(_uo.utility.isDefined(i.updateCodemirror)&&i.updateCodemirror&&_uo.utility.isDefined(this.fieldCM))try{this.fieldCM.setValue(t)}catch(e){this.field.val(t)}else this.field.val(t);n&&this.field.trigger("automator:field:change");break;case"textarea":if(this.field.val(t),_uo.utility.isDefined(this.fieldTinyMCE)&&this.fieldTinyMCE.setContent(t),_uo.utility.isDefined(i.updateCodemirror)&&i.updateCodemirror&&_uo.utility.isDefined(this.fieldCM))try{this.fieldCM.setValue(t)}catch(e){this.field.val(t)}else this.field.val(t);n&&this.field.trigger("automator:field:change");break;case"checkbox":var a=t,u=this.getValue();a&&!u&&this.field.prop("checked",!0),!a&&u&&this.field.prop("checked",!1),n&&(a&&!u||!a&&u)&&this.field.trigger("automator:field:change");break;case"radio":this.field.filter('[name="'.concat(t,'"]')).prop("checked",!0),n&&this.field.trigger("automator:field:change");break;case"date":case"time":this.field.val(t),n&&this.field.trigger("automator:field:change")}}},{key:"clearValue",value:function(){this.setValue("",!0);try{this.fieldCM.setValue("")}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}if(["date","time"].includes(this.attributes.fieldType))try{this.flatpickrInstance.clear()}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}}},{key:"setCustomValue",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"select"==this.attributes.fieldType&&_uo.utility.isDefined(this.customValueField)&&(this.field.val("automator_custom_value"),this.customValueField.setValue(t,e),e&&this.field.trigger("change",{manuallySet:!1}))}},{key:"hasSelectedOption",value:function(){return this.selectHasSelectedOption}},{key:"setSelectOptions",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.removeSelectOptions();try{t=t.filter((function(t){return _uo.utility.isDefined(t.value)&&_uo.utility.isDefined(t.text)}))}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}if(_uo.utility.isDefined(this.field)){var n=this.field.find(".form-element__select-normal-options");if(t.length>0){this.field.prop("disabled",!1);var i=_uo.utility.isDefined(this.getValue())?this.getValue():this.getMetaValue(),o=[];s().each(t,(function(t,e){var i=new Option(e.text,e.value,!1,!1);n.append(i),o.push(i)})),_uo.utility.isEmpty(i)||s().each(this.field.find("option"),(function(t,e){e.value==i&&s()(e).prop("selected",!0)}))}else{var r=s()(new Option(_uo.utility.escHTML(wp.i18n.__("No results found","uncanny-automator")),"",!this.attributes.supportsCustomValue,!this.attributes.supportsCustomValue));r.prop("disabled",!0),n.append(r),this.attributes.supportsCustomValue||this.field.prop("disabled",!0)}e&&this.field.trigger("change"),this.rerenderSelect2()}}},{key:"removeSelectOptions",value:function(){_uo.utility.isDefined(this.field)&&this.field.find(".form-element__select-normal-options").empty()}},{key:"isLoading",value:function(){return this.formElement.hasClass("form-element--loading")}},{key:"startLoadingAnimation",value:function(){var t="form-element--loading";_uo.utility.isDefined(this.formElement)&&!this.formElement.hasClass(t)&&(this.formElement.addClass(t),"checkbox"!=this.type||_uo.utility.isDefined(this.attributes.isToggle)||this.fieldContainer.addClass("form-checkbox--loading-inline"),this.formElement.trigger("automator:field:loading"))}},{key:"stopLoadingAnimation",value:function(){var t="form-element--loading";_uo.utility.isDefined(this.formElement)&&this.formElement.hasClass(t)&&(this.formElement.removeClass(t),this.fieldContainer.removeClass("form-checkbox--loading-inline"),this.formElement.trigger("automator:field:loading"))}},{key:"initLibraries",value:function(){"select"===this.type&&this.initSelect2(this.field),this.attributes.dynamic_visibility&&(this.applyDynamicVisibility(),this.setupVisibilityChangeListener())}},{key:"parseSelect2Response",value:function(){var t=[],e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){return e.push({id:_uo.utility.isDefined(t.id)?t.id:t.value,text:t.text})})),t.push({text:"",children:e}),this.attributes.supportsCustomValue&&t.push({text:_uo.utility.escHTML(wp.i18n.__("Other options","uncanny-automator")),children:[{id:"automator_custom_value",text:_uo.utility.escHTML(wp.i18n.__("Use a token/custom value","uncanny-automator"))}]}),{results:t}}},{key:"getSelect2Settings",value:function(){var t=this,e=function(e){var n=e.text;if(!_uo.utility.isEmpty(e.id)&&t.attributes.optionsShowID&&!(0,V.Bd)(e.id)&&"-1"!=e.id){var i="".concat(e.id),o=i.length>10;n='<span class="uap-select2-item__meta '.concat(o?"uap-select2-item__meta--long":"",'">(').concat(_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("ID: %1$s","uncanny-automator")),i.replace("-objectkey","")),")</span> ").concat(n)}return _uo.utility.isEmpty(e.id)||(n='<span data-value="'.concat(e.id,'">').concat(n,"</span>")),n},n={theme:"uap-select2",language:{noResults:function(){return _uo.utility.escHTML(wp.i18n.__("No results found","uncanny-automator"))}},templateResult:e,templateSelection:e,escapeMarkup:function(t){return t}};if(_uo.utility.isDefined(this.attributes.ajax)&&_uo.utility.isDefined(this.attributes.ajax.event)&&_uo.utility.isDefined(this.attributes.ajax.endpoint)&&"search_options"===this.attributes.ajax.event){var i=this.parseSelect2Response([]);n.searchInputPlaceholder=_uo.utility.escHTML(wp.i18n._x("Search","Verb","uncanny-automator")),n.ajax={method:"POST",dataType:"json",url:ajaxurl,cache:!0,delay:250,data:function(e){return Wt(Wt({},{action:t.attributes.ajax.endpoint,nonce:UncannyAutomator._site.rest.nonce,q:e.term}),t.getAjaxRequestData({fieldToListenToCode:t.attributes.optionCode}))},processResults:function(e,n){return t.attributes.ajax.firstLoadDone=!0,_uo.utility.isDefined(e.results)&&!_uo.utility.isDefined(e.success)?t.parseSelect2Response(e.results):e.success?_uo.utility.isEmpty(e.options)||!Array.isArray(e.options)?t.parseSelect2Response([]):t.parseSelect2Response(e.options):t.parseSelect2Response([])}},n.dataAdapter=s().fn.select2.amd.require("select2/data/extended-ajax"),n.defaultResults=i}return this.attributes.hasPlaceholder&&(n.placeholder=this.attributes.placeholder),this.attributes.customClass&&(n.customClass=this.attributes.customClass),this.attributes.supportsMultipleValues&&this.attributes.supportsCustomValue&&(n.allowClear=!0),n}},{key:"initSelect2",value:function(t){var e=this;if(!t.hasClass("select2-hidden-accessible")){var n=this.getSelect2Settings();t.select2(n),t.on("select2:open.uap-select-focus",(function(){t.closest(".form-element").find(".select2-search__field").focus()})),t.on("select2:open.uap-select-focus",(function(){document.dispatchEvent(new CustomEvent("uap/builder/legacy/field/select-opened",{detail:{fieldID:e.attributes.itemId,fieldCode:e.attributes.optionCode,fieldType:e.attributes.fieldType,integrationCode:e.attributes.integrationCode,itemID:e.attributes.itemId,value:e.value}}))})),t.on("select2:close.uap-select-focus",(function(){document.dispatchEvent(new CustomEvent("uap/builder/legacy/field/select-closed",{detail:{fieldID:e.attributes.itemId,fieldCode:e.attributes.optionCode,fieldType:e.attributes.fieldType,integrationCode:e.attributes.integrationCode,itemID:e.attributes.itemId,value:e.value}}))})),t.on("change.uap-select-change",(function(){document.dispatchEvent(new CustomEvent("uap/builder/legacy/field/change",{detail:{fieldID:e.attributes.itemId,fieldCode:e.attributes.optionCode,fieldType:e.attributes.fieldType,integrationCode:e.attributes.integrationCode,itemID:e.attributes.itemId,value:e.value}}))})),t.attr("multiple")&&t.on("select2:open",(function(){var e=t.closest(".form-element").find(".select2-search__field");s()(e).off("keydown").on("keydown",(function(n){if(!("Backspace"!==n.key&&"Delete"!==n.key||8!==n.keyCode&&46!==n.keyCode)&&""===s()(e).val()){n.preventDefault();var i=t.select2("data");if(0!==i.length){var o=i[i.length-1],r=t.val();if(o&&r){var a=r.filter((function(t){return t!==o.id}));return t.val(a).trigger("change"),t.select2("open"),!1}}}}))}))}}},{key:"initFlatpickr",value:function(){var t=this;if(_uo.utility.isDefined(this.field)){var e=this.field;if(["date","time"].includes(this.type)){var n=this.getValue(),i=n&&n.includes("{{");this.destroyFlatPickr(),_uo.utility.isDefined(document.getElementById("uap-flatpickr-calendar"))||s()("body").append(s()('<div id="uap-flatpickr-calendar" class="uap uap-flatpickr-calendar"></div>'));var o=document.getElementById("uap-flatpickr-calendar"),r={allowInput:!0,positionElement:this.$fakeCodemirrorField[0],altInput:!0,clickOpens:!1,appendTo:o,locale:{weekdays:{shorthand:[_uo.utility.escHTML(wp.i18n._x("Sun","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Mon","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Tue","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Wed","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Thu","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Fri","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Sat","Date format","uncanny-automator"))],longhand:[_uo.utility.escHTML(wp.i18n._x("Sunday","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Monday","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Tuesday","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Wednesday","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Thursday","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Friday","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Saturday","Date format","uncanny-automator"))]},months:{shorthand:[_uo.utility.escHTML(wp.i18n._x("Jan","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Feb","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Mar","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Apr","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("May","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Jun","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Jul","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Aug","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Sep","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Oct","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Nov","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Dec","Date format","uncanny-automator"))],longhand:[_uo.utility.escHTML(wp.i18n._x("January","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("February","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("March","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("April","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("May","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("June","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("July","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("August","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("September","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("October","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("November","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("December","Date format","uncanny-automator"))]},rangeSeparator:" ".concat(_uo.utility.escHTML(wp.i18n._x("to","Date format","uncanny-automator"))," "),firstDayOfWeek:parseInt(_uo.utility.escHTML(wp.i18n._x("1","Date format","uncanny-automator")))>=1&&parseInt(_uo.utility.escHTML(wp.i18n._x("1","Date format","uncanny-automator")))<=7?parseInt(_uo.utility.escHTML(wp.i18n._x("1","Date format","uncanny-automator")))-1:0,weekAbbreviation:" ".concat(_uo.utility.escHTML(wp.i18n._x("Wk","Date format","uncanny-automator"))," "),scrollTitle:_uo.utility.escHTML(wp.i18n.__("Scroll to increment","uncanny-automator")),toggleTitle:_uo.utility.escHTML(wp.i18n.__("Click to toggle","uncanny-automator")),amPM:[_uo.utility.escHTML(wp.i18n._x("AM","Date format","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("PM","Date format","uncanny-automator"))],yearAriaLabel:_uo.utility.escHTML(wp.i18n._x("Year","Date format","uncanny-automator")),monthAriaLabel:_uo.utility.escHTML(wp.i18n._x("Month","Date format","uncanny-automator")),hourAriaLabel:_uo.utility.escHTML(wp.i18n._x("Hour","Date format","uncanny-automator")),minuteAriaLabel:_uo.utility.escHTML(wp.i18n._x("Minute","Date format","uncanny-automator"))},parseDate:function(t,e){if(!_uo.utility.isEmpty(t)&&!t.includes("}}"))return q.parseDate(t,e)},errorHandler:function(e){t.getValue().includes("}}")||UncannyAutomator._site.has_debug_enabled&&console.warn(e)},onReady:function(e,n,o){try{var r=function(){i||t.fieldCM.getValue()!=o.altInput.value&&t.fieldCM.setValue(o.altInput.value)};_uo.utility.isDefined(t.fieldCM)?r():t.field.on("ua-codemirror-ready",(function(){r()}))}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}},onChange:function(e,n,i){try{var o=function(){t.fieldCM.setValue(i.altInput.value)};_uo.utility.isDefined(t.fieldCM)?o():t.field.on("ua-codemirror-ready",(function(){o()}))}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}}};if("date"==this.attributes.fieldType&&(r=s().extend(r,{dateFormat:this.attributes.dateFormat,altFormat:this.attributes.dateAltFormat}),this.attributes.supportsRange&&(r.mode="range"),_uo.utility.isDefined(this.attributes.minDate)&&(r.minDate=this.attributes.minDate),_uo.utility.isDefined(this.attributes.maxDate)&&(r.maxDate=this.attributes.maxDate)),"time"==this.attributes.fieldType){var a=this.attributes.timeAltFormat.includes("K");r=s().extend(r,{enableTime:!0,noCalendar:!0,dateFormat:this.attributes.timeFormat,altFormat:this.attributes.timeAltFormat,time_24hr:!a}),_uo.utility.isDefined(this.attributes.minuteIncrement)&&(r.minuteIncrement=this.attributes.minuteIncrement),_uo.utility.isDefined(this.attributes.minTime)&&(r.minTime=this.attributes.minTime),_uo.utility.isDefined(this.attributes.manTime)&&(r.manTime=this.attributes.manTime)}this.flatpickrInstance=e.flatpickr(r),"time"==this.attributes.fieldType&&i&&(this.flatpickrInstance.input.value=n)}}}},{key:"destroyFlatPickr",value:function(){_uo.utility.isDefined(this.flatpickrInstance)&&this.flatpickrInstance.destroy()}},{key:"initCodeMirror",value:function(){var t=this;if(["text","url","email","int","float","date","time","textarea"].includes(this.attributes.fieldType)){this.destroyCodeMirror();var e={lineNumbers:!1,tabSize:4,value:this.getValue(),mode:"default",dragDrop:!1,viewportMargin:1/0,lineWrapping:!0,autoRefresh:!0,direction:!_uo.utility.isEmpty(UncannyAutomator._site.is_rtl)&&UncannyAutomator._site.is_rtl?"rtl":"ltr",noNewlines:!0,scrollbarStyle:null,readOnly:this.attributes.isReadOnly};"textarea"==this.attributes.fieldType&&(e=Object.assign(e,{scrollbarStyle:"native",noNewlines:!1}),this.attributes.supportsTinyMCE&&(e=Object.assign(e,{lineNumbers:!0,mode:"htmlmixed",verify_html:!1,inline_styles:!0}))),"textarea"!=this.attributes.fieldType&&(e.extraKeys={Tab:function(){var e=t.getNextField();return _uo.utility.isDefined(e)&&e.focus(),!1}}),this.fieldCM=CodeMirror(this.$fakeCodemirrorField[0],e),this.attributes.hasPlaceholder&&this.fieldCM.setOption("placeholder",this.attributes.placeholder),this.fieldCM.on("changes",(function(e,n){["date","time"].includes(t.attributes.fieldType)||t.setValue(t.fieldCM.getValue(),"setValue"!==n[0].origin,{updateCodemirror:!1})})),this.fieldCM.on("focus",(function(){if(["date","time"].includes(t.attributes.fieldType))try{setTimeout((function(){t.flatpickrInstance.open()}),50)}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}})),this.field.on("focus",(function(){t.fieldCM.focus()})),this.field.trigger("ua-codemirror-ready")}"select"==this.attributes.fieldType&&_uo.utility.isDefined(this.customValueField)&&this.customValueField.initCodeMirror()}},{key:"getNextField",value:function(){var t=null;if(_uo.utility.isDefined(this.attributes.itemId)&&_uo.utility.isDefined(this.attributes.groupId)){var e=UncannyAutomator.recipe.items[this.attributes.itemId].options[this.attributes.groupId].fields;if(_uo.utility.isDefined(e)&&s().isArray(e)){var n=e.indexOf(this);-1!=n&&n!=e.length-1&&(t=e[n+1])}}if(_uo.utility.isDefined(this.attributes.itemType)&&"user-selector"==this.attributes.itemType){var i=UncannyAutomator.recipe.userSelector.fields;if(_uo.utility.isDefined(i)&&s().isArray(i)){var o=i.indexOf(this);-1!=o&&o!=i.length-1&&(t=i[o+1])}}return t}},{key:"focus",value:function(){if(_uo.utility.isDefined(this.field))switch(this.type){case"select":try{this.field.select2("focus")}catch(t){this.field.focus()}break;case"text":case"url":case"email":case"int":case"float":case"date":case"time":_uo.utility.isDefined(this.fieldCM)?this.fieldCM.focus():this.field.focus();break;case"textarea":if(_uo.utility.isDefined(this.fieldTinyMCE))if(this.field.is(":visible"))this.field.focus();else try{this.fieldTinyMCE.focus()}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}else this.field.focus();break;case"checkbox":case"radio":this.field.focus()}}},{key:"destroyCodeMirror",value:function(){if(_uo.utility.isDefined(this.fieldCM))try{var t=this.fieldCM.getWrapperElement();t.parentNode.removeChild(t),this.fieldCM=null}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}}},{key:"rerenderSelect2",value:function(){var t=this.getSelect2Settings();!_uo.utility.isEmpty(this.field)&&this.field.hasClass("select2-hidden-accessible")&&this.field.select2("destroy").select2(t)}},{key:"initTokenSelector",value:function(){if(this.attributes.supportsTokens){this.destroyTokenSelector();var t={unsupportedTokens:this.attributes.unsupportedTokens,onlyLoopableTokens:this.attributes.onlyLoopableTokens};_uo.utility.isEmpty(this.attributes.itemId)||(t.itemID=this.attributes.itemId),this.tokenSelector=new vt(this,t)}"select"==this.attributes.fieldType&&_uo.utility.isDefined(this.customValueField)&&this.customValueField.initTokenSelector()}},{key:"destroyTokenSelector",value:function(){_uo.utility.isDefined(this.tokenSelector)&&this.tokenSelector.destroy()}},{key:"initTinyMCE",value:function(){var t=this;if(this.field,_uo.utility.isDefined(this.field)&&"textarea"==this.attributes.fieldType&&this.attributes.supportsTinyMCE){var e=this.field.prop("id"),n=tinymce.get(e);_uo.utility.isDefined(n)&&wp.editor.remove(e);var i=["charmap","colorpicker","hr","lists","paste","tabfocus","textcolor","fullscreen","link"];this.attributes.supportsFullPageEditing&&i.push("fullpage");var o=UncannyAutomator._site.automator.links.styles_for_tinymce;try{o.push(wp.editor.getDefaultSettings().tinymce.content_css)}catch(t){UncannyAutomator._site.has_debug_enabled&&(console.warn("Field: Couldn't load WordPress's custom assets for TinyMCE"),console.warn(t))}var r={mediaButtons:!0,tinymce:{plugins:i.join(" "),toolbar1:["formatselect","bold","italic","bullist","numlist","blockquote","alignleft","aligncenter","alignright","link","unlink","wp_more","strikethrough","hr","forecolor","pastetext","removeformat","visualchars","outdent","indent","undo","redo"].join(" "),height:"350",content_css:o.join(",")},quicktags:!0};wp.editor.initialize(e,r),(n=tinymce.get(e)).hidden?this.fieldContainer.addClass("form-textarea--tinymce-text"):this.fieldContainer.addClass("form-textarea--tinymce-visual"),this.formElement.find(".switch-tmce").on("click",(function(){t.field.trigger("ua-tinymce-activate-visual-view"),t.fieldContainer.removeClass("form-textarea--tinymce-text").addClass("form-textarea--tinymce-visual")})),this.formElement.find(".switch-html").on("click",(function(){t.field.trigger("ua-tinymce-activate-text-view"),t.fieldContainer.removeClass("form-textarea--tinymce-visual").addClass("form-textarea--tinymce-text");try{t.fieldCM.setValue(n.getContent({format:"raw"}))}catch(e){t.field.val(n.getContent({format:"raw"}))}t.fieldCM.refresh()})),this.fieldTinyMCE=n,n.on("init",(function(){t.field.trigger("ua-tinymce-ready")}))}}},{key:"applyDynamicVisibility",value:function(){var t=this,e=this.attributes.dynamic_visibility,n="visible"===e.default_state;e.visibility_rules.forEach((function(e){t.evaluateVisibilityRule(e)&&(n="show"===e.resulting_visibility)})),this.updateFieldVisibility(n)}},{key:"evaluateVisibilityRule",value:function(t){var e=this;return t.rule_conditions["AND"===t.operator?"every":"some"]((function(t){var n=(0,V.VI)(e.attributes.itemId,t.option_code,e.attributes.itemType).getValue();return e.compareValues(n,t.value,t.compare)}))}},{key:"updateFieldVisibility",value:function(t){this.attributes.isHidden=!t;try{t?this.fieldContainer.removeClass("form-element--hidden"):this.fieldContainer.addClass("form-element--hidden")}catch(t){}}},{key:"compareValues",value:function(t,e,n){switch(n){case"==":return t==e;case"!=":return t!=e;default:return!1}}},{key:"setupVisibilityChangeListener",value:function(){var t=this;this.attributes.dynamic_visibility.visibility_rules.forEach((function(e){e.rule_conditions.forEach((function(e){var n=(0,V.VI)(t.attributes.itemId,e.option_code,t.attributes.itemType);n&&n.field.on("change",(function(){t.applyDynamicVisibility()}))}))}))}}]),t}();const zt=Bt;s().fn.select2.amd.define("select2/data/extended-ajax",["./ajax","./tags","../utils","module","jquery"],(function(t,e,n,i,o){function r(t,e){this.minimumInputLength=e.get("minimumInputLength"),this.defaultResults=e.get("defaultResults"),r.__super__.constructor.call(this,t,e)}n.Extend(r,t);var a=t.prototype.query;return r.prototype.query=function(t,e){var n="function"==typeof this.defaultResults?this.defaultResults.call(this):this.defaultResults;if(n&&n.length&&(!t.term||t.term.length<this.minimumInputLength)&&t._type&&"query"==t._type){var i={results:n};e(this.processResults(i,t))}else a.call(this,t,e)},i.config().tags?n.Decorate(r,e):r}))},7079:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var i=n(2284),o=n(296);const r=function(t){return t=JSON.parse(JSON.stringify(t)),t=a(t),["repeater"].includes(t.fieldType)&&(t.fields=t.fields.map((function(e){return Object.assign(a(e),{itemType:t.itemType})}))),t};var a=function(t){var e={required:"isRequired",read_only:"isReadOnly",supports_tinymce:"supportsTinyMCE",supports_markdown:"supportsMarkdown",supports_fullpage_editing:"supportsFullPageEditing",copy_to_clipboard:"supportsCopyToClipboard",is_ajax:"isAjax",option_code:"optionCode",input_type:"fieldType",is_hidden:"isHidden",token_name:"tokenName",default_value:"defaultValue",current_value:"currentValue",max_length:"maxLength",relevant_tokens:"customFieldTokens",date_format:"dateFormat",date_alt_format:"dateAltFormat",supports_range:"supportsRange",min_number:"minNumber",max_number:"maxNumber",min_date:"minDate",max_date:"maxDate",minute_increment:"minuteIncrement",time_format:"timeFormat",supports_tokens:"supportsTokens",time_alt_format:"timeAltFormat",min_time:"minTime",max_time:"maxTime",hide_actions:"hideActions",supports_custom_value:"supportsCustomValue",supports_multiple_values:"supportsMultipleValues",custom_value_description:"customValueDescription",fill_values_in:"targetField",add_row_button:"addRowButtonLabel",remove_row_button:"removeRowButtonLabel",item_type:"itemType",can_sort_rows:"canSortRows",is_toggle:"isToggle",options_show_id:"optionsShowID",ajax:"ajax",listen_fields:"listenFields",clear_on_change_fields:"clearOnChangeFields",show_label_in_sentence:"showLabelInSentence",mapping_column:"mappingColumn",exclude_default_token:"excludeDefaultToken",only_loopable_tokens:"onlyLoopableTokens",clear_when_adding_token:"clearWhenAddingToken",file_types:"fileTypes",parent_id:"parentID"};return Object.entries(t).forEach((function(n){var r=(0,o.A)(n,2),a=r[0],s=r[1];if(_uo.utility.isDefined(e[a])){t[e[a]]=s;try{if("object"!==(0,i.A)(s))throw Error();Object.entries(s).forEach((function(n){var i=(0,o.A)(n,2),r=i[0],s=i[1];_uo.utility.isDefined(e[r])&&(t[e[a]][e[r]]=s,delete t[e[a]][r])}))}catch(t){}a!==e[a]&&delete t[a]}})),t}},2450:(t,e,n)=>{"use strict";n.d(e,{A:()=>i});const i=function(t){var e=t.integrationCode,n="";if(_uo.utility.isDefined(UncannyAutomator.integrations[e])){var i=UncannyAutomator.integrations[e];_uo.utility.isDefined(i.icon_svg)?n=i.icon_svg:_uo.utility.isDefined(i.icon_64)&&(n=i.icon_64)}return n}},6080:(t,e,n)=>{"use strict";n.d(e,{A:()=>p});var i=n(3029),o=n(2901),r=n(1669),a=n.n(r),s=n(8514),u=n(3773),c=n(9845),l=n(1380),d=n(4727);const p=function(){function t(e,n,o,r){return(0,i.A)(this,t),this.itemType=e,this.integrationID=n,this.itemCode=o,this.itemId=r,this.item=UncannyAutomator.recipe.items[r],this.createItemActions()}return(0,o.A)(t,[{key:"createItemActions",value:function(){var t=this,e=a()("<div/>",{class:"item-actions"}),n=a()("<div/>",{class:"item-actions__btn"}),i=a()("<uo-icon/>",{id:"ellipsis"}),o=a()("<div/>",{class:"item-actions__dropdown"}),r=a()("<ul/>",{class:"item-actions-dropdown__ul"});n.append(i),e.append(n);var p=a()("<li/>",{class:"item-actions-dropdown__action item-actions-dropdown__action--danger"}),f=a()("<span/>").text(_uo.utility.escHTML(wp.i18n.__("Delete","uncanny-automator")));if(p.append(f),r.append(p),o.append(r),e.append(o),"action"==this.itemType){var h=document.createElement("li");h.classList.add("item-actions-dropdown__action"),h.innerHTML="<span>".concat(_uo.utility.escHTML(wp.i18n._x("Duplicate","Verb","uncanny-automator")),"</span>"),r.get(0).appendChild(h),h.addEventListener("click",(function(){h.classList.add("item-actions-dropdown__action--loading"),UncannyAutomator._core.recipe.item.duplicateAction(t.itemId).catch((function(t){h.classList.remove("item-actions-dropdown__action--loading")}))}))}return n.on("click",(function(){e.hasClass("item-actions--open")?(e.removeClass("item-actions--open"),a()(document).off("mouseup.uap-actions-click-outside")):(e.addClass("item-actions--open"),a()(document).on("mouseup.uap-actions-click-outside",(function(t){e.is(t.target)||0!==e.has(t.target).length||(e.removeClass("item-actions--open"),a()(document).off("mouseup.uap-actions-click-outside"))})))})),p.on("click",(function(){if(_uo.utility.isDefined(t.itemId)&&UncannyAutomator._recipe.is_recipe_on&&UncannyAutomator.recipe.items[t.itemId].isLive){e.removeClass("item-actions--open");var n=new u.A({title:_uo.utility.escHTML(wp.i18n.__("Are you sure?","uncanny-automator")),warning:(0,s.g$)(_uo.utility.escHTML(wp.i18n.__("Deleting items in a {{live}} recipe can lead to unexpected behaviors.","uncanny-automator")),"<strong>","</strong>"),buttons:{cancel:_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator")),confirm:_uo.utility.escHTML(wp.i18n._x("Confirm","Verb","uncanny-automator"))}});n.setEvents({afterSetEvents:function(){n.show()},onConfirm:function(){n.getElements().modal.box.buttons.confirm.addClass("uap-btn--loading").prop("disabled",!0);var e=UncannyAutomator.recipe.items[t.itemId].hasConditions;if(e){var i=UncannyAutomator.recipe.items[t.itemId].conditionsGroupID;UncannyAutomator.recipe.conditions[i].removeAction(t.itemId)}UncannyAutomator._core.recipe.item.deleteItem(t.itemType,t.itemId,{__deprecated__ignoreValidation:!0}).then((function(i){n.destroy(),UncannyAutomator._cache.tokens=[],"trigger"==t.itemType&&(new c.A,"anonymous"==UncannyAutomator._recipe.recipe_type&&new l.A),"action"!=t.itemType&&"closure"!=t.itemType||(e?(0,d.jd)({onSuccess:function(){new l.A}}):new l.A),UncannyAutomator.recipe.isValid||UncannyAutomator._core.recipe.setRecipeStatus(!1,!1)})).catch((function(e){n.destroy(),"trigger"==t.itemType&&new c.A,"action"!=t.itemType&&"closure"!=t.itemType||new l.A}))},afterHide:function(){n.destroy()}})}else if(_uo.utility.isDefined(t.itemId)){p.addClass("item-actions-dropdown__action--loading");var i=UncannyAutomator.recipe.items[t.itemId].hasConditions;if(i){var o=UncannyAutomator.recipe.items[t.itemId].conditionsGroupID;UncannyAutomator.recipe.conditions[o].removeAction(t.itemId)}UncannyAutomator._core.recipe.item.deleteItem(t.itemType,t.itemId,{__deprecated__ignoreValidation:!0}).then((function(e){UncannyAutomator._cache.tokens=[],"trigger"==t.itemType&&(new c.A,"anonymous"==UncannyAutomator._recipe.recipe_type&&new l.A),"action"!=t.itemType&&"closure"!=t.itemType||(i?(0,d.jd)({onSuccess:function(){new l.A}}):new l.A)})).catch((function(e){"trigger"==t.itemType&&new c.A,"action"!=t.itemType&&"closure"!=t.itemType||new l.A}))}else"trigger"==t.itemType&&new c.A,"action"==t.itemType&&new l.A})),e}}]),t}()},1380:(t,e,n)=>{"use strict";n.d(e,{A:()=>Le});var i=n(3029),o=n(2901),r=n(8514),a=n(6393),s=n(296);function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(){return p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},p.apply(this,arguments)}function f(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var h=f(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),m=f(/Edge/i),y=f(/firefox/i),g=f(/safari/i)&&!f(/chrome/i)&&!f(/android/i),_=f(/iP(ad|od|hone)/i),v=f(/chrome/i)&&f(/android/i),b={capture:!1,passive:!1};function w(t,e,n){t.addEventListener(e,n,!h&&b)}function A(t,e,n){t.removeEventListener(e,n,!h&&b)}function k(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function T(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function E(t,e,n,i){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&k(t,e):k(t,e))||i&&t===n)return t;if(t===n)break}while(t=T(t))}return null}var D,M=/\s+/g;function C(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(M," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(M," ")}}function x(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in i||-1!==e.indexOf("webkit")||(e="-webkit-"+e),i[e]=n+("string"==typeof n?"":"px")}}function L(t,e){var n="";if("string"==typeof t)n=t;else do{var i=x(t,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function S(t,e,n){if(t){var i=t.getElementsByTagName(e),o=0,r=i.length;if(n)for(;o<r;o++)n(i[o],o);return i}return[]}function I(){return document.scrollingElement||document.documentElement}function O(t,e,n,i,o){if(t.getBoundingClientRect||t===window){var r,a,s,u,c,l,d;if(t!==window&&t.parentNode&&t!==I()?(a=(r=t.getBoundingClientRect()).top,s=r.left,u=r.bottom,c=r.right,l=r.height,d=r.width):(a=0,s=0,u=window.innerHeight,c=window.innerWidth,l=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(o=o||t.parentNode,!h))do{if(o&&o.getBoundingClientRect&&("none"!==x(o,"transform")||n&&"static"!==x(o,"position"))){var p=o.getBoundingClientRect();a-=p.top+parseInt(x(o,"border-top-width")),s-=p.left+parseInt(x(o,"border-left-width")),u=a+r.height,c=s+r.width;break}}while(o=o.parentNode);if(i&&t!==window){var f=L(o||t),m=f&&f.a,y=f&&f.d;f&&(u=(a/=y)+(l/=y),c=(s/=m)+(d/=m))}return{top:a,left:s,bottom:u,right:c,width:d,height:l}}}function j(t,e,n){for(var i=$(t,!0),o=O(t)[e];i;){var r=O(i)[n];if(!("top"===n||"left"===n?o>=r:o<=r))return i;if(i===I())break;i=$(i,!1)}return!1}function U(t,e,n,i){for(var o=0,r=0,a=t.children;r<a.length;){if("none"!==a[r].style.display&&a[r]!==Vt.ghost&&(i||a[r]!==Vt.dragged)&&E(a[r],n.draggable,t,!1)){if(o===e)return a[r];o++}r++}return null}function P(t,e){for(var n=t.lastElementChild;n&&(n===Vt.ghost||"none"===x(n,"display")||e&&!k(n,e));)n=n.previousElementSibling;return n||null}function H(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Vt.clone||e&&!k(t,e)||n++;return n}function F(t){var e=0,n=0,i=I();if(t)do{var o=L(t),r=o.a,a=o.d;e+=t.scrollLeft*r,n+=t.scrollTop*a}while(t!==i&&(t=t.parentNode));return[e,n]}function $(t,e){if(!t||!t.getBoundingClientRect)return I();var n=t,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=x(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return I();if(i||e)return n;i=!0}}}while(n=n.parentNode);return I()}function R(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function q(t,e){return function(){if(!D){var n=arguments;1===n.length?t.call(this,n[0]):t.apply(this,n),D=setTimeout((function(){D=void 0}),e)}}}function V(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function N(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function W(t,e,n){var i={};return Array.from(t.children).forEach((function(o){var r,a,s,u;if(E(o,e.draggable,t,!1)&&!o.animated&&o!==n){var c=O(o);i.left=Math.min(null!==(r=i.left)&&void 0!==r?r:1/0,c.left),i.top=Math.min(null!==(a=i.top)&&void 0!==a?a:1/0,c.top),i.right=Math.max(null!==(s=i.right)&&void 0!==s?s:-1/0,c.right),i.bottom=Math.max(null!==(u=i.bottom)&&void 0!==u?u:-1/0,c.bottom)}})),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var B="Sortable"+(new Date).getTime();var z=[],G={initializeByDefault:!0},Y={mount:function(t){for(var e in G)G.hasOwnProperty(e)&&!(e in t)&&(t[e]=G[e]);z.forEach((function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")})),z.push(t)},pluginEvent:function(t,e,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var o=t+"Global";z.forEach((function(i){e[i.pluginName]&&(e[i.pluginName][o]&&e[i.pluginName][o](c({sortable:e},n)),e.options[i.pluginName]&&e[i.pluginName][t]&&e[i.pluginName][t](c({sortable:e},n)))}))},initializePlugins:function(t,e,n,i){for(var o in z.forEach((function(i){var o=i.pluginName;if(t.options[o]||i.initializeByDefault){var r=new i(t,e,t.options);r.sortable=t,r.options=t.options,t[o]=r,p(n,r.defaults)}})),t.options)if(t.options.hasOwnProperty(o)){var r=this.modifyOption(t,o,t.options[o]);void 0!==r&&(t.options[o]=r)}},getEventProperties:function(t,e){var n={};return z.forEach((function(i){"function"==typeof i.eventProperties&&p(n,i.eventProperties.call(e[i.pluginName],t))})),n},modifyOption:function(t,e,n){var i;return z.forEach((function(o){t[o.pluginName]&&o.optionListeners&&"function"==typeof o.optionListeners[e]&&(i=o.optionListeners[e].call(t[o.pluginName],n))})),i}};var K=["evt"],Z=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,o=function(t,e){if(null==t)return{};var n,i,o=function(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}(n,K);Y.pluginEvent.bind(Vt)(t,e,c({dragEl:J,parentEl:Q,ghostEl:tt,rootEl:et,nextEl:nt,lastDownEl:it,cloneEl:ot,cloneHidden:rt,dragStarted:_t,putSortable:dt,activeSortable:Vt.active,originalEvent:i,oldIndex:at,oldDraggableIndex:ut,newIndex:st,newDraggableIndex:ct,hideGhostForTarget:Ft,unhideGhostForTarget:$t,cloneNowHidden:function(){rt=!0},cloneNowShown:function(){rt=!1},dispatchSortableEvent:function(t){X({sortable:e,name:t,originalEvent:i})}},o))};function X(t){!function(t){var e=t.sortable,n=t.rootEl,i=t.name,o=t.targetEl,r=t.cloneEl,a=t.toEl,s=t.fromEl,u=t.oldIndex,l=t.newIndex,d=t.oldDraggableIndex,p=t.newDraggableIndex,f=t.originalEvent,y=t.putSortable,g=t.extraEventProperties;if(e=e||n&&n[B]){var _,v=e.options,b="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||h||m?(_=document.createEvent("Event")).initEvent(i,!0,!0):_=new CustomEvent(i,{bubbles:!0,cancelable:!0}),_.to=a||n,_.from=s||n,_.item=o||n,_.clone=r,_.oldIndex=u,_.newIndex=l,_.oldDraggableIndex=d,_.newDraggableIndex=p,_.originalEvent=f,_.pullMode=y?y.lastPutMode:void 0;var w=c(c({},g),Y.getEventProperties(i,e));for(var A in w)_[A]=w[A];n&&n.dispatchEvent(_),v[b]&&v[b].call(e,_)}}(c({putSortable:dt,cloneEl:ot,targetEl:J,rootEl:et,oldIndex:at,oldDraggableIndex:ut,newIndex:st,newDraggableIndex:ct},t))}var J,Q,tt,et,nt,it,ot,rt,at,st,ut,ct,lt,dt,pt,ft,ht,mt,yt,gt,_t,vt,bt,wt,At,kt=!1,Tt=!1,Et=[],Dt=!1,Mt=!1,Ct=[],xt=!1,Lt=[],St="undefined"!=typeof document,It=_,Ot=m||h?"cssFloat":"float",jt=St&&!v&&!_&&"draggable"in document.createElement("div"),Ut=function(){if(St){if(h)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),Pt=function(t,e){var n=x(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=U(t,0,e),r=U(t,1,e),a=o&&x(o),s=r&&x(r),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+O(o).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+O(r).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){var l="left"===a.float?"left":"right";return!r||"both"!==s.clear&&s.clear!==l?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||u>=i&&"none"===n[Ot]||r&&"none"===n[Ot]&&u+c>i)?"vertical":"horizontal"},Ht=function(t){function e(t,n){return function(i,o,r,a){var s=i.options.group.name&&o.options.group.name&&i.options.group.name===o.options.group.name;if(null==t&&(n||s))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(i,o,r,a),n)(i,o,r,a);var u=(n?i:o).options.group.name;return!0===t||"string"==typeof t&&t===u||t.join&&t.indexOf(u)>-1}}var n={},i=t.group;i&&"object"==l(i)||(i={name:i}),n.name=i.name,n.checkPull=e(i.pull,!0),n.checkPut=e(i.put),n.revertClone=i.revertClone,t.group=n},Ft=function(){!Ut&&tt&&x(tt,"display","none")},$t=function(){!Ut&&tt&&x(tt,"display","")};St&&!v&&document.addEventListener("click",(function(t){if(Tt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Tt=!1,!1}),!0);var Rt=function(t){if(J){t=t.touches?t.touches[0]:t;var e=(o=t.clientX,r=t.clientY,Et.some((function(t){var e=t[B].options.emptyInsertThreshold;if(e&&!P(t)){var n=O(t),i=o>=n.left-e&&o<=n.right+e,s=r>=n.top-e&&r<=n.bottom+e;return i&&s?a=t:void 0}})),a);if(e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[B]._onDragOver(n)}}var o,r,a},qt=function(t){J&&J.parentNode[B]._isOutsideThisEl(t.target)};function Vt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=p({},e),t[B]=this;var n,i,o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Pt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Vt.supportPointer&&"PointerEvent"in window&&!g,emptyInsertThreshold:5};for(var r in Y.initializePlugins(this,t,o),o)!(r in e)&&(e[r]=o[r]);for(var a in Ht(e),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!e.forceFallback&&jt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?w(t,"pointerdown",this._onTapStart):(w(t,"mousedown",this._onTapStart),w(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(w(t,"dragover",this),w(t,"dragenter",this)),Et.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),p(this,(i=[],{captureAnimationState:function(){i=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(t){if("none"!==x(t,"display")&&t!==Vt.ghost){i.push({target:t,rect:O(t)});var e=c({},i[i.length-1].rect);if(t.thisAnimationDuration){var n=L(t,!0);n&&(e.top-=n.f,e.left-=n.e)}t.fromRect=e}}))},addAnimationState:function(t){i.push(t)},removeAnimationState:function(t){i.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n);return-1}(i,{target:t}),1)},animateAll:function(t){var e=this;if(!this.options.animation)return clearTimeout(n),void("function"==typeof t&&t());var o=!1,r=0;i.forEach((function(t){var n=0,i=t.target,a=i.fromRect,s=O(i),u=i.prevFromRect,c=i.prevToRect,l=t.rect,d=L(i,!0);d&&(s.top-=d.f,s.left-=d.e),i.toRect=s,i.thisAnimationDuration&&R(u,s)&&!R(a,s)&&(l.top-s.top)/(l.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(n=function(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}(l,u,c,e.options)),R(s,a)||(i.prevFromRect=a,i.prevToRect=s,n||(n=e.options.animation),e.animate(i,l,s,n)),n&&(o=!0,r=Math.max(r,n),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),n),i.thisAnimationDuration=n)})),clearTimeout(n),o?n=setTimeout((function(){"function"==typeof t&&t()}),r):"function"==typeof t&&t(),i=[]},animate:function(t,e,n,i){if(i){x(t,"transition",""),x(t,"transform","");var o=L(this.el),r=o&&o.a,a=o&&o.d,s=(e.left-n.left)/(r||1),u=(e.top-n.top)/(a||1);t.animatingX=!!s,t.animatingY=!!u,x(t,"transform","translate3d("+s+"px,"+u+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),x(t,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),x(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){x(t,"transition",""),x(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),i)}}}))}function Nt(t,e,n,i,o,r,a,s){var u,c,l=t[B],d=l.options.onMove;return!window.CustomEvent||h||m?(u=document.createEvent("Event")).initEvent("move",!0,!0):u=new CustomEvent("move",{bubbles:!0,cancelable:!0}),u.to=e,u.from=t,u.dragged=n,u.draggedRect=i,u.related=o||e,u.relatedRect=r||O(e),u.willInsertAfter=s,u.originalEvent=a,t.dispatchEvent(u),d&&(c=d.call(l,u,a)),c}function Wt(t){t.draggable=!1}function Bt(){xt=!1}function zt(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function Gt(t){return setTimeout(t,0)}function Yt(t){return clearTimeout(t)}Vt.prototype={constructor:Vt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(vt=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,J):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,i=this.options,o=i.preventOnFilter,r=t.type,a=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,s=(a||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,c=i.filter;if(function(t){Lt.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var i=e[n];i.checked&&Lt.push(i)}}(n),!J&&!(/mousedown|pointerdown/.test(r)&&0!==t.button||i.disabled)&&!u.isContentEditable&&(this.nativeDraggable||!g||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=E(s,i.draggable,n,!1))&&s.animated||it===s)){if(at=H(s),ut=H(s,i.draggable),"function"==typeof c){if(c.call(this,t,s,this))return X({sortable:e,rootEl:u,name:"filter",targetEl:s,toEl:n,fromEl:n}),Z("filter",e,{evt:t}),void(o&&t.cancelable&&t.preventDefault())}else if(c&&(c=c.split(",").some((function(i){if(i=E(u,i.trim(),n,!1))return X({sortable:e,rootEl:i,name:"filter",targetEl:s,fromEl:n,toEl:n}),Z("filter",e,{evt:t}),!0}))))return void(o&&t.cancelable&&t.preventDefault());i.handle&&!E(u,i.handle,n,!1)||this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(t,e,n){var i,o=this,r=o.el,a=o.options,s=r.ownerDocument;if(n&&!J&&n.parentNode===r){var u=O(n);if(et=r,Q=(J=n).parentNode,nt=J.nextSibling,it=n,lt=a.group,Vt.dragged=J,pt={target:J,clientX:(e||t).clientX,clientY:(e||t).clientY},yt=pt.clientX-u.left,gt=pt.clientY-u.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,J.style["will-change"]="all",i=function(){Z("delayEnded",o,{evt:t}),Vt.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!y&&o.nativeDraggable&&(J.draggable=!0),o._triggerDragStart(t,e),X({sortable:o,name:"choose",originalEvent:t}),C(J,a.chosenClass,!0))},a.ignore.split(",").forEach((function(t){S(J,t.trim(),Wt)})),w(s,"dragover",Rt),w(s,"mousemove",Rt),w(s,"touchmove",Rt),w(s,"mouseup",o._onDrop),w(s,"touchend",o._onDrop),w(s,"touchcancel",o._onDrop),y&&this.nativeDraggable&&(this.options.touchStartThreshold=4,J.draggable=!0),Z("delayStart",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(m||h))i();else{if(Vt.eventCanceled)return void this._onDrop();w(s,"mouseup",o._disableDelayedDrag),w(s,"touchend",o._disableDelayedDrag),w(s,"touchcancel",o._disableDelayedDrag),w(s,"mousemove",o._delayedDragTouchMoveHandler),w(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&w(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(i,a.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){J&&Wt(J),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;A(t,"mouseup",this._disableDelayedDrag),A(t,"touchend",this._disableDelayedDrag),A(t,"touchcancel",this._disableDelayedDrag),A(t,"mousemove",this._delayedDragTouchMoveHandler),A(t,"touchmove",this._delayedDragTouchMoveHandler),A(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?w(document,"pointermove",this._onTouchMove):w(document,e?"touchmove":"mousemove",this._onTouchMove):(w(J,"dragend",this),w(et,"dragstart",this._onDragStart));try{document.selection?Gt((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(kt=!1,et&&J){Z("dragStarted",this,{evt:e}),this.nativeDraggable&&w(document,"dragover",qt);var n=this.options;!t&&C(J,n.dragClass,!1),C(J,n.ghostClass,!0),Vt.active=this,t&&this._appendGhost(),X({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(ft){this._lastX=ft.clientX,this._lastY=ft.clientY,Ft();for(var t=document.elementFromPoint(ft.clientX,ft.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(ft.clientX,ft.clientY))!==e;)e=t;if(J.parentNode[B]._isOutsideThisEl(t),e)do{if(e[B]&&e[B]._onDragOver({clientX:ft.clientX,clientY:ft.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break;t=e}while(e=e.parentNode);$t()}},_onTouchMove:function(t){if(pt){var e=this.options,n=e.fallbackTolerance,i=e.fallbackOffset,o=t.touches?t.touches[0]:t,r=tt&&L(tt,!0),a=tt&&r&&r.a,s=tt&&r&&r.d,u=It&&At&&F(At),c=(o.clientX-pt.clientX+i.x)/(a||1)+(u?u[0]-Ct[0]:0)/(a||1),l=(o.clientY-pt.clientY+i.y)/(s||1)+(u?u[1]-Ct[1]:0)/(s||1);if(!Vt.active&&!kt){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(tt){r?(r.e+=c-(ht||0),r.f+=l-(mt||0)):r={a:1,b:0,c:0,d:1,e:c,f:l};var d="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");x(tt,"webkitTransform",d),x(tt,"mozTransform",d),x(tt,"msTransform",d),x(tt,"transform",d),ht=c,mt=l,ft=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!tt){var t=this.options.fallbackOnBody?document.body:et,e=O(J,!0,It,!0,t),n=this.options;if(It){for(At=t;"static"===x(At,"position")&&"none"===x(At,"transform")&&At!==document;)At=At.parentNode;At!==document.body&&At!==document.documentElement?(At===document&&(At=I()),e.top+=At.scrollTop,e.left+=At.scrollLeft):At=I(),Ct=F(At)}C(tt=J.cloneNode(!0),n.ghostClass,!1),C(tt,n.fallbackClass,!0),C(tt,n.dragClass,!0),x(tt,"transition",""),x(tt,"transform",""),x(tt,"box-sizing","border-box"),x(tt,"margin",0),x(tt,"top",e.top),x(tt,"left",e.left),x(tt,"width",e.width),x(tt,"height",e.height),x(tt,"opacity","0.8"),x(tt,"position",It?"absolute":"fixed"),x(tt,"zIndex","100000"),x(tt,"pointerEvents","none"),Vt.ghost=tt,t.appendChild(tt),x(tt,"transform-origin",yt/parseInt(tt.style.width)*100+"% "+gt/parseInt(tt.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,i=t.dataTransfer,o=n.options;Z("dragStart",this,{evt:t}),Vt.eventCanceled?this._onDrop():(Z("setupClone",this),Vt.eventCanceled||((ot=N(J)).removeAttribute("id"),ot.draggable=!1,ot.style["will-change"]="",this._hideClone(),C(ot,this.options.chosenClass,!1),Vt.clone=ot),n.cloneId=Gt((function(){Z("clone",n),Vt.eventCanceled||(n.options.removeCloneOnHide||et.insertBefore(ot,J),n._hideClone(),X({sortable:n,name:"clone"}))})),!e&&C(J,o.dragClass,!0),e?(Tt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(A(document,"mouseup",n._onDrop),A(document,"touchend",n._onDrop),A(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(n,i,J)),w(document,"drop",n),x(J,"transform","translateZ(0)")),kt=!0,n._dragStartId=Gt(n._dragStarted.bind(n,e,t)),w(document,"selectstart",n),_t=!0,g&&x(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,i,o,r=this.el,a=t.target,s=this.options,u=s.group,l=Vt.active,d=lt===u,p=s.sort,f=dt||l,h=this,m=!1;if(!xt){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),a=E(a,s.draggable,r,!0),F("dragOver"),Vt.eventCanceled)return m;if(J.contains(t.target)||a.animated&&a.animatingX&&a.animatingY||h._ignoreWhileAnimating===a)return R(!1);if(Tt=!1,l&&!s.disabled&&(d?p||(i=Q!==et):dt===this||(this.lastPutMode=lt.checkPull(this,l,J,t))&&u.checkPut(this,l,J,t))){if(o="vertical"===this._getDirection(t,a),e=O(J),F("dragOverValid"),Vt.eventCanceled)return m;if(i)return Q=et,$(),this._hideClone(),F("revert"),Vt.eventCanceled||(nt?et.insertBefore(J,nt):et.appendChild(J)),R(!0);var y=P(r,s.draggable);if(!y||function(t,e,n){var i=O(P(n.el,n.options.draggable)),o=W(n.el,n.options,tt);return e?t.clientX>o.right+10||t.clientY>i.bottom&&t.clientX>i.left:t.clientY>o.bottom+10||t.clientX>i.right&&t.clientY>i.top}(t,o,this)&&!y.animated){if(y===J)return R(!1);if(y&&r===t.target&&(a=y),a&&(n=O(a)),!1!==Nt(et,r,J,e,a,n,t,!!a))return $(),y&&y.nextSibling?r.insertBefore(J,y.nextSibling):r.appendChild(J),Q=r,q(),R(!0)}else if(y&&function(t,e,n){var i=O(U(n.el,0,n.options,!0)),o=W(n.el,n.options,tt);return e?t.clientX<o.left-10||t.clientY<i.top&&t.clientX<i.right:t.clientY<o.top-10||t.clientY<i.bottom&&t.clientX<i.left}(t,o,this)){var g=U(r,0,s,!0);if(g===J)return R(!1);if(n=O(a=g),!1!==Nt(et,r,J,e,a,n,t,!1))return $(),r.insertBefore(J,g),Q=r,q(),R(!0)}else if(a.parentNode===r){n=O(a);var _,v,b,w=J.parentNode!==r,A=!function(t,e,n){var i=n?t.left:t.top,o=n?t.right:t.bottom,r=n?t.width:t.height,a=n?e.left:e.top,s=n?e.right:e.bottom,u=n?e.width:e.height;return i===a||o===s||i+r/2===a+u/2}(J.animated&&J.toRect||e,a.animated&&a.toRect||n,o),k=o?"top":"left",T=j(a,"top","top")||j(J,"top","top"),D=T?T.scrollTop:void 0;if(vt!==a&&(v=n[k],Dt=!1,Mt=!A&&s.invertSwap||w),_=function(t,e,n,i,o,r,a,s){var u=i?t.clientY:t.clientX,c=i?n.height:n.width,l=i?n.top:n.left,d=i?n.bottom:n.right,p=!1;if(!a)if(s&&wt<c*o){if(!Dt&&(1===bt?u>l+c*r/2:u<d-c*r/2)&&(Dt=!0),Dt)p=!0;else if(1===bt?u<l+wt:u>d-wt)return-bt}else if(u>l+c*(1-o)/2&&u<d-c*(1-o)/2)return function(t){return H(J)<H(t)?1:-1}(e);return(p=p||a)&&(u<l+c*r/2||u>d-c*r/2)?u>l+c/2?1:-1:0}(t,a,n,o,A?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Mt,vt===a),0!==_){var M=H(J);do{M-=_,b=Q.children[M]}while(b&&("none"===x(b,"display")||b===tt))}if(0===_||b===a)return R(!1);vt=a,bt=_;var L=a.nextElementSibling,S=!1,I=Nt(et,r,J,e,a,n,t,S=1===_);if(!1!==I)return 1!==I&&-1!==I||(S=1===I),xt=!0,setTimeout(Bt,30),$(),S&&!L?r.appendChild(J):a.parentNode.insertBefore(J,S?L:a),T&&V(T,0,D-T.scrollTop),Q=J.parentNode,void 0===v||Mt||(wt=Math.abs(v-O(a)[k])),q(),R(!0)}if(r.contains(J))return R(!1)}return!1}function F(s,u){Z(s,h,c({evt:t,isOwner:d,axis:o?"vertical":"horizontal",revert:i,dragRect:e,targetRect:n,canSort:p,fromSortable:f,target:a,completed:R,onMove:function(n,i){return Nt(et,r,J,e,n,O(n),t,i)},changed:q},u))}function $(){F("dragOverAnimationCapture"),h.captureAnimationState(),h!==f&&f.captureAnimationState()}function R(e){return F("dragOverCompleted",{insertion:e}),e&&(d?l._hideClone():l._showClone(h),h!==f&&(C(J,dt?dt.options.ghostClass:l.options.ghostClass,!1),C(J,s.ghostClass,!0)),dt!==h&&h!==Vt.active?dt=h:h===Vt.active&&dt&&(dt=null),f===h&&(h._ignoreWhileAnimating=a),h.animateAll((function(){F("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===J&&!J.animated||a===r&&!a.animated)&&(vt=null),s.dragoverBubble||t.rootEl||a===document||(J.parentNode[B]._isOutsideThisEl(t.target),!e&&Rt(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),m=!0}function q(){st=H(J),ct=H(J,s.draggable),X({sortable:h,name:"change",toEl:r,newIndex:st,newDraggableIndex:ct,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){A(document,"mousemove",this._onTouchMove),A(document,"touchmove",this._onTouchMove),A(document,"pointermove",this._onTouchMove),A(document,"dragover",Rt),A(document,"mousemove",Rt),A(document,"touchmove",Rt)},_offUpEvents:function(){var t=this.el.ownerDocument;A(t,"mouseup",this._onDrop),A(t,"touchend",this._onDrop),A(t,"pointerup",this._onDrop),A(t,"touchcancel",this._onDrop),A(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;st=H(J),ct=H(J,n.draggable),Z("drop",this,{evt:t}),Q=J&&J.parentNode,st=H(J),ct=H(J,n.draggable),Vt.eventCanceled||(kt=!1,Mt=!1,Dt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Yt(this.cloneId),Yt(this._dragStartId),this.nativeDraggable&&(A(document,"drop",this),A(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),g&&x(document.body,"user-select",""),x(J,"transform",""),t&&(_t&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),tt&&tt.parentNode&&tt.parentNode.removeChild(tt),(et===Q||dt&&"clone"!==dt.lastPutMode)&&ot&&ot.parentNode&&ot.parentNode.removeChild(ot),J&&(this.nativeDraggable&&A(J,"dragend",this),Wt(J),J.style["will-change"]="",_t&&!kt&&C(J,dt?dt.options.ghostClass:this.options.ghostClass,!1),C(J,this.options.chosenClass,!1),X({sortable:this,name:"unchoose",toEl:Q,newIndex:null,newDraggableIndex:null,originalEvent:t}),et!==Q?(st>=0&&(X({rootEl:Q,name:"add",toEl:Q,fromEl:et,originalEvent:t}),X({sortable:this,name:"remove",toEl:Q,originalEvent:t}),X({rootEl:Q,name:"sort",toEl:Q,fromEl:et,originalEvent:t}),X({sortable:this,name:"sort",toEl:Q,originalEvent:t})),dt&&dt.save()):st!==at&&st>=0&&(X({sortable:this,name:"update",toEl:Q,originalEvent:t}),X({sortable:this,name:"sort",toEl:Q,originalEvent:t})),Vt.active&&(null!=st&&-1!==st||(st=at,ct=ut),X({sortable:this,name:"end",toEl:Q,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){Z("nulling",this),et=J=Q=tt=nt=ot=it=rt=pt=ft=_t=st=ct=at=ut=vt=bt=dt=lt=Vt.dragged=Vt.ghost=Vt.clone=Vt.active=null,Lt.forEach((function(t){t.checked=!0})),Lt.length=ht=mt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":J&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,i=0,o=n.length,r=this.options;i<o;i++)E(t=n[i],r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||zt(t));return e},sort:function(t,e){var n={},i=this.el;this.toArray().forEach((function(t,e){var o=i.children[e];E(o,this.options.draggable,i,!1)&&(n[t]=o)}),this),e&&this.captureAnimationState(),t.forEach((function(t){n[t]&&(i.removeChild(n[t]),i.appendChild(n[t]))})),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return E(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var i=Y.modifyOption(this,t,e);n[t]=void 0!==i?i:e,"group"===t&&Ht(n)},destroy:function(){Z("destroy",this);var t=this.el;t[B]=null,A(t,"mousedown",this._onTapStart),A(t,"touchstart",this._onTapStart),A(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(A(t,"dragover",this),A(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Et.splice(Et.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!rt){if(Z("hideClone",this),Vt.eventCanceled)return;x(ot,"display","none"),this.options.removeCloneOnHide&&ot.parentNode&&ot.parentNode.removeChild(ot),rt=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(rt){if(Z("showClone",this),Vt.eventCanceled)return;J.parentNode!=et||this.options.group.revertClone?nt?et.insertBefore(ot,nt):et.appendChild(ot):et.insertBefore(ot,J),this.options.group.revertClone&&this.animate(J,ot),x(ot,"display",""),rt=!1}}else this._hideClone()}},St&&w(document,"touchmove",(function(t){(Vt.active||kt)&&t.cancelable&&t.preventDefault()})),Vt.utils={on:w,off:A,css:x,find:S,is:function(t,e){return!!E(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:q,closest:E,toggleClass:C,clone:N,index:H,nextTick:Gt,cancelNextTick:Yt,detectDirection:Pt,getChild:U},Vt.get=function(t){return t[B]},Vt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Vt.utils=c(c({},Vt.utils),t.utils)),Y.mount(t)}))},Vt.create=function(t,e){return new Vt(t,e)},Vt.version="1.15.2";var Kt,Zt,Xt,Jt,Qt,te,ee=[],ne=!1;function ie(){ee.forEach((function(t){clearInterval(t.pid)})),ee=[]}function oe(){clearInterval(te)}var re=q((function(t,e,n,i){if(e.scroll){var o,r=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,u=e.scrollSpeed,c=I(),l=!1;Zt!==n&&(Zt=n,ie(),Kt=e.scroll,o=e.scrollFn,!0===Kt&&(Kt=$(n,!0)));var d=0,p=Kt;do{var f=p,h=O(f),m=h.top,y=h.bottom,g=h.left,_=h.right,v=h.width,b=h.height,w=void 0,A=void 0,k=f.scrollWidth,T=f.scrollHeight,E=x(f),D=f.scrollLeft,M=f.scrollTop;f===c?(w=v<k&&("auto"===E.overflowX||"scroll"===E.overflowX||"visible"===E.overflowX),A=b<T&&("auto"===E.overflowY||"scroll"===E.overflowY||"visible"===E.overflowY)):(w=v<k&&("auto"===E.overflowX||"scroll"===E.overflowX),A=b<T&&("auto"===E.overflowY||"scroll"===E.overflowY));var C=w&&(Math.abs(_-r)<=s&&D+v<k)-(Math.abs(g-r)<=s&&!!D),L=A&&(Math.abs(y-a)<=s&&M+b<T)-(Math.abs(m-a)<=s&&!!M);if(!ee[d])for(var S=0;S<=d;S++)ee[S]||(ee[S]={});ee[d].vx==C&&ee[d].vy==L&&ee[d].el===f||(ee[d].el=f,ee[d].vx=C,ee[d].vy=L,clearInterval(ee[d].pid),0==C&&0==L||(l=!0,ee[d].pid=setInterval(function(){i&&0===this.layer&&Vt.active._onTouchMove(Qt);var e=ee[this.layer].vy?ee[this.layer].vy*u:0,n=ee[this.layer].vx?ee[this.layer].vx*u:0;"function"==typeof o&&"continue"!==o.call(Vt.dragged.parentNode[B],n,e,t,Qt,ee[this.layer].el)||V(ee[this.layer].el,n,e)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&p!==c&&(p=$(p,!1)));ne=l}}),30),ae=function(t){var e=t.originalEvent,n=t.putSortable,i=t.dragEl,o=t.activeSortable,r=t.dispatchSortableEvent,a=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(e){var u=n||o;a();var c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,l=document.elementFromPoint(c.clientX,c.clientY);s(),u&&!u.el.contains(l)&&(r("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function se(){}function ue(){}se.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=U(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(e,i):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:ae},p(se,{pluginName:"revertOnSpill"}),ue.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:ae},p(ue,{pluginName:"removeOnSpill"}),Vt.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?w(document,"dragover",this._handleAutoScroll):this.options.supportPointer?w(document,"pointermove",this._handleFallbackAutoScroll):e.touches?w(document,"touchmove",this._handleFallbackAutoScroll):w(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?A(document,"dragover",this._handleAutoScroll):(A(document,"pointermove",this._handleFallbackAutoScroll),A(document,"touchmove",this._handleFallbackAutoScroll),A(document,"mousemove",this._handleFallbackAutoScroll)),oe(),ie(),clearTimeout(D),D=void 0},nulling:function(){Qt=Zt=Kt=ne=te=Xt=Jt=null,ee.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,i=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,r=document.elementFromPoint(i,o);if(Qt=t,e||this.options.forceAutoScrollFallback||m||h||g){re(t,this.options,r,e);var a=$(r,!0);!ne||te&&i===Xt&&o===Jt||(te&&oe(),te=setInterval((function(){var r=$(document.elementFromPoint(i,o),!0);r!==a&&(a=r,ie()),re(t,n.options,r,e)}),10),Xt=i,Jt=o)}else{if(!this.options.bubbleScroll||$(r,!0)===I())return void ie();re(t,this.options,$(r,!1),!1)}}},p(t,{pluginName:"scroll",initializeByDefault:!0})}),Vt.mount(ue,se);const ce=Vt;var le=n(2743),de=n(4727),pe=function(){function t(){(0,i.A)(this,t),this.isSorting=!1,this.createDropzones()}return(0,o.A)(t,[{key:"createDropzones",value:function(){var t=this;this.dropzones={instant:[],delayed:[],scheduled:[]},Object.entries(this.dropzonesSelectors.action).forEach((function(e){var n=(0,s.A)(e,2),i=n[0];n[1].forEach((function(e){document.querySelectorAll(".".concat(e)).forEach((function(e){var n="instant"===i;t.dropzones[i].push(new ce(e,Object.assign(t.settings,{sort:n})))}))}))}))}},{key:"setDisableStatusDropzone",value:function(t,e){this.dropzones[t].forEach((function(t){t.option("disabled",e)}))}},{key:"setDisableStatusAllDropzones",value:function(t,e){var n=this,i=e.exceptGroupdID;Object.keys(this.dropzones).forEach((function(e){e!==i&&n.setDisableStatusDropzone(e,t)}))}},{key:"handleChanges",value:function(t){var e={order:(0,le.u7)(),conditions:null};if(UncannyAutomatorBackend._site.automator.is_pro_active){if("item"==(t.item.classList.contains("uap-item")?"item":"conditions-block")&&t.to!==t.from){var n={before:t.from.classList.contains("uap-conditions-block-items"),after:t.to.classList.contains("uap-conditions-block-items")},i=t.item.itemId;if(n.before){var o=t.from.closest(".uap-conditions-block").dataset.id;(0,de.iW)({conditionsGroupId:o}).removeAction(i)}if(n.after){var r=t.to.closest(".uap-conditions-block").dataset.id;(0,de.iW)({conditionsGroupId:r}).addAction(i)}}e.conditions=(0,de.S9)()}this.saveChanges(e)}},{key:"saveChanges",value:function(t){var e="actions_order",n={recipe_id:UncannyAutomator._recipe.recipe_id};UncannyAutomatorBackend._site.automator.is_pro_active?(e="actions_order_and_conditions",n.order=t.order,n.conditions=JSON.stringify(t.conditions)):n.actions_order=t.order,document.body.classList.add("uap-sortable-status--saving"),(0,r.zA)(e,n,(function(t){document.body.classList.remove("uap-sortable-status--sorting"),document.body.classList.remove("uap-sortable-status--saving"),document.querySelectorAll(".uap-sortable-dropzone").forEach((function(t){t.classList.remove("uap-sortable-dropzone")})),setTimeout((function(){new Le}),300)}))}},{key:"settings",get:function(){var t=this;return{animation:300,fallbackOnBody:!0,swapThreshold:.5,invertedSwapThreshold:!0,direction:"vertical",emptyInsertThreshold:0,ghostClass:"uap-item-drag-ghost",chosenClass:"uap-item-drag-status-chosen",dragClass:"uap-item-drag-status-drag-floating",handle:".uap-item-drag-handle",draggable:".uap-conditions-block.uap-conditions-block--sortable, .uap-item.uap-item--sortable",onStart:function(e){t.isSorting=!0;var n=t.getWhatIsBeingDragged(e.item);"conditions-block"===n.is||"action"===n.is&&"instant"===n.type?t.setDisableStatusAllDropzones(!0,{exceptGroupdID:"instant"}):t.setDisableStatusAllDropzones(!0,{exceptGroupdID:n.type}),setTimeout((function(){t.isSorting&&(document.body.classList.add("uap-sortable-status--sorting"),("action"===n.is?t.dropzonesSelectors.action[n.type]:t.dropzonesSelectors["conditions-block"]).forEach((function(t){document.querySelectorAll(".".concat(t)).forEach((function(t){t.classList.add("uap-sortable-dropzone")}))})))}),300)},onEnd:function(e){t.isSorting=!1;var n=e.to!==e.from,i=e.oldIndex!==e.newIndex;n||i?t.handleChanges(e):(t.setDisableStatusAllDropzones(!1,{}),document.body.classList.remove("uap-sortable-status--sorting"),document.querySelectorAll(".uap-sortable-dropzone").forEach((function(t){t.classList.remove("uap-sortable-dropzone")})))},group:{name:"nested",pull:function(e,n,i){var o=t.getWhatIsBeingDragged(i);return("action"===o.is?t.dropzonesSelectors.action[o.type]:t.dropzonesSelectors["conditions-block"]).some((function(t){return e.el.classList.contains(t)}))}}}}},{key:"getWhatIsBeingDragged",value:function(t){var e={is:"action"};if(t.classList.contains("uap-conditions-block"))return e.is="conditions-block",e;var n=UncannyAutomator.recipe.items[t.dataset.id];return e.type=n.isDelayed?"delayed":n.isScheduled?"scheduled":n.isDelayedCustom?"delayed-custom":"instant",e}},{key:"dropzonesSelectors",get:function(){return{"conditions-block":["uap-items--actions-instant"],action:{instant:["uap-conditions-block-items--instant","uap-items--actions-instant"],delayed:["uap-conditions-block-items--delayed","uap-items--actions-delayed"],scheduled:["uap-conditions-block-items--scheduled","uap-items--actions-scheduled"]}}}}]),t}(),fe=n(1669),he=n.n(fe),me=n(127),ye=n(5662),ge=n(9143);const _e=function(){function t(){(0,i.A)(this,t),UncannyAutomator.recipe.userSelector.step=(0,r.uK)("get-step"),this.render()}return(0,o.A)(t,[{key:"render",value:function(){var t="";switch(UncannyAutomator.recipe.userSelector.step){case"select-source":UncannyAutomator.recipe.userSelector.isValid=!1,(0,r.Ny)("validate"),t=this.getSelectSourceNodes();break;case"set-options":t=this.getOptionsNodes();break;case"show-sentence":(0,r.Ny)("validate"),UncannyAutomator.recipe.errorMode=!1,new ye.A,t=this.getSentenceNodes()}(0,r.G6)("metabox",{type:"action"}).prepend(t)}},{key:"getSelectSourceNodes",value:function(){var t=he()('\n\t\t\t<div class="user-selector '.concat(UncannyAutomator.recipe.requiresUserData?"user-selector--show":"",'">\n\t\t\t</div>\t\n\t\t'));return t.append(this.createItem()),t.find(".uap-item-inner-content").append(he()('\n\t\t\t<div class="item-integrations">\n\t\t\t\t<div class="item-integration user-selector-option user-selector-option--existing-user" data-source="existingUser">\n\t\t\t\t\t<div class="item-integration__logo"></div>\n\t\t\t\t\t<div class="item-integration__name">\n\t\t\t\t\t\t'.concat(_uo.utility.escHTML(wp.i18n.__("Existing user","uncanny-automator")),'\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="item-integration user-selector-option user-selector-option--new-user" data-source="newUser">\n\t\t\t\t\t<div class="item-integration__logo"></div>\n\t\t\t\t\t<div class="item-integration__name">\n\t\t\t\t\t\t').concat(_uo.utility.escHTML(wp.i18n.__("New user","uncanny-automator")),"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"))),t.find(".user-selector-option").on("click",(function(t){var e=he()(t.currentTarget).data("source");(0,r.uK)("set-source",{source:e}),UncannyAutomator.recipe.userSelector.step="set-options",new Le})),t}},{key:"getOptionsNodes",value:function(){var t=he()('\n\t\t\t<div class="user-selector '.concat(UncannyAutomator.recipe.requiresUserData?"user-selector--show":"",'">\n\t\t\t</div>\n\t\t'));return t.prepend(this.createItem()),t.find(".uap-item-inner-content").append(he()('<div class="item-options"></div>')),t.find(".item-options").append(this.getOptionsFields()),t}},{key:"getOptionsFields",value:function(){var t=he()("<div></div>"),e=he()('<div class="item-options__group"></div>'),n=[];(0,r.uK)("update-fields",{source:"existingUser",data:{}}),(0,r.uK)("update-fields",{source:"newUser",data:{}});var i=UncannyAutomator.recipe.userSelector.resources.roles;switch(delete i.administrator,UncannyAutomator.recipe.userSelector.source){case"existingUser":var o=he()('<div class="user-selector__field-group user-selector__field-group--two-columns"></div>'),a=new me.A("select",{itemType:"user-selector",optionCode:"uniqueField",label:_uo.utility.escHTML(wp.i18n.__("Unique field","uncanny-automator")),currentValue:UncannyAutomator.recipe.userSelector.data.existingUser.uniqueField,isRequired:!0,optionsShowID:!1,options:[{value:"email",text:_uo.utility.escHTML(wp.i18n.__("Email","uncanny-automator"))},{value:"id",text:_uo.utility.escHTML(wp.i18n.__("ID","uncanny-automator"))},{value:"username",text:_uo.utility.escHTML(wp.i18n.__("Username","uncanny-automator"))}]});n.push(a);var s=new me.A("text",{itemType:"user-selector",optionCode:"uniqueFieldValue",currentValue:UncannyAutomator.recipe.userSelector.data.existingUser.uniqueFieldValue,label:_uo.utility.escHTML(wp.i18n.__("Value","uncanny-automator")),isRequired:!0,supportsTokens:!0});n.push(s);var u=a.getFormElement();s.initTokenSelector(),s.initFlatpickr(),s.initCodeMirror(),o.append(u);var c=s.getFormElement();o.append(c),e.append(o);var l=new me.A("radio",{itemType:"user-selector",optionCode:"fallback",name:"user-selector-existing-user-fallback",label:_uo.utility.escHTML(wp.i18n.__("What to do if the user doesn't exist","uncanny-automator")),isRequired:!0,currentValue:UncannyAutomator.recipe.userSelector.data.existingUser.fallback,options:[{value:"create-new-user",text:_uo.utility.escHTML(wp.i18n.__("Create new user","uncanny-automator"))},{value:"do-nothing",text:_uo.utility.escHTML(wp.i18n.__("Do nothing","uncanny-automator"))}]});n.push(l);var d=l.getFormElement();if(e.append(d),u.on("automator:field:change",(function(){(0,r.uK)("update-fields",{source:"existingUser",data:{uniqueField:a.getValue()}})})),c.on("automator:field:change",(function(){(0,r.uK)("update-fields",{source:"existingUser",data:{uniqueFieldValue:s.getValue()}})})),d.on("automator:field:change",(function(){(0,r.uK)("update-fields",{source:"existingUser",data:{fallback:l.getValue()}}),new Le})),"do-nothing"==UncannyAutomator.recipe.userSelector.data.existingUser.fallback){var p=he()('\n\t\t\t\t\t\t<div class="user-selector__warning">\n\t\t\t\t\t\t\t'.concat(_uo.utility.escHTML(wp.i18n.__("If no user matches the unique field and value then the actions are not going to be executed.","uncanny-automator")),"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"));e.append(p)}else if("create-new-user"==UncannyAutomator.recipe.userSelector.data.existingUser.fallback){var f=he()("<div/>",{class:"item-options"});[{itemType:"user-selector",fieldType:"text",optionCode:"firstName",currentValue:UncannyAutomator.recipe.userSelector.data.existingUser.firstName,label:_uo.utility.escHTML(wp.i18n.__("First name","uncanny-automator")),isRequired:!1,supportsTokens:!0},{itemType:"user-selector",fieldType:"text",optionCode:"lastName",currentValue:UncannyAutomator.recipe.userSelector.data.existingUser.lastName,label:_uo.utility.escHTML(wp.i18n.__("Last name","uncanny-automator")),isRequired:!1,supportsTokens:!0},{itemType:"user-selector",fieldType:"text",optionCode:"email",currentValue:UncannyAutomator.recipe.userSelector.data.existingUser.email,label:_uo.utility.escHTML(wp.i18n.__("Email","uncanny-automator")),isRequired:!0,supportsTokens:!0},{itemType:"user-selector",fieldType:"text",optionCode:"username",currentValue:UncannyAutomator.recipe.userSelector.data.existingUser.username,label:_uo.utility.escHTML(wp.i18n.__("Username","uncanny-automator")),isRequired:!0,supportsTokens:!0},{itemType:"user-selector",fieldType:"text",optionCode:"displayName",currentValue:UncannyAutomator.recipe.userSelector.data.existingUser.displayName,label:_uo.utility.escHTML(wp.i18n.__("Display name","uncanny-automator")),isRequired:!1,supportsTokens:!0},{itemType:"user-selector",fieldType:"text",optionCode:"password",currentValue:UncannyAutomator.recipe.userSelector.data.existingUser.password,label:_uo.utility.escHTML(wp.i18n.__("Password","uncanny-automator")),description:_uo.utility.escHTML(wp.i18n.__("If left empty, the user will need to reset their password to log in. Send an email containing the _User reset password link_ token to simplify the process.","uncanny-automator")),isRequired:!1,supportsTokens:!0},{itemType:"user-selector",fieldType:"select",optionCode:"role",currentValue:_uo.utility.isEmpty(UncannyAutomator.recipe.userSelector.data.existingUser.role)?"subscriber":UncannyAutomator.recipe.userSelector.data.existingUser.role,label:_uo.utility.escHTML(wp.i18n.__("Role","uncanny-automator")),isRequired:!0,supportsTokens:!1,optionsShowID:!1,options:Object.keys(i).map((function(t,e){return{value:t,text:i[t]}}))},{itemType:"user-selector",fieldType:"radio",optionCode:"logUserIn",name:"logUserIn",currentValue:UncannyAutomator.recipe.canLogNewUserIn?_uo.utility.isEmpty(UncannyAutomator.recipe.userSelector.data.existingUser.logUserIn)?"no":UncannyAutomator.recipe.userSelector.data.existingUser.logUserIn:"no",isHidden:!UncannyAutomator.recipe.canLogNewUserIn,label:_uo.utility.escHTML(wp.i18n.__("Log the new user in?","uncanny-automator")),supportsTokens:!1,options:[{value:"yes",text:_uo.utility.escHTML(wp.i18n.__("Yes","uncanny-automator"))},{value:"no",text:_uo.utility.escHTML(wp.i18n.__("No","uncanny-automator"))}]}].forEach((function(t){var e=new me.A(t.fieldType,t),i=e.getFormElement();f.append(i),e.initTokenSelector(),e.initFlatpickr(),e.initCodeMirror(),n.push(e)})),e.append(f)}break;case"newUser":[{itemType:"user-selector",fieldType:"text",optionCode:"firstName",currentValue:UncannyAutomator.recipe.userSelector.data.newUser.firstName,label:_uo.utility.escHTML(wp.i18n.__("First name","uncanny-automator")),isRequired:!1,supportsTokens:!0},{itemType:"user-selector",fieldType:"text",optionCode:"lastName",currentValue:UncannyAutomator.recipe.userSelector.data.newUser.lastName,label:_uo.utility.escHTML(wp.i18n.__("Last name","uncanny-automator")),isRequired:!1,supportsTokens:!0},{itemType:"user-selector",fieldType:"text",optionCode:"email",currentValue:UncannyAutomator.recipe.userSelector.data.newUser.email,label:_uo.utility.escHTML(wp.i18n.__("Email","uncanny-automator")),isRequired:!0,supportsTokens:!0},{itemType:"user-selector",fieldType:"text",optionCode:"username",currentValue:UncannyAutomator.recipe.userSelector.data.newUser.username,label:_uo.utility.escHTML(wp.i18n.__("Username","uncanny-automator")),isRequired:!0,supportsTokens:!0},{itemType:"user-selector",fieldType:"text",optionCode:"displayName",currentValue:UncannyAutomator.recipe.userSelector.data.newUser.displayName,label:_uo.utility.escHTML(wp.i18n.__("Display name","uncanny-automator")),isRequired:!1,supportsTokens:!0},{itemType:"user-selector",fieldType:"text",optionCode:"password",currentValue:UncannyAutomator.recipe.userSelector.data.newUser.password,label:_uo.utility.escHTML(wp.i18n.__("Password","uncanny-automator")),description:_uo.utility.escHTML(wp.i18n.__("If left empty, the user will need to reset their password to log in. Send an email containing the _User reset password link_ token to simplify the process.","uncanny-automator")),isRequired:!1,supportsTokens:!0},{itemType:"user-selector",fieldType:"select",optionCode:"role",currentValue:_uo.utility.isEmpty(UncannyAutomator.recipe.userSelector.data.newUser.role)?"subscriber":UncannyAutomator.recipe.userSelector.data.newUser.role,label:_uo.utility.escHTML(wp.i18n.__("Role","uncanny-automator")),isRequired:!0,supportsTokens:!1,optionsShowID:!1,options:Object.keys(i).map((function(t,e){return{value:t,text:i[t]}}))},{itemType:"user-selector",fieldType:"radio",optionCode:"logUserIn",name:"logUserIn",currentValue:UncannyAutomator.recipe.canLogNewUserIn?_uo.utility.isEmpty(UncannyAutomator.recipe.userSelector.data.newUser.logUserIn)?"no":UncannyAutomator.recipe.userSelector.data.newUser.logUserIn:"no",isHidden:!UncannyAutomator.recipe.canLogNewUserIn,label:_uo.utility.escHTML(wp.i18n.__("Log the new user in?","uncanny-automator")),supportsTokens:!1,options:[{value:"yes",text:_uo.utility.escHTML(wp.i18n.__("Yes","uncanny-automator"))},{value:"no",text:_uo.utility.escHTML(wp.i18n.__("No","uncanny-automator"))}]}].forEach((function(t){var i=new me.A(t.fieldType,t),o=i.getFormElement();e.append(o),i.initTokenSelector(),i.initFlatpickr(),i.initCodeMirror(),n.push(i)}));var h=new me.A("radio",{itemType:"user-selector",optionCode:"fallback",name:"user-selector-new-user-fallback",label:_uo.utility.escHTML(wp.i18n.__("What to do if the user already exists","uncanny-automator")),isRequired:!0,currentValue:UncannyAutomator.recipe.userSelector.data.newUser.fallback,options:[{value:"select-existing-user",text:_uo.utility.escHTML(wp.i18n.__("Select existing user","uncanny-automator"))},{value:"do-nothing",text:_uo.utility.escHTML(wp.i18n.__("Do nothing","uncanny-automator"))}]});n.push(h);var m=h.getFormElement();if(e.append(m),m.on("automator:field:change",(function(){var t={};n.forEach((function(e){t[e.getAttributes().optionCode]=e.getValue()})),(0,r.uK)("update-fields",{source:"newUser",data:t}),new Le})),"do-nothing"==UncannyAutomator.recipe.userSelector.data.newUser.fallback){var y=he()('\n\t\t\t\t\t\t<div class="user-selector__warning">\n\t\t\t\t\t\t\t'.concat(_uo.utility.escHTML(wp.i18n.__("If there is already a user with the defined email address or username, the actions are not going to be executed.","uncanny-automator")),"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"));e.append(y)}else if("select-existing-user"==UncannyAutomator.recipe.userSelector.data.newUser.fallback){var g=he()("<div/>",{class:"item-options"}),_=new me.A("select",{itemType:"user-selector",optionCode:"prioritizedField",label:_uo.utility.escHTML(wp.i18n.__("Prioritized field","uncanny-automator")),currentValue:UncannyAutomator.recipe.userSelector.data.newUser.prioritizedField,defaultValue:"email",description:_uo.utility.escHTML(wp.i18n.__("Select the field that should be prioritized if, during creation of the user, two different users are found (one that matches the email field and another one that matches the username field).","uncanny-automator")),isRequired:!0,optionsShowID:!1,options:[{value:"email",text:_uo.utility.escHTML(wp.i18n.__("Email","uncanny-automator"))},{value:"username",text:_uo.utility.escHTML(wp.i18n.__("Username","uncanny-automator"))}]});n.push(_);var v=_.getFormElement();g.append(v),e.append(g)}}UncannyAutomator.recipe.userSelector.fields=n,t.append(e);var b=he()('<div class="item-options__buttons"></div>'),w=he()('<div class="uap-btn uap-btn--primary">'.concat(_uo.utility.escHTML(wp.i18n._x("Save","Verb","uncanny-automator")),"</div>")),A=he()('<div class="uap-btn uap-btn--secondary">'.concat(_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator")),"</div>"));return w.on("click",(function(){var t=!0,e={};n.forEach((function(n){var i=n.validate().isValid;t=t&&i,i&&(e[n.getAttributes().optionCode]=n.getValue())})),(0,r.uK)("update-fields",{source:UncannyAutomator.recipe.userSelector.source,data:e}),t&&(w.addClass("uap-btn--primary uap-btn--loading uap-btn--disabled"),(0,r.zA)("user-selector",{recipeId:UncannyAutomator._recipe.recipe_id,source:UncannyAutomator.recipe.userSelector.source,data:UncannyAutomator.recipe.userSelector.data[UncannyAutomator.recipe.userSelector.source]},(function(t){UncannyAutomator.recipe.userSelector.isValid=!0,(0,r.uK)("set-step",{step:"show-sentence"}),new Le}),(function(t){})))})),A.on("click",(function(){(0,r.uK)("set-step",{step:"select-source"}),new Le})),b.append(w),b.append(A),t.append(b),t}},{key:"getSentenceNodes",value:function(){var t=he()('\n\t\t\t<div class="user-selector user-selector--summary '.concat(UncannyAutomator.recipe.requiresUserData?"user-selector--show":"",'">\n\t\t\t</div>\n\t\t'));t.prepend(this.createItem()),t.find(".uap-item-inner-content").append(he()('<div class="user-selector-summary"></div>'));var e=t.find(".user-selector-summary"),n=he()('\n\t\t\t<div class="user-selector-summary-row">\n\t\t\t\t<div class="user-selector-summary-row__icon">\n\t\t\t\t\t<uo-icon id="atom-simple"></uo-icon>\n\t\t\t\t</div>\n\t\t\t\t<div class="user-selector-summary-row__content"></div>\n\t\t\t</div>\n\t\t'),i=he()('\n\t\t\t<div class="user-selector-summary-row__token"></div>\n\t\t');n.find(".user-selector-summary-row__content").append(i),"existingUser"==UncannyAutomator.recipe.userSelector.source?i.text(_uo.utility.escHTML(wp.i18n.__("Existing user","uncanny-automator"))):"newUser"==UncannyAutomator.recipe.userSelector.source&&i.text(_uo.utility.escHTML(wp.i18n.__("New user","uncanny-automator"))),i.on("click",(function(){(0,r.uK)("set-step",{step:"select-source"}),new Le})),e.append(n);var o,a=he()('\n\t\t\t<div class="user-selector-summary-row">\n\t\t\t\t<div class="user-selector-summary-row__icon">\n\t\t\t\t\t<uo-icon id="fingerprint"></uo-icon>\n\t\t\t\t</div>\n\t\t\t\t<div class="user-selector-summary-row__content"></div>\n\t\t\t</div>\n\t\t'),s=UncannyAutomator.recipe.userSelector.data.existingUser.uniqueFieldValue;try{s=new ge.A("user-selector").renderTextWithTokens(s).outerHTML}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}if("existingUser"==UncannyAutomator.recipe.userSelector.source)o=he()("\n\t\t\t\t<div>\n\t\t\t\t".concat(_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n._x("%1$s matches %2$s","User selector","uncanny-automator")),'<div class="user-selector-summary-row__token">'.concat({email:_uo.utility.escHTML(wp.i18n.__("Email","uncanny-automator")),id:_uo.utility.escHTML(wp.i18n.__("ID","uncanny-automator")),username:_uo.utility.escHTML(wp.i18n.__("Username","uncanny-automator"))}[UncannyAutomator.recipe.userSelector.data.existingUser.uniqueField],"</div>"),'<div class="user-selector-summary-row__token">'.concat(s,"</div>")),"\n\t\t\t\t</div>"));else if("newUser"==UncannyAutomator.recipe.userSelector.source){var u=UncannyAutomator.recipe.userSelector.data.newUser.email;try{u=new ge.A("user-selector").renderTextWithTokens(u).outerHTML}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}o=he()("\n\t\t\t\t<div>\n\t\t\t\t".concat(_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n._x("With the email %1$s","User selector","uncanny-automator")),'<div class="user-selector-summary-row__token">'.concat(u,"</div>")),"\n\t\t\t\t</div>\n\t\t\t\t"))}a.find(".user-selector-summary-row__content").append(o),o.find(".user-selector-summary-row__token").on("click",(function(){(0,r.uK)("set-step",{step:"set-options"}),new Le})),e.append(a);var c=he()('\n\t\t\t<div class="user-selector-summary-row">\n\t\t\t\t<div class="user-selector-summary-row__icon">\n\t\t\t\t\t<uo-icon id="diamond-turn-right"></uo-icon>\n\t\t\t\t</div>\n\t\t\t\t<div class="user-selector-summary-row__content"></div>\n\t\t\t</div>\n\t\t'),l="";"existingUser"==UncannyAutomator.recipe.userSelector.source?"create-new-user"==UncannyAutomator.recipe.userSelector.data.existingUser.fallback?l=_uo.utility.escHTML(wp.i18n._x("create a new user","User selector","uncanny-automator")):"do-nothing"==UncannyAutomator.recipe.userSelector.data.existingUser.fallback&&(l=_uo.utility.escHTML(wp.i18n._x("do nothing","User selector","uncanny-automator"))):"newUser"==UncannyAutomator.recipe.userSelector.source&&("select-existing-user"==UncannyAutomator.recipe.userSelector.data.newUser.fallback?l=_uo.utility.escHTML(wp.i18n._x("select an existing user","User selector","uncanny-automator")):"do-nothing"==UncannyAutomator.recipe.userSelector.data.newUser.fallback&&(l=_uo.utility.escHTML(wp.i18n._x("do nothing","User selector","uncanny-automator"))));var d=he()("\n\t\t\t<div>\n\t\t\t".concat(_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n._x("Otherwise, %1$s","User selector","uncanny-automator")),'<div class="user-selector-summary-row__token">'.concat(l,"</div>")),"\n\t\t\t</div>"));return c.find(".user-selector-summary-row__content").append(d),c.find(".user-selector-summary-row__token").on("click",(function(){(0,r.uK)("set-step",{step:"set-options"}),new Le})),e.append(c),t}},{key:"createItem",value:function(){var t={stepTitle:"set-options"==UncannyAutomator.recipe.userSelector.step?_uo.utility.escHTML(wp.i18n.__("Set user data","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("Actions will be run on...","uncanny-automator")),supportUrl:_uo.utility.addParametersUTM("https://automatorplugin.com/knowledge-base/anonymous-recipes/#Introducing_the_User_Selector",{medium:"user_selector",content:"support_menu_link"})},e=document.createElement("div");if(e.classList.add("uap-item","uap-item--user-selector","item","item--user-selector"),e.innerHTML='\n\t\t\t<div class="uap-item-inner">\n\t\t\t\t<div class="uap-item-sidebar">\n\t\t\t\t\t<ua-builder-integration-icon code="UOA"></ua-builder-integration-icon>\n\t\t\t\t</div>\n\t\t\t\t<div class="uap-item-top-header">\n\t\t\t\t\t<div class="uap-item-top-header-left">\n\t\t\t\t\t\t'.concat(t.stepTitle,'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="uap-item-top-header-right">\n\t\t\t\t\t\t<uo-button-dropdown reverse-direction>\n\t\t\t\t\t\t\t<uo-button \n\t\t\t\t\t\t\t\tslot="target" \n\t\t\t\t\t\t\t\tcolor="transparent"\n\t\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<uo-icon id="ellipsis"></uo-icon>\n\t\t\t\t\t\t\t</uo-button>\n\n\t\t\t\t\t\t\t<uo-button\n\t\t\t\t\t\t\t\thref="').concat(t.supportUrl,'"\n\t\t\t\t\t\t\t\ttarget="_blank"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t').concat(_uo.utility.escHTML(wp.i18n._x("Support","Noun","uncanny-automator")),'\n\t\t\t\t\t\t\t</uo-button>\n\n\t\t\t\t\t\t</uo-button-dropdown>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="uap-item-inner-content"></div>\n\t\t\t</div>\n\t\t'),!UncannyAutomator._core.recipe.userSelector.evaluateRecipeRequiresUserData()){var n=document.createElement("uo-button");n.innerText=_uo.utility.escHTML(wp.i18n.__("Delete","uncanny-automator"));var i=e.querySelector(".uap-item-top-header-right uo-button-dropdown");i&&i.appendChild(n),n.addEventListener("click",(function(){UncannyAutomator._core.recipe.userSelector.setRequiresUserSelector(!1).then((function(t){UncannyAutomator.recipe.requiresUserData=!1,new Le}))}))}return e}}]),t}();var ve=n(4248),be=n(1782),we=n(8064),Ae=(0,o.A)((function t(){(0,i.A)(this,t);var e=document.createElement("div");e.classList.add("uap-item","uap-item--actions-initial"),e.insertAdjacentHTML("beforeEnd",'\n\t\t\t<div class="uap-item-inner">\n\t\t\t\t<div class="uap-item-sidebar">\n\t\t\t\t\t<div class="uap-item-icon"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="uap-item-main">\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\tcolor="secondary"\n\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\tclass="uap-item-main-initial-action-button uap-spacing-right uap-spacing-right--xsmall"\n\t\t\t\t\t>\n\t\t\t\t\t\t'.concat(_uo.utility.escHTML(wp.i18n.__("Add action","uncanny-automator")),'\n\t\t\t\t\t</uo-button>\n\n\t\t\t\t\t<uo-button-dropdown class="add-action-btn">\n\t\t\t\t\t\t<uo-button \n\t\t\t\t\t\t\tslot="target" \n\t\t\t\t\t\t\tcolor="secondary"\n\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t').concat(_uo.utility.escHTML(wp.i18n.__("Add","uncanny-automator")),' <uo-icon id="angle-down"></uo-icon>\n\t\t\t\t\t\t</uo-button>\n\n\t\t\t\t\t\t<ua-builder-conditions-add-button \n\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\tcolor="transparent"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t').concat(_uo.utility.escHTML(wp.i18n.__("Filter","uncanny-automator")),'\n\t\t\t\t\t\t</ua-builder-conditions-add-button>\n\n\t\t\t\t\t\t<uap-builder-loop-add-user-loop\n\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\tcolor="transparent"\n\t\t\t\t\t\t></uap-builder-loop-add-user-loop>\n\n\t\t\t\t\t\t<uap-builder-loop-add-post-loop\n\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\tcolor="transparent"\n\t\t\t\t\t\t></uap-builder-loop-add-post-loop>\n\n\t\t\t\t\t\t<uap-builder-loop-add-token-loop\n\t\t\t\t\t\t\t\t\t\tparent-id=').concat(UncannyAutomator._recipe.recipe_id,'\n\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\tcolor="transparent"\n\t\t\t\t\t\t></uap-builder-loop-add-token-loop>\n\n\t\t\t\t\t</uo-button-dropdown>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t')),(0,r.G6)("metabox",{type:"action"}).get(0).appendChild(e),e.querySelector(".uap-item-main-initial-action-button").addEventListener("click",(function(){new we.A("action"),document.dispatchEvent(new CustomEvent("uap/builder/legacy/item-action-initial-clicked"))}))})),ke=n(6080),Te=n(9036),Ee=n(5034),De=n(9986);const Me=function(){function t(e){var n=this;(0,i.A)(this,t),this.elements={$metabox:(0,r.G6)("metabox",{type:"action"})},he().each(UncannyAutomator.closures,(function(t,i){return n.createClosure(i,e)}))}return(0,o.A)(t,[{key:"createClosure",value:function(t,e){var n=!1,i=he()('\n\t\t\t<div class="metabox__footer metabox__closures"></div>\n\t\t'),o={label:e,formElementClass:"form-element--nomargin"},a=this.getClosureByCodeFromItemsObject(t.code);_uo.utility.isDefined(a)&&(n=!0,o.currentValue=!0,o.itemid=a.id);var s=new me.A("checkbox",o),u=s.getFormElement();u.on("change",(function(){var e=s.getValue();s.startLoadingAnimation(),e?UncannyAutomator._core.recipe.item.createItem("closure",t.code,{parentID:UncannyAutomator._recipe.recipe_id,actionsOrder:(0,le.u7)(),defaultMeta:{integration:t.integration,integration_name:UncannyAutomator.integrations[t.integration].name,sentence:t.sentence,type:"free"}}).then((function(t){new Le,_uo.utility.isDefined(t.post_ID)&&(0,r.G6)("item",{id:t.post_ID}).item.find(".item-title__token:not(.item-title__token--filled)").first().trigger("click")})).catch((function(t){s.stopLoadingAnimation(),s.setValue(!1,!1)})):UncannyAutomator._core.recipe.item.deleteItem("closure",a.id).catch((function(t){console.log(t),new Le}))})),i.append(u);var c=he()("<div/>",{class:"uo-toggle uo-toggle--show"});if(n){c.addClass("uo-toggle--show");var l=he()("<div/>",{class:"item item--closure item--margintop uap-item uap-item--closure uap-item--margintop","data-id":a.id});l.append(this.createInnerContent(UncannyAutomator.recipe.items[a.id].integrationCode,"closure",t.code,a.id)),c.append(l)}i.append(c),this.elements.$metabox.append(i)}},{key:"createInnerContent",value:function(t,e,n,i){var o={$icon:new Te.A(t),$integrationNameTag:new Ee.A({integrationId:t}),$actionMenu:new ke.A(e,t,n,i),$sentence:new De.A(e,t,n,i)},r=document.createElement("div");return r.classList.add("uap-item-inner"),r.innerHTML='\n\t\t\t<div class="uap-item-sidebar"></div>\n\t\t\t<div class="uap-item-top-header">\n\t\t\t\t<div class="uap-item-top-header-left"></div>\n\t\t\t\t<div class="uap-item-top-header-right"></div>\n\t\t\t</div>\n\t\t\t<div class="uap-item-main"></div>\n\t\t\t<div class="uap-item-inner-content"></div>\n\t\t',r.querySelector(".uap-item-sidebar").appendChild(o.$icon),r.querySelector(".uap-item-top-header-left").appendChild(o.$integrationNameTag),r.querySelector(".uap-item-top-header-right").appendChild(o.$actionMenu.get(0)),r.querySelector(".uap-item-main").appendChild(o.$sentence.get(0)),r}},{key:"getClosureByCodeFromItemsObject",value:function(t){var e;return he().each(UncannyAutomator.recipe.items,(function(n,i){i.itemCode==t&&(e=i)})),e}}]),t}();var Ce=n(2696),xe=function(){function t(){(0,i.A)(this,t),(0,de.jU)()&&this.render()}return(0,o.A)(t,[{key:"render",value:function(){Object.values(UncannyAutomator.recipe.conditions).sort((function(t){return t.actions.length>0?-1:1})).forEach((function(t){t.parentID===UncannyAutomator._recipe.recipe_id&&new Ce.A({conditionsGroupId:t.id})}))}}]),t}(),Le=function(){function t(){(0,i.A)(this,t),this.clearActionsMetabox(),"anonymous"==UncannyAutomator._recipe.recipe_type&&new _e,!this.hasLoops&&_uo.utility.isEmpty((0,a.k)({}))&&_uo.utility.isEmpty(UncannyAutomator.recipe.conditions)?this.renderAddNewAction():UncannyAutomatorBackend._site.automator.is_pro_active?this.renderProUI():this.renderFreeUI()}return(0,o.A)(t,[{key:"renderProUI",value:function(){var t={instant:(0,a.k)({type:"instant"}),delayed:(0,a.k)({type:"delayed"}),scheduled:(0,a.k)({type:"scheduled"}),delayedCustom:(0,a.k)({type:"delay-custom"})},e=document.createElement("div"),n=document.createElement("uap-builder-item-action-list");if(n.runOn=UncannyAutomator._recipe.actions.runOn,n.items=UncannyAutomator._recipe.actions.items,_uo.utility.isEmpty(t.delayed)&&_uo.utility.isEmpty(t.scheduled)&&_uo.utility.isEmpty(t.delayedCustom)?(new ve.A("action",t.instant,{wrapperClass:"uap-items--actions-instant"}),new be.A("action"),(0,r.G6)("metabox",{type:"action"}).get(0).appendChild(e),new Me(wp.i18n.__("Redirect when all triggers are completed","uncanny-automator")),e.appendChild(n)):(new ve.A("action",t.instant,{wrapperClass:"uap-items--actions-instant"}),new be.A("action"),(0,r.G6)("metabox",{type:"action"}).get(0).appendChild(e),new Me(wp.i18n.__("Redirect when all triggers are completed","uncanny-automator")),new ve.A("action",t.delayed,{wrapperClass:"uap-items--actions-delayed"}),new ve.A("action",t.scheduled,{wrapperClass:"uap-items--actions-scheduled"}),new ve.A("action",t.delayedCustom,{wrapperClass:"uap-items--actions-delayed-custom"}),e.appendChild(n)),new xe,this.isContinuingIntegrationConnection()){var i=_uo.utility.getURLParameter(null,"ua_connecting_integration_condition"),o={};_uo.utility.isEmpty(i)||(o.conditionsGroupID=i),new we.A("action",null,o)}new pe}},{key:"renderFreeUI",value:function(){var t=(0,a.k)({});new ve.A("action",t,{wrapperClass:"uap-items--actions-instant"}),new be.A("action"),this.isContinuingIntegrationConnection()&&new we.A("action"),new Me(wp.i18n.__("Redirect when all triggers are completed","uncanny-automator")),new pe}},{key:"renderAddNewAction",value:function(){new Ae,this.isContinuingIntegrationConnection()&&new we.A("action"),new Me(wp.i18n.__("Redirect when all triggers are completed","uncanny-automator"))}},{key:"isContinuingIntegrationConnection",value:function(){return 1==_uo.utility.getURLParameter(null,"ua_connecting_integration")&&"action"==_uo.utility.getURLParameter(null,"ua_connecting_integration_context")}},{key:"clearActionsMetabox",value:function(){(0,r.G6)("metabox",{type:"action"}).get(0).innerHTML=""}},{key:"hasLoops",get:function(){return UncannyAutomator._recipe.actions.items.filter((function(t){return"loop"===t.type})).length>0}}]),t}()},6393:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});var i=n(5458),o=n(8514);const r=function t(e){var n=e.type,r=e.includeOnly,a=e.exclude,s={orderBy:"menuOrder",orderByType:"int",format:"array",filter:{itemType:"action"}};if(!_uo.utility.isDefined(n))return[].concat((0,i.A)(t({type:"instant",includeOnly:r,exclude:a})),(0,i.A)(t({type:"delayed",includeOnly:r,exclude:a})),(0,i.A)(t({type:"scheduled",includeOnly:r,exclude:a})),(0,i.A)(t({type:"delay-custom",includeOnly:r,exclude:a})));switch(n){case"instant":s.filter.isScheduled=!1,s.filter.isDelayed=!1,s.filter.isDelayedCustom=!1;break;case"delayed":s.filter.isScheduled=!1,s.filter.isDelayed=!0,s.filter.isDelayedCustom=!1,s.orderBy="delayInSeconds";break;case"scheduled":s.filter.isScheduled=!0,s.filter.isDelayed=!1,s.filter.isDelayedCustom=!1,s.orderBy="scheduleNumber";break;case"delay-custom":s.filter.isScheduled=!1,s.filter.isDelayed=!1,s.filter.isDelayedCustom=!0}return _uo.utility.isDefined(r)&&(s.includeOnly=r),_uo.utility.isDefined(a)&&(s.exclude=a),(0,o.OY)("get",s)}},3661:(t,e,n)=>{"use strict";n.d(e,{A:()=>y});var i=n(7528),o=n(3029),r=n(2901),a=n(1669),s=n.n(a);const u=n.p+"img/delay-banner.svg";var c,l=n(2618),d=n(8829),p=n(127),f=n(3773),h=n(1380),m=n(9143);const y=function(){function t(e,n,i,r){if((0,o.A)(this,t),this.buttonContainer=void 0,this.button=void 0,this.buttonIcon=void 0,this.removeButton=void 0,this.asyncModeField=void 0,this.asyncModeHTML=void 0,this.delayNumberField=void 0,this.delayNumberHTML=void 0,this.delayUnitField=void 0,this.delayUnitHTML=void 0,this.scheduleDateField=void 0,this.scheduleDateHTML=void 0,this.scheduleTimeField=void 0,this.scheduleTimeHTML=void 0,this.scheduleNoticeHTML=void 0,this.modal=void 0,"action"===e){if(UncannyAutomator._site.automator.version_pro.startsWith("2"))return null;if(this.item=UncannyAutomator._core.recipe.item.getItem(e,r),_uo.utility.isDefined(this.item)&&!UncannyAutomator._core.recipe.item.loop.getParentLoop(r)){if(this.itemType=e,this.integrationID=n,this.itemCode=i,this.itemId=r,this.fabricatedMeta={async_mode:"",async_delay_number:"",async_delay_unit:"",async_schedule_time:"",async_schedule_date:"",async_sentence:"",async_custom:""},_uo.utility.isDefined(this.item.miscellaneous.delay_schedule)){var a=this.item.miscellaneous.delay_schedule;this.fabricatedMeta.async_mode=_uo.utility.isDefined(a.MODE)?a.MODE.value:"",this.fabricatedMeta.async_delay_number=_uo.utility.isDefined(a.DELAY_VALUE)?a.DELAY_VALUE.value:"",this.fabricatedMeta.async_delay_unit=_uo.utility.isDefined(a.DELAY_UNIT)?a.DELAY_UNIT.value:"",this.fabricatedMeta.async_schedule_time=_uo.utility.isDefined(a.SCHEDULE_TIME)?a.SCHEDULE_TIME.value:"",this.fabricatedMeta.async_schedule_date=_uo.utility.isDefined(a.SCHEDULE_DATE)?a.SCHEDULE_DATE.value:"",this.fabricatedMeta.async_custom=_uo.utility.isDefined(a.CUSTOM_VALUE)?a.CUSTOM_VALUE.value:"","delay"===this.fabricatedMeta.async_mode&&(this.fabricatedMeta.async_sentence=this.delaySentence(this.fabricatedMeta.async_delay_number,this.fabricatedMeta.async_delay_unit)),"schedule"===this.fabricatedMeta.async_mode&&(this.fabricatedMeta.async_sentence=this.scheduleSentence(this.fabricatedMeta.async_schedule_time,this.fabricatedMeta.async_schedule_date)),"custom"===this.fabricatedMeta.async_mode&&(this.fabricatedMeta.async_sentence=new m.A("closure","text",{forceShowBothLoopableAndNonLoopable:!0}).renderTextWithTokens(this.fabricatedMeta.async_custom).outerHTML)}this.asyncMode=this.fabricatedMeta.async_mode,this.createAsyncButton()}}}return(0,r.A)(t,[{key:"hasSchedule",value:function(){return!!this.asyncMode&&("delay"==this.asyncMode?this.fabricatedMeta.async_delay_number&&this.fabricatedMeta.async_delay_unit:"schedule"==this.asyncMode?this.fabricatedMeta.async_schedule_time&&this.fabricatedMeta.async_schedule_date:"custom"==this.asyncMode&&!_uo.utility.isEmpty(this.fabricatedMeta.async_custom))}},{key:"getButtonText",value:function(){var t=UncannyAutomatorBackend._site.automator.is_pro_active?"":'<uo-pro-tag size="extra-small"></uo-pro-tag>';if(this.hasSchedule()){var e={delay:_uo.utility.escHTML(wp.i18n.__("Delay","uncanny-automator")),schedule:_uo.utility.escHTML(wp.i18n.__("Schedule","uncanny-automator")),custom:_uo.utility.escHTML(wp.i18n.__("Use a token/custom value","uncanny-automator"))}[this.asyncMode];return e+=" ","custom"==this.asyncMode&&(e=""),UncannyAutomatorBackend._site.automator.is_pro_active?e+="".concat(this.fabricatedMeta.async_sentence):e+="<strike>".concat(this.fabricatedMeta.async_sentence,"</strike>"),e+" ".concat(t)}return _uo.utility.escHTML(wp.i18n.__("Delay","uncanny-automator"))+" ".concat(t)}},{key:"createAsyncButton",value:function(){var t=this;this.buttonContainer=document.createElement("div"),this.buttonContainer.classList.add("item-async"),this.asyncMode&&this.buttonContainer.classList.add("item-async--".concat(this.asyncMode)),this.buttonContainer.innerHTML='\n\t\t\t<uo-button\n\t\t\t\tsize="extra-small"\n\t\t\t\tcolor="secondary"\n\t\t\t>\n\t\t\t\t<uo-icon id="clock"></uo-icon> '.concat(this.getButtonText(),"\n\t\t\t</uo-button>\n\t\t"),this.buttonContainer=s()(this.buttonContainer),this.button=this.buttonContainer.find("uo-button"),(0,d.dj)()?(this.hasSchedule()&&this.createRemoveButton(),this.button.on("click",(function(){t.buttonContainer.hasClass("disabled")||t.showModal()})),this.buttonContainer.on("automator:asyncButton:maybeDisable",(function(e,n){var i=s()(e.currentTarget);n?(i.attr("uap-tooltip",wp.i18n.__("Please save the action first","uncanny-automator")),t.button.prop("disabled",!0)):(t.button.prop("disabled",!1),i.removeAttr("uap-tooltip",!1))}))):this.buttonContainer.get(0).addEventListener("click",(function(){t.handleCreateUpsellDialog()})),this.$button=this.buttonContainer.get(0)}},{key:"enable",value:function(){this.button.removeAttr("uap-tooltip"),this.button.removeAttr("disabled")}},{key:"createRemoveButton",value:function(){var t=this;this.removeButton=s()("<span/>",{class:"async-remove"}),this.removeButtonIcon=s()("<uo-icon/>",{id:"xmark"}),this.removeButton.text(wp.i18n.__("Remove","uncanny-automator")),this.removeButton.on("click",(function(){t.removeSchedule()})),this.removeButton.prepend(this.removeButtonIcon),this.buttonContainer.append(this.removeButton)}},{key:"createModalContent",value:function(){var t=s()("<div/>",{class:"async-action-modal"});if(this.asyncModeHTML=this.createAsyncModeHTML(),jQuery(this.asyncModeHTML.find(".form-radio__container").get(0)).after(this.createDelayOptions()),jQuery(this.asyncModeHTML.find(".form-radio__container").get(1)).after(this.createScheduleOptions()),jQuery(this.asyncModeHTML.find(".form-radio__container").get(2)).after(this.createCustomOptions()),this.attachModeChangeEvent(),t.append(this.asyncModeHTML),this.hasSchedule()){var e=s()("<div/>",{class:"async-notice async-notice__blue"}),n=s()("<uo-icon/>",{id:"triangle-exclamation"});e.append(n),e.append(wp.i18n.__("Note: Changes will not affect previously delayed or scheduled actions.","uncanny-automator")),t.append(e)}return t}},{key:"showModal",value:function(){var t=_uo.utility.escHTML(wp.i18n.__("Set delay","uncanny-automator"));this.hasSchedule()&&"schedule"==this.asyncMode&&(t=_uo.utility.escHTML(wp.i18n.__("Schedule","uncanny-automator"))),this.modal=new f.A({title:_uo.utility.escHTML(wp.i18n.__("Delay or schedule this action","uncanny-automator")),content:this.createModalContent(),buttons:{cancel:_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator")),confirm:t}},{size:"large",customClass:"async-action"}),this.modalEvents()}},{key:"modalEvents",value:function(){var t=this;this.modal.setEvents({afterSetEvents:function(){t.modal.show()},onConfirm:function(){t.submitModal()},afterHide:function(){t.modal.destroy()}})}},{key:"submitModal",value:function(){var t=this.modal.getElements().modal.box.buttons.confirm;if(t.addClass("uap-btn--loading").prop("disabled",!0),this.validateForm().isValid){var e,n=this.asyncModeField.getValue(),i=this.delayNumberField.getValue(),o=this.delayUnitField.getValue(),r=this.scheduleTimeField.getValue(),a=this.scheduleDateField.getValue(),s=this.customTokenField.getValue();"delay"==n&&(e=this.delaySentence(this.delayNumberField.getValue(),this.delayUnitField.getValue())),"schedule"==n&&(e=this.scheduleSentence(this.scheduleDateField.getValue(),this.scheduleTimeField.getValue())),"custom"==n&&(e="Custom"),this.saveSchedule(n,i,o,r,a,e,s)}else t.removeClass("uap-btn--loading").prop("disabled",!1)}},{key:"delaySeconds",value:function(){var t,e=this.delayUnitField.getValue(),n=this.delayNumberField.getValue();switch(e){case"seconds":default:t=1;break;case"minutes":t=60;break;case"hours":t=3600;break;case"days":t=86400;break;case"years":t=31536e3}return n*t}},{key:"delaySentence",value:function(t,e){return 1==t&&(e=e.slice(0,-1)),"".concat(t," ").concat({second:_uo.utility.escHTML(wp.i18n.__("second","uncanny-automator")),seconds:_uo.utility.escHTML(wp.i18n.__("Seconds","uncanny-automator")),minute:_uo.utility.escHTML(wp.i18n.__("minute","uncanny-automator")),minutes:_uo.utility.escHTML(wp.i18n.__("Minutes","uncanny-automator")),hour:_uo.utility.escHTML(wp.i18n.__("hour","uncanny-automator")),hours:_uo.utility.escHTML(wp.i18n.__("Hours","uncanny-automator")),day:_uo.utility.escHTML(wp.i18n.__("day","uncanny-automator")),days:_uo.utility.escHTML(wp.i18n.__("Days","uncanny-automator")),year:_uo.utility.escHTML(wp.i18n.__("year","uncanny-automator")),years:_uo.utility.escHTML(wp.i18n.__("Years","uncanny-automator"))}[e].toLowerCase())}},{key:"scheduleSeconds",value:function(){return Date.parse("".concat(this.scheduleDateField.getValue()," ").concat(this.scheduleTimeField.getValue()))}},{key:"scheduleSentence",value:function(t,e){return"".concat(t," @ ").concat(e)}},{key:"saveSchedule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;UncannyAutomator._core.recipe.item.actionSchedule.setSchedule(this.itemId,{asyncMode:t,delayNumber:n,delayUnit:i,scheduleTime:o,scheduleDate:r,scheduleSentence:a,customValue:s}).then((function(t){e.modal.destroy(),UncannyAutomator._cache.tokens=[],new h.A})).catch((function(t){e.modal.destroy(),new h.A}))}},{key:"removeSchedule",value:function(){UncannyAutomator._core.recipe.item.actionSchedule.removeSchedule(this.itemId,this.fabricatedMeta.async_mode).then((function(t){UncannyAutomator._cache.tokens=[],new h.A})).catch((function(t){new h.A}))}},{key:"createTimeZone",value:function(){var t=s()("<a/>",{href:UncannyAutomator._site.links.wp_timezone,target:"_blank"}),e=s()("<uo-icon/>",{id:"question-circle"}),n=s()("<span/>",{class:"schedule-fields__description"}).html("<strong>".concat(_uo.utility.escHTML(wp.i18n.__("Timezone","uncanny-automator")),"</strong>: ").concat(UncannyAutomator._site.timezone));return t.append(e),n.append(t),n}},{key:"createAsyncModeHTML",value:function(){return this.asyncModeField=new p.A("radio",{itemType:"action",optionCode:"schedule_type",name:"schedule-type",isRequired:!0,currentValue:this.asyncMode,options:[{value:"delay",text:_uo.utility.escHTML(wp.i18n.__("Delay","uncanny-automator"))},{value:"schedule",text:_uo.utility.escHTML(wp.i18n.__("Schedule","uncanny-automator"))},{value:"custom",text:_uo.utility.escHTML(wp.i18n.__("Use a token/custom value","uncanny-automator"))}]}),this.asyncModeField.createFormElement().addClass("schedule-type-radio")}},{key:"attachModeChangeEvent",value:function(){var t=this;this.asyncModeHTML.on("automator:field:change",(function(){var e,n=t.asyncModeField.getValue();e="schedule"==n?_uo.utility.escHTML(wp.i18n.__("Schedule","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("Set delay","uncanny-automator")),t.hasSchedule()||("schedule"==n?t.scheduleNoticeHTML.removeClass("hidden"):t.scheduleNoticeHTML.addClass("hidden")),t.modal.elements.modal.box.buttons.confirm.text(e)}))}},{key:"createScheduleOptions",value:function(){var t=s()("<div/>",{class:"schedule-options"}),e=s()("<span/>",{class:"async-mode__description"}).text(_uo.utility.escHTML(wp.i18n.__("Run this action at a specific date and time","uncanny-automator"))),n=s()("<div/>",{class:"schedule-fields"});return this.hasSchedule()||(this.scheduleNoticeHTML=s()("<div/>",{class:"schedule-notice hidden"}),this.scheduleNoticeHTML.text(_uo.utility.escHTML(wp.i18n.__("Note: If the action is triggered after the specified date, this action will run immediately.","uncanny-automator"))),this.scheduleNoticeHTML.addClass("schedule-notice__yellow")),t.append(e),n.append(this.createScheduleDateHTML()),n.append(this.createScheduleTimeHTML()),t.append(n),t.append(this.createTimeZone()),t.append(this.scheduleNoticeHTML),t}},{key:"createCustomOptions",value:function(){var t=document.createElement("div");t.classList.add("uap-schedule-dialog-custom-options"),t.innerHTML='\n\t\t\t<div class="async-mode__description">\n\t\t\t\t'.concat(_uo.utility.escHTML(wp.i18n.__("Run the action after a custom delay or at a custom date and time","uncanny-automator")),'\n\t\t\t</div>\n\n\t\t\t<div class="uap-schedule-dialog-custom-options__fields"></div>\n\t\t'),this.customTokenField=new p.A("text",{itemType:"action",itemId:this.itemId,optionCode:"delay-use-custom-value",description:sprintf(_uo.utility.escHTML(wp.i18n.__('Use tokens and/or text to enter any supported format. Examples: "Friday at 1pm", "November 9", "2 hours", Unix timestamps %1$s.',"uncanny-automator")),'<a href="https://automatorplugin.com/knowledge-base/how-to-use-custom-scheduling-in-wordpress-automations" target="_blank">'.concat(_uo.utility.escHTML(wp.i18n.__("and more","uncanny-automator")),' <uo-icon id="external-link"></uo-icon></a>')),isRequired:!0,supportsTokens:!0,currentValue:this.fabricatedMeta.async_custom?this.fabricatedMeta.async_custom:""});var e=this.customTokenField.createFormElement();return t.querySelector(".uap-schedule-dialog-custom-options__fields").append(e[0]),this.customTokenField.initTokenSelector(),this.customTokenField.initCodeMirror(),t}},{key:"createDelayOptions",value:function(){var t=s()("<div/>",{class:"delay-options"}),e=s()("<span/>",{class:"async-mode__description"}).text(_uo.utility.escHTML(wp.i18n.__("Delay the execution of this action for","uncanny-automator"))),n=s()("<div/>",{class:"delay-fields"});this.delayNumberHTML=this.createDelayNumberHTML(),this.delayUnitHTML=this.createDelayUnitHTML();var i=s()("<span/>",{class:"delay-fields__description"}).text(_uo.utility.escHTML(wp.i18n.__("after completion of the triggers","uncanny-automator")));return n.append(this.delayNumberHTML),n.append(this.delayUnitHTML),n.append(i),t.append(e),t.append(n),t}},{key:"createDelayNumberHTML",value:function(){this.delayNumberField=new p.A("int",{itemType:"action",optionCode:"delay-number",isRequired:!0,placeholder:"10",supportsTokens:!1,currentValue:this.fabricatedMeta.async_delay_number?this.fabricatedMeta.async_delay_number:""},!0,this.validateDelayNumber);var t=this.delayNumberField.createFormElement();return t.addClass("delay-fields__number"),this.delayNumberField.initCodeMirror(),t}},{key:"createDelayUnitHTML",value:function(){return this.delayUnitField=new p.A("select",{itemType:"action",optionCode:"delay-unit",currentValue:this.fabricatedMeta.async_delay_unit?this.fabricatedMeta.async_delay_unit:"minutes",customClass:"hide-this",supportsCustomValue:!1,optionsShowID:!1,isRequired:!0,options:[{value:"seconds",text:_uo.utility.escHTML(wp.i18n.__("Seconds","uncanny-automator"))},{value:"minutes",text:_uo.utility.escHTML(wp.i18n.__("Minutes","uncanny-automator"))},{value:"hours",text:_uo.utility.escHTML(wp.i18n.__("Hours","uncanny-automator"))},{value:"days",text:_uo.utility.escHTML(wp.i18n.__("Days","uncanny-automator"))},{value:"years",text:_uo.utility.escHTML(wp.i18n.__("Years","uncanny-automator"))}]}),this.delayUnitField.createFormElement().addClass("delay-fields__unit")}},{key:"createScheduleDateHTML",value:function(){this.scheduleDateField=new p.A("date",{itemType:"action",optionCode:"schedule-date",isRequired:!0,supportsTokens:!1,currentValue:this.fabricatedMeta.async_schedule_date?this.fabricatedMeta.async_schedule_date:"",placeholder:_uo.utility.escHTML(wp.i18n.__("Select date","uncanny-automator"))});var t=this.scheduleDateField.createFormElement();return t.addClass("schedule-fields__date"),this.scheduleDateField.initFlatpickr(),this.scheduleDateField.initCodeMirror(),t}},{key:"createScheduleTimeHTML",value:function(){this.scheduleTimeField=new p.A("time",{itemType:"action",optionCode:"schedule-time",isRequired:!0,supportsTokens:!1,minuteIncrement:1,currentValue:this.fabricatedMeta.async_schedule_time?this.fabricatedMeta.async_schedule_time:"",placeholder:_uo.utility.escHTML(wp.i18n.__("Select time","uncanny-automator"))});var t=this.scheduleTimeField.createFormElement();return t.addClass("schedule-fields__time"),this.scheduleTimeField.initFlatpickr(),this.scheduleTimeField.initCodeMirror(),t}},{key:"validateForm",value:function(){var t;switch(this.asyncModeField.getValue()){case"schedule":t=this.validateScheduleFields();break;case"delay":t=this.delayNumberField.validate();break;case"custom":t=this.customTokenField.validate();break;default:t={isValid:!1,message:_uo.utility.escHTML(wp.i18n.__("Unsupported value.","uncanny-automator"))}}return t.isValid?{isValid:!0}:t}},{key:"validateScheduleFields",value:function(){var t=this.scheduleDateField.validate();return t.isValid&&(t=this.scheduleTimeField.validate()),t}},{key:"validateDelayNumber",value:function(t,e){return t<1?{isValid:!1,message:_uo.utility.escHTML(wp.i18n.__("Please use a positive number.","uncanny-automator"))}:{isValid:!0}}},{key:"shouldAddButton",value:function(){return"action"==this.itemType&&!this.isItemMissing}},{key:"isItemMissing",get:function(){return!_uo.utility.isDefined(this.item)||(_uo.utility.isDefined(this.item.isMissing)?this.item.isMissing:!_uo.utility.isDefined(UncannyAutomator._core.directory.items.getItem(this.integrationID,this.itemType,this.itemCode)))}},{key:"handleCreateUpsellDialog",value:function(){var t=document.createElement("div");document.body.append(t),(0,l.XX)((0,l.qy)(c||(c=(0,i.A)(["\n\t\t\t\t<uo-dialog\n\t\t\t\t\theading=",'\n\t\t\t\t\tsize="large"\n\t\t\t\t\tfeatured-image=','\n\t\t\t\t\tfeatured-image-position="center top"\n\t\t\t\t\topen\n\t\t\t\t>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t.content=',">\n\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<p>\n\t\t\t\t\t\t",'\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=',">\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\n                    <p>\n\t\t\t\t\t\t",'\n\t\t\t\t\t</p>\n\n                    <ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\n                        <li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\tslot="primary-action"\n\n\t\t\t\t\t\thref=','\n\t\t\t\t\t\ttarget="_blank"\n\n\t\t\t\t\t\tdialog-action="close"\n\t\t\t\t\t>\n\t\t\t\t\t\t','\n\t\t\t\t\t</uo-button>\n\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\tslot="secondary-action"\n\t\t\t\t\t\tdialog-action="close"\n\t\t\t\t\t\tcolor="secondary"\n\t\t\t\t\t>\n\t\t\t\t\t\t',"\n\t\t\t\t\t</uo-button>\n\t\t\t\t</uo-dialog>\n\t\t\t"])),_uo.utility.escHTML(wp.i18n.__("Delay & schedule","uncanny-automator")),u,_uo.utility.escHTML(wp.i18n.__("Add **delayed** or **scheduled actions** to your recipes. With the ability to delay or schedule actions, you can run an action a specific number of **minutes, hours, or days after a user completes the recipe's triggers!**","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Here are a few examples of what is possible with delayed and scheduled actions:","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("When a new user registers, **send them an onboarding drip campaign over a period of days or weeks** to help them get up to speed with minimal support","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("When a user purchases a product, **send them an email a week later to ask them to leave a review**.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("When a user registers for an event, **send them a reminder before the event**.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("When a user enrolls in a course or event, **send them supporting materials at regular intervals** during the course or before or after the event.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("You can also use the scheduled recipe feature to run recipes at regular intervals to do things like:","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Send **email reminders** to users that haven't completed a key activity.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("**Log data for a report** in Google Sheets, AirTable or Notion.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Perform **scheduled maintenance** on a site.","uncanny-automator")),this.upsaleURL,_uo.utility.escHTML(wp.i18n.__("Get Delays","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator"))),t)}},{key:"upsaleURL",get:function(){return _uo.utility.addParametersToURL(_uo.utility.addParametersUTM("https://automatorplugin.com/pricing/",{medium:"recipe_creator",content:"add_delay_button"}),{uap_bpro_context:"delay"})}}]),t}()},2696:(t,e,n)=>{"use strict";n.d(e,{A:()=>h});var i=n(296),o=n(3029),r=n(2901),a=n(8514),s=n(4727),u=n(2743),c=n(6393),l=n(8064),d=n(1380);function p(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var f=new WeakSet,h=function(){function t(e){var n,i,r=e.conditionsGroupId;(0,o.A)(this,t),function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(n=this,i=f),i.add(n),this.conditionsGroupID=r,_uo.utility.isDefined(this.conditionsGroup)&&p(f,this,m).call(this)}return(0,r.A)(t,[{key:"conditionsGroup",get:function(){return(0,s.iW)({conditionsGroupId:this.conditionsGroupID})}},{key:"$addConditionButton",get:function(){return this.$block.querySelector(".uap-conditions-block-logic-add-condition-btn")}},{key:"$conditionPillsWrapper",get:function(){return this.$block.querySelector(".uap-conditions-block-logic-content")}},{key:"$logicHeader",get:function(){return this.$block.querySelector(".uap-conditions-block-logic-header")}},{key:"$logicHeaderModeWrapper",get:function(){return this.$block.querySelector(".uap-conditions-block-logic-header-mode")}},{key:"$logicHeaderDropdownWrapper",get:function(){return this.$block.querySelector(".uap-conditions-block-logic-header-dropdown")}},{key:"$logicOperatorSelect",get:function(){return this.$block.querySelector(".uap-conditions-block-logic-header uo-select")}},{key:"$logicFooter",get:function(){return this.$block.querySelector(".uap-conditions-block-logic-footer")}},{key:"$actionsWrapper",get:function(){return this.$block.querySelector(".uap-conditions-block-actions-list")}},{key:"$actionsWrappers",get:function(){return{instant:this.$actionsInstantWrapper,delayed:this.$actionsDelayedWrapper,delayCustom:this.$actionsDelayCustomWrapper,scheduled:this.$actionsScheduledWrapper}}},{key:"$actionsInstantWrapper",get:function(){return this.$block.querySelector(".uap-conditions-block-items--instant")}},{key:"$actionsDelayedWrapper",get:function(){return this.$block.querySelector(".uap-conditions-block-items--delayed")}},{key:"$actionsDelayCustomWrapper",get:function(){return this.$block.querySelector(".uap-conditions-block-items--delay-custom")}},{key:"$actionsScheduledWrapper",get:function(){return this.$block.querySelector(".uap-conditions-block-items--scheduled")}},{key:"$actionsFooterWrapper",get:function(){return this.$block.querySelector(".uap-conditions-block-actions-footer")}}]),t}();function m(){var t=document.createElement("div");t.classList.add("uap-conditions-block"),(0,u.h$)({conditionsGroupID:this.conditionsGroupID})&&t.classList.add("uap-conditions-block--sortable"),t.setAttribute("data-id",this.conditionsGroupID),this.$block=t,t.insertAdjacentHTML("beforeEnd",'\n\t\t\t<div class="uap-conditions-block-logic">\n\t\t\t\t<div class="uap-conditions-block-logic-header">\n\t\t\t\t\t<div class="uap-conditions-block-logic-header-mode" dir="auto"></div>\n\t\t\t\t\t<div class="uap-conditions-block-logic-header-dropdown"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="uap-conditions-block-logic-content"></div>\n\t\t\t\t<div class="uap-conditions-block-logic-footer">\n\t\t\t\t\t<ua-builder-conditions-add-button \n\t\t\t\t\t\tsize="extra-small" \n\t\t\t\t\t\tcondition-group-id="'.concat(this.conditionsGroupID,'"\n\t\t\t\t\t\tparent-id="').concat(this.conditionsGroup.parentID,'"\n\t\t\t\t\t>\n\t\t\t\t\t\t').concat(_uo.utility.escHTML(wp.i18n.__("Add condition","uncanny-automator")),'\n\t\t\t\t\t</ua-builder-conditions-add-button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="uap-conditions-block-actions">\n\t\t\t\t<div class="uap-conditions-block-actions-list" data-id="').concat(this.conditionsGroupID,'">\n\t\t\t\t\t<div class="uap-conditions-block-items uap-conditions-block-items--instant"></div>\n\t\t\t\t\t<div class="uap-conditions-block-items uap-conditions-block-items--delayed"></div>\n\t\t\t\t\t<div class="uap-conditions-block-items uap-conditions-block-items--delay-custom"></div>\n\t\t\t\t\t<div class="uap-conditions-block-items uap-conditions-block-items--scheduled"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="uap-conditions-block-actions-footer"></div>\n\t\t\t</div>\n\t\t')),UncannyAutomatorBackend._site.automator.is_pro_active||(this.$block.classList.add("uap-conditions-block--cannot-manage"),this.$block.setAttribute("disabled","")),p(f,this,g).call(this),p(f,this,_).call(this),p(f,this,k).call(this),p(f,this,T).call(this),p(f,this,v).call(this),p(f,this,b).call(this),p(f,this,E).call(this),p(f,this,y).call(this),p(f,this,A).call(this),p(f,this,D).call(this),this.$block.$actionsWrapper=this.$actionsWrapper}function y(){var t,e=this;if(this.conditionsGroup.hasActions)return(0,a.G6)("item",{id:this.conditionsGroup.actionWithLowestPriority}).item.get(0).insertAdjacentElement("beforeBegin",this.$block),!0;if(!_uo.utility.isEmpty(this.conditionsGroup.priority)&&((0,c.k)({type:"instant"}).every((function(n){return!(n.menuOrder>e.conditionsGroup.priority&&(t=n.id,1))})),!_uo.utility.isEmpty(t))){var n=(0,a.G6)("item",{id:t}).item.get(0);if(UncannyAutomator.recipe.items[t].hasConditions)try{n.closest(".uap-conditions-block").insertAdjacentElement("beforeBegin",this.$block)}catch(t){UncannyAutomator._site.has_debug_enabled&&(console.error(t),console.error("".concat(this.conditionsGroup.id,": Couldn't set the conditions block in the correct position."))),n.insertAdjacentElement("beforeBegin",this.$block)}else n.insertAdjacentElement("beforeBegin",this.$block);return!0}if(this.conditionsGroup.parentID==UncannyAutomator._recipe.recipe_id)(0,a.G6)("itemsContainer",{type:"action",actionContext:"instant"}).insertAdjacentElement("beforeEnd",this.$block);else{var i=document.querySelector('uap-builder-item-loop[loop-id="'.concat(this.conditionsGroup.parentID,'"] .uap-builder-item-loop-items--instant'));i&&i.insertAdjacentElement("beforeEnd",this.$block)}}function g(){if(this.conditionsGroup.numberOfConditions<=1)this.$logicHeaderModeWrapper.insertAdjacentHTML("beforeEnd","\n\t\t\t\t".concat(_uo.utility.escHTML(wp.i18n._x("Run if","Conditions - Logic sentence","uncanny-automator")),"\n\t\t\t"));else if(this.conditionsGroup.numberOfConditions>1){var t=this.conditionsGroup.mode,e=_uo.utility.escHTML(wp.i18n._x("Run if %1$s {{of the following conditions are met}}","Conditions - Logic sentence","uncanny-automator")).replaceAll(/\{\{(.*)\}\}/gm,(function(t,e){return"<span>".concat(e,"</span>")})),n=_uo.utility.sprintf(e,'\n\t\t\t\t<uo-select>\n\t\t\t\t\t<uo-select-option\n\t\t\t\t\t\tvalue="any"\n\t\t\t\t\t\ttext="'.concat(_uo.utility.escHTML(wp.i18n._x("Any","Conditions - Logic sentence","uncanny-automator")),'"\n\t\t\t\t\t\t').concat("any"==t?"selected":"",'\n\t\t\t\t\t></uo-select-option>\n\n\t\t\t\t\t<uo-select-option\n\t\t\t\t\t\tvalue="all"\n\t\t\t\t\t\ttext="').concat(_uo.utility.escHTML(wp.i18n._x("All","Conditions - Logic sentence","uncanny-automator")),'"\n\t\t\t\t\t\t').concat("all"==t?"selected":"","\n\t\t\t\t\t></uo-select-option>\n\t\t\t\t</uo-select>\n\t\t\t"));this.$logicHeaderModeWrapper.insertAdjacentHTML("beforeEnd",n),p(f,this,w).call(this)}}function _(){var t=this;this.$logicHeaderDropdownWrapper.innerHTML='\n\t\t\t<uo-dropdown align="right">\n\t\t\t\t<uo-icon id="ellipsis" slot="button"></uo-icon>\n\n\t\t\t\t<ul>\n\t\t\t\t\t<li data-action="delete">\n\t\t\t\t\t\t'.concat(_uo.utility.escHTML(wp.i18n.__("Delete","uncanny-automator")),"\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</uo-dropdown>\n\t\t"),this.$logicHeaderDropdownWrapper.querySelector("uo-dropdown").addEventListener("automator/dropdown/item-clicked",(function(e){"delete"==e.detail.item.dataset.action&&(e.detail.item.setAttribute("loading",""),t.conditionsGroup.destroy(),(0,s.jd)({onSuccess:function(){new d.A}}))}))}function v(){if(!UncannyAutomatorBackend._site.automator.is_pro_active){var t=1==this.conditionsGroup.numberOfActions?_uo.utility.escHTML(wp.i18n.__("This action won't run","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("These actions won't run","uncanny-automator")),e=1==this.conditionsGroup.numberOfActions?_uo.utility.escHTML(wp.i18n.__("Conditions/Filters are a feature of %1$s. Please re-activate Uncanny Automator Pro to enable this action.","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("Conditions/Filters are a feature of %1$s. Please re-activate Uncanny Automator Pro to enable these actions.","uncanny-automator"));this.$actionsWrapper.insertAdjacentHTML("beforeBegin",'\n\t\t\t\t<div class="uap-conditions-block-warning">\n\t\t\t\t\t<uo-alert \n\t\t\t\t\t\ttype="warning" \n\t\t\t\t\t\theading="'.concat(t,'" \n\t\t\t\t\t\tno-radius\n\t\t\t\t\t>\n\t\t\t\t\t\t').concat(_uo.utility.sprintf(e,"<strong>Uncanny Automator Pro</strong>"),"\n\t\t\t\t\t</uo-alert>\n\t\t\t\t</div>\n\t\t\t"))}}function b(){if(this.conditionsGroup.hasInstantActions&&(this.conditionsGroup.hasDelayedActions||this.conditionsGroup.hasScheduledActions)){var t=document.createElement("uo-alert");t.classList.add("uap-conditions-block-actions-order-notice"),t.setAttribute("size","small"),t.setAttribute("type","info"),t.setAttribute("no-radius",""),t.innerText=_uo.utility.escHTML(wp.i18n.__("Other actions in this recipe may run before the actions below.","uncanny-automator")),this.$actionsWrappers.instant.insertAdjacentElement("afterEnd",t)}}function w(){var t=this;this.$logicOperatorSelect.addEventListener("change",(function(){var e=t.$logicOperatorSelect.value;t.conditionsGroup.mode=e,(0,s.jd)({})}))}function A(){var t=this;if(this.conditionsGroup.hasActions){var e={instant:(0,c.k)({type:"instant",includeOnly:this.conditionsGroup.actions}),delayed:(0,c.k)({type:"delayed",includeOnly:this.conditionsGroup.actions}),delayCustom:(0,c.k)({type:"delay-custom",includeOnly:this.conditionsGroup.actions}),scheduled:(0,c.k)({type:"scheduled",includeOnly:this.conditionsGroup.actions})};Object.entries(e).forEach((function(e){var n=(0,i.A)(e,2),o=n[0],r=n[1],s=t.$actionsWrappers[o];r.forEach((function(t){var e=(0,a.G6)("item",{id:t.id}).item.get(0);s.appendChild(e)}))}))}}function k(){var t=this;this.conditionsGroup.hasConditions?Object.entries(this.conditionsGroup.conditions).forEach((function(e){var n=(0,i.A)(e,2),o=n[0];n[1],t.$conditionPillsWrapper.insertAdjacentHTML("beforeEnd",'\n\t\t\t\t\t<ua-builder-conditions-pill\n\t\t\t\t\t\tcondition-group-id="'.concat(t.conditionsGroupID,'"\n\t\t\t\t\t\tcondition-id="').concat(o,'"\n\t\t\t\t\t></ua-builder-conditions-pill>\n\t\t\t\t'))})):this.$conditionPillsWrapper.insertAdjacentHTML("beforeEnd",'\n\t\t\t\t<span class="uap-conditions-block-logic-content-empty">\n\t\t\t\t\t'.concat(_uo.utility.escHTML(wp.i18n.__("No conditions","uncanny-automator")),"\n\t\t\t\t</span>\n\t\t\t"))}function T(){if((0,u.h$)({conditionsGroupID:this.conditionsGroupID})){var t=document.createElement("div");t.classList.add("uap-item-drag-handle"),t.innerHTML='<uo-icon id="bars"></uo-icon>',this.$block.insertAdjacentElement("afterBegin",t)}}function E(){var t=this;this.$actionsFooterWrapper.insertAdjacentHTML("beforeEnd",'\n\t\t\t<uo-button\n\t\t\t\tcolor="secondary"\n\t\t\t\tsize="small"\n\t\t\t>\n\t\t\t\t'.concat(_uo.utility.escHTML(wp.i18n.__("Add action","uncanny-automator")),"\n\t\t\t</uo-button>\n\t\t")),this.$actionsFooterWrapper.querySelector("uo-button").addEventListener("click",(function(){new l.A("action",null,{conditionsGroupID:t.conditionsGroupID,parentID:t.conditionsGroup.parentID})}))}function D(){var t=this;this.$block.addEventListener("automator/conditions-group/remove-action",(function(e){t.conditionsGroup.hasActions||_uo.utility.confirm({closeOnConfirm:!1,heading:_uo.utility.escHTML(wp.i18n.__("Remove empty conditions block?","uncanny-automator")),content:"",cancelButtonLabel:_uo.utility.escHTML(wp.i18n.__("Keep","uncanny-automator")),confirmButtonLabel:_uo.utility.escHTML(wp.i18n.__("Remove","uncanny-automator"))}).then((function(e){(e=e.value).querySelector(".uap-confirm-btn-primary").setAttribute("loading",""),t.conditionsGroup.destroy(),(0,s.jd)({onSuccess:function(){e.close(),new d.A}})}))}))}},8650:(t,e,n)=>{"use strict";n.d(e,{A:()=>v});var i=n(296),o=n(3029),r=n(2901),a=n(5197),s=n(4727),u=function(){function t(e){var n=e.id;(0,o.A)(this,t),this.integrationCode="",this.conditionCode="",this.fields={},this.backup={},this.conditionsGroup=void 0,this.id=_uo.utility.isEmpty(n)?_uo.utility.getUniqueID():n}return(0,r.A)(t,[{key:"isMissing",get:function(){return!_uo.utility.isDefined(this.conditionPostData)}},{key:"formattedForMeta",get:function(){return{id:this.id,integration:this.integrationCode,condition:this.conditionCode,fields:this.fields,backup:this.isMissing?this.backup:{nameDynamic:this.conditionPostData.dynamic_name,titleHTML:_uo.utility.htmlEntities.encode(this.$dynamicSentence.outerHTML),integrationName:this.integration.name}}}},{key:"$dynamicSentence",get:function(){return(0,a.G)({dynamicSentence:this.isMissing?this.backup.nameDynamic:this.conditionPostData.dynamic_name,fields:this.fields,itemID:this.conditionsGroup.actionWithLowestPriority||this.conditionsGroup.id})}},{key:"conditionPostData",get:function(){return(0,s.YQ)({integrationCode:this.integrationCode,conditionCode:this.conditionCode})}},{key:"integration",get:function(){return UncannyAutomator._core.directory.integrations.getIntegration(this.integrationCode)}}]),t}(),c=n(2152),l=n(2743);function d(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function p(t,e,n){return t.set(h(t,e),n),n}function f(t,e){return t.get(h(t,e))}function h(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var m=new WeakMap,y=new WeakMap,g=new WeakMap,_=new WeakMap,v=function(){function t(e){var n=e.id,i=e.parentID;(0,o.A)(this,t),d(this,m,"any"),d(this,y,[]),d(this,g,{}),d(this,_,void 0),this.id=_uo.utility.isEmpty(n)?_uo.utility.getUniqueID():n,this.parentID=_uo.utility.isEmpty(i)?UncannyAutomator._recipe.recipe_id:i,UncannyAutomator.recipe.conditions[this.id]=this}return(0,r.A)(t,[{key:"addCondition",value:function(t){var e=t.conditionID,n=t.integrationCode,i=t.conditionCode,o=t.fields,r=t.backup,a=void 0===r?{}:r,s=new u({id:e});return s.integrationCode=n,s.conditionCode=i,s.fields=o,s.backup=a,s.conditionsGroup=this,f(g,this)[s.id]=s,this.sendEvent("automator/conditions-group/add-condition",{detail:{condition:s}}),s}},{key:"removeCondition",value:function(t){var e=t.conditionID;_uo.utility.isDefined(this.conditions[e])&&(delete f(g,this)[e],this.sendEvent("automator/conditions-group/delete-condition",{detail:{conditionID:e}}))}},{key:"editCondition",value:function(t){var e=t.conditionId;new c.A({conditionsGroupId:this.id,conditionId:e,comingFrom:"edit-condition-pill"})}},{key:"addAction",value:function(t){var e=this.actions;e.includes(t)||e.push(t),this.actions=e,this.sendEvent("automator/conditions-group/add-action",{detail:{actionID:t}})}},{key:"removeAction",value:function(t){this.hasAction(t)&&(this.actions=this.actions.filter((function(e){return e!=t})),this.sendEvent("automator/conditions-group/remove-action",{detail:{actionID:t}}))}},{key:"sendEvent",value:function(t,e){this.$currentConditionsBlock&&this.$currentConditionsBlock.dispatchEvent(new CustomEvent(t,e))}},{key:"$currentConditionsBlock",get:function(){return(0,s.UO)(this.id)}},{key:"mode",get:function(){return f(m,this)},set:function(t){["all","any"].includes(t)?p(m,this,t):p(m,this,"any")}},{key:"actions",get:function(){return p(y,this,f(y,this).filter((function(t){return _uo.utility.isDefined(UncannyAutomator.recipe.items[t])}))),f(y,this)},set:function(t){var e=this;p(y,this,[]);try{t.forEach((function(t){t=parseInt(t),isNaN(t)||_uo.utility.isDefined(UncannyAutomator.recipe.items[t])&&f(y,e).push(t)}))}catch(t){UncannyAutomator._site.has_debug_enabled&&console.error("ConditionsGroup: Couldn't set the actions. Make sure the array is valid.")}}},{key:"conditions",get:function(){return f(g,this)},set:function(t){var e=this;p(g,this,{});try{t.forEach((function(t){e.addCondition({conditionID:t.id,integrationCode:t.integration,conditionCode:t.condition,fields:t.fields,backup:t.backup})}))}catch(t){UncannyAutomator._site.has_debug_enabled&&(console.error("ConditionsGroup: Couldn't set the conditions. Make sure the array is valid."),console.error(t))}}},{key:"formattedForMeta",get:function(){var t={};return t={id:this.id,priority:this.priority,actions:this.actions,mode:this.mode,parent_id:this.parentID,conditions:[]},Object.entries(this.conditions).forEach((function(e){var n=(0,i.A)(e,2),o=(n[0],n[1]);t.conditions.push(o.formattedForMeta)})),t}},{key:"priority",get:function(){return this.hasActions?(p(_,this,UncannyAutomator.recipe.items[this.actionWithLowestPriority].menuOrder),f(_,this)):f(_,this)},set:function(t){p(_,this,t)}},{key:"actionWithLowestPriority",get:function(){var t,e;return(this.hasInstantActions?this.actionsByType.instant:this.actions).forEach((function(n){var i=UncannyAutomator.recipe.items[n].menuOrder;if(_uo.utility.isEmpty(t)||i<t)return t=i,void(e=n)})),e}},{key:"hasInstantActions",get:function(){return this.actionsByType.instant.length>0}},{key:"hasDelayedActions",get:function(){return this.actionsByType.delayed.length>0}},{key:"hasScheduledActions",get:function(){return this.actionsByType.scheduled.length>0}},{key:"actionsByType",get:function(){var t={instant:[],delayed:[],delayedCustom:[],scheduled:[]};return this.actions.forEach((function(e){var n=UncannyAutomator.recipe.items[e];n.isScheduled?t.scheduled.push(e):n.isDelayed?t.delayed.push(e):n.isDelayedCustom?t.delayedCustom.push(e):t.instant.push(e)})),t}},{key:"isSortable",get:function(){return(0,l.h$)({conditionsGroupID:this.id})}},{key:"hasAction",value:function(t){return this.actions.includes(t)}},{key:"hasCondition",value:function(t){return _uo.utility.isDefined(this.conditions[t])}},{key:"getCondition",value:function(t){return this.conditions[t]}},{key:"destroy",value:function(){delete UncannyAutomator.recipe.conditions[this.id]}},{key:"hasActions",get:function(){return!_uo.utility.isEmpty(this.actions)}},{key:"hasConditions",get:function(){return!_uo.utility.isEmpty(this.conditions)}},{key:"numberOfActions",get:function(){return Object.keys(this.actions).length}},{key:"numberOfConditions",get:function(){return Object.keys(this.conditions).length}}]),t}()},2152:(t,e,n)=>{"use strict";n.d(e,{A:()=>U});var i=n(467),o=n(7528),r=n(3029),a=n(2901),s=n(4756),u=n.n(s),c=n(127),l=n(2618),d=n(6214),p=n(7610),f=n(6752),h=n(8504),m=n(6201);class y{constructor(t){this.Y=t}disconnect(){this.Y=void 0}reconnect(t){this.Y=t}deref(){return this.Y}}class g{constructor(){this.Z=void 0,this.q=void 0}get(){return this.Z}pause(){this.Z??=new Promise((t=>this.q=t))}resume(){this.q?.(),this.Z=this.q=void 0}}var _=n(7804);const v=t=>!(0,h.sO)(t)&&"function"==typeof t.then,b=1073741823;class w extends m.Kq{constructor(){super(...arguments),this._$Cwt=b,this._$Cbt=[],this._$CK=new y(this),this._$CX=new g}render(...t){return t.find((t=>!v(t)))??f.c0}update(t,e){const n=this._$Cbt;let i=n.length;this._$Cbt=e;const o=this._$CK,r=this._$CX;this.isConnected||this.disconnected();for(let t=0;t<e.length&&!(t>this._$Cwt);t++){const a=e[t];if(!v(a))return this._$Cwt=t,a;t<i&&a===n[t]||(this._$Cwt=b,i=0,Promise.resolve(a).then((async t=>{for(;r.get();)await r.get();const e=o.deref();if(void 0!==e){const n=e._$Cbt.indexOf(a);n>-1&&n<e._$Cwt&&(e._$Cwt=n,e.setValue(t))}})))}return f.c0}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}}const A=(0,_.u$)(w);var k,T,E,D,M,C,x=n(4727),L=n(5197),S=n(1380);function I(t,e){return t.get(O(t,e))}function O(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var j=new WeakMap,U=function(){function t(e){var n,i,o,a=e.conditionsGroupId,s=e.integrationCode,u=e.conditionCode,c=e.conditionId,l=e.comingFrom;(0,r.A)(this,t),this.$dialog=(0,p._)(),this.$saveButton=(0,p._)(),o=void 0,function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(n=this,i=j),i.set(n,o);var d=(0,x.iW)({conditionsGroupId:a});_uo.utility.isEmpty(d)||(this.conditionsGroup=d,this.comingFrom=l,_uo.utility.isEmpty(c)?(this.integrationCode=s,this.conditionCode=u,this.condition=this.createCondition(),this.modalMode="create"):(this.condition=(0,x.cz)({conditionsGroupId:a,conditionId:c}),_uo.utility.isDefined(this.condition)&&(this.integrationCode=this.condition.integrationCode,this.conditionCode=this.condition.conditionCode),this.modalMode="edit"),_uo.utility.isEmpty(this.condition)||_uo.utility.isEmpty(this.conditionPostData)||this.render())}return(0,a.A)(t,[{key:"render",value:function(){var t=this;(0,l.XX)((0,l.qy)(k||(k=(0,o.A)(['\n\t\t\t\t<uo-dialog\n\t\t\t\t\theading="','"\n\t\t\t\t\tforce-manual-close\n\t\t\t\t\tsize="large"\n\t\t\t\t\topen\n\n\t\t\t\t\t','\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass="uap-conditions-options"\n\t\t\t\t\t\tdata-integration="','"\n\t\t\t\t\t\tdata-condition="','"\n\t\t\t\t\t>\n\t\t\t\t\t\t',"\n\n\t\t\t\t\t\t",'\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\tslot="primary-action"\n\n\t\t\t\t\t\t',"\n\n\t\t\t\t\t\t@click=","\n\t\t\t\t\t>\n\t\t\t\t\t\t",'\n\t\t\t\t\t</uo-button>\n\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\tslot="secondary-action"\n\t\t\t\t\t\tdialog-action="close"\n\t\t\t\t\t\tcolor="secondary"\n\n\t\t\t\t\t\t@click=',"\n\t\t\t\t\t>\n\t\t\t\t\t\t","\n\t\t\t\t\t</uo-button>\n\n\t\t\t\t</uo-dialog>\n\t\t\t"])),_uo.utility.escHTML(wp.i18n.__("Configure the rule","uncanny-automator")),(0,p.K)(this.$dialog),this.integrationCode,this.conditionCode,this._templateHeader,A(this._templateFields,this._templateFieldsPlaceholder),(0,p.K)(this.$saveButton),(function(){t.saveOptions()}),_uo.utility.escHTML(wp.i18n.__("Save filter","uncanny-automator")),(function(){t.maybeRemoveCondition(),t.maybeRemoveConditionsGroup()}),_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator"))),this.$wrapper,{host:this})}},{key:"_templateHeader",get:function(){return(0,l.qy)(T||(T=(0,o.A)(['\n\t\t\t<div class="uap-conditions-options-header">\n\t\t\t\t<div class="uap-conditions-options-header-integration">\n\t\t\t\t\t<ua-builder-integration-icon\n\t\t\t\t\t\tcode=','\n\t\t\t\t\t\tsize="xsmall"\n\t\t\t\t\t\tplain\n\t\t\t\t\t></ua-builder-integration-icon>\n\n\t\t\t\t\t<uo-chip size="small" filled>\n\t\t\t\t\t\t','\n\t\t\t\t\t</uo-chip>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="uap-conditions-options-header-sentence">\n\t\t\t\t\t',"\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),this.condition.integrationCode,UncannyAutomator._core.directory.integrations.getIntegration(this.condition.integrationCode).name,(0,L.G)({dynamicSentence:this.conditionPostData.dynamic_name,fields:this.condition.fields,itemID:this.conditionsGroup.actionWithLowestPriority}))}},{key:"_templateFields",get:function(){var t=this;return(0,i.A)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(0,x.Vm)({integrationCode:t.integrationCode,conditionCode:t.conditionCode})){e.next=4;break}return e.next=4,(0,x.Lw)({integrationCode:t.integrationCode,conditionCode:t.conditionCode});case 4:return e.abrupt("return",(0,l.qy)(E||(E=(0,o.A)(['\n\t\t\t\t\t<div class="uap uap-conditions-options-fields">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t"])),(0,d.u)(Object.values(t.fields),(function(t){return t.id}),(function(t){return(0,l.qy)(D||(D=(0,o.A)(["",""])),t.$wrapper.get(0))}))));case 7:return e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",(0,l.qy)(M||(M=(0,o.A)(["\n\t\t\t\t\t","\n\t\t\t\t"])),_uo.utility.escHTML(wp.i18n.__("Something went wrong","uncanny-automator"))));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},{key:"_templateFieldsPlaceholder",get:function(){return(0,l.qy)(C||(C=(0,o.A)(['\n\t\t\t<div class="uap-conditions-options-fields-placeholder">\n\n\t\t\t\t<div>\n\t\t\t\t\t<uo-placeholder width="100px"></uo-placeholder> <uo-placeholder width="30px"></uo-placeholder>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<uo-placeholder height="42px"></uo-placeholder>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<uo-placeholder width="40px"></uo-placeholder> <uo-placeholder width="100px"></uo-placeholder> <uo-placeholder width="50px"></uo-placeholder>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t'])))}},{key:"saveOptions",value:function(){var t=this;this.areFieldsValid()&&(this.condition.fields=this.getFieldsValues(),this.$saveButton.value.loading=!0,(0,x.jd)({onSuccess:function(e){t.$saveButton.value.loading=!1,e.success&&t.$dialog.value.close(),new S.A},onFail:function(){t.$saveButton.value.loading=!1}}))}},{key:"createCondition",value:function(){return this.conditionsGroup.addCondition({integrationCode:this.integrationCode,conditionCode:this.conditionCode,fields:{}})}},{key:"getFieldsValues",value:function(){var t={};return Object.values(this.fields).forEach((function(e){t[e.id]=e.value,"select"!=e.type&&"file"!=e.type||("automator_custom_value"===e.value?(t["".concat(e.id,"_custom")]=e.getSelectCustomValue(),t["".concat(e.id,"_readable")]=t["".concat(e.id,"_custom")]):t["".concat(e.id,"_readable")]=e.readableValue);try{e.attributes.showLabelInSentence&&(t["".concat(e.id,"_label")]=e.attributes.label)}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}})),t}},{key:"areFieldsValid",value:function(){var t=!0;return Object.values(this.fields).forEach((function(e){var n=e.validate();t=t&&n.isValid})),t}},{key:"maybeRemoveCondition",value:function(){"create"==this.modalMode&&this.conditionsGroup.removeCondition({conditionID:this.condition.id})}},{key:"maybeRemoveConditionsGroup",value:function(){"action-filter-button"==this.comingFrom&&(this.conditionsGroup.hasConditions||this.conditionsGroup.destroy())}},{key:"$wrapper",get:function(){return _uo.utility.isDefined(I(j,this))||(function(t,e,n){t.set(O(t,e),n)}(j,this,document.createElement("div")),document.body.append(I(j,this))),I(j,this)}},{key:"fields",get:function(){var t=this;return _uo.utility.isDefined(this._fields)?this._fields:_uo.utility.isDefined(this.conditionPostData.fields)?(this._fields={},this.conditionPostData.fields.forEach((function(e){var n=Object.assign({},e),i=UncannyAutomator._core.recipe.item.getItem("filter-condition",t.condition.id),o=UncannyAutomator._core.recipe.item.getItem("filter",t.conditionsGroup.id);i?(n.itemId=t.condition.id,n.parentID=t.conditionsGroup.id):o?(n.itemId=t.conditionsGroup.id,n.parentID=t.conditionsGroup.parentID):t.conditionsGroup.actionWithLowestPriority?(n.itemId=t.conditionsGroup.actionWithLowestPriority,n.parentID=UncannyAutomator._recipe.recipe_id):(n.itemId=t.conditionsGroup.parentID,n.parentID=UncannyAutomator._recipe.recipe_id),_uo.utility.isDefined(t.condition.fields[n.optionCode])&&(n.currentValue=t.condition.fields[n.optionCode],"automator_custom_value"===n.currentValue&&(n.customValue=t.condition.fields["".concat(n.optionCode,"_custom")]));var r=new c.A(n.fieldType,n);r.doAJAX(),r.initTokenSelector(),r.initFlatpickr(),r.initCodeMirror(),t._fields[n.optionCode]=r})),this._fields):null}},{key:"conditionPostData",get:function(){return(0,x.YQ)({integrationCode:this.integrationCode,conditionCode:this.conditionCode})}}]),t}()},4727:(t,e,n)=>{"use strict";n.d(e,{aS:()=>a,$Q:()=>s,Vm:()=>u,cD:()=>c,Lw:()=>l,cz:()=>d,YQ:()=>p,UO:()=>f,wm:()=>h,iW:()=>m,Er:()=>_,jU:()=>v,S9:()=>b,x$:()=>w,jd:()=>A});var i=n(8514),o=n(296),r=n(7079);const a=function(t){var e=t.integrationCode,n={available:{},hasConditions:!1};_uo.utility.isDefined(UncannyAutomator.actionsConditions)&&_uo.utility.isDefined(UncannyAutomator.actionsConditions[e])&&(n.available=UncannyAutomator.actionsConditions[e],Object.entries(n.available).forEach((function(t){var i=(0,o.A)(t,2),a=i[0];i[1],_uo.utility.isDefined(n.available[a].fields)&&(n.available[a].fields=n.available[a].fields.map((function(t){return t.itemType="condition",t.integrationId=e,(0,r.A)(t)})))})),n.hasConditions=!0),UncannyAutomator.integrations[e].conditions=n},s=function(t){var e=UncannyAutomator.recipe.items[t];return!!_uo.utility.isDefined(e)&&"action"===e.itemType&&!e.hasConditions&&!e.isMissing},u=function(t){var e=t.integrationCode,n=t.conditionCode,i=p({integrationCode:e,conditionCode:n});return _uo.utility.isDefined(i.fields)},c=function(){if(v()){var t=(0,i.OY)("get",{filter:{itemType:"action"}});for(var e in t)UncannyAutomator.recipe.items[e].hasConditions=!1;Object.entries(UncannyAutomator.recipe.conditions).forEach((function(t){var e=(0,o.A)(t,2),n=e[0];e[1].actions.forEach((function(t){UncannyAutomator.recipe.items[t].hasConditions=!0,UncannyAutomator.recipe.items[t].conditionsGroupID=n}))}))}},l=function(t){var e=t.integrationCode,n=t.conditionCode;return new Promise((function(t,o){(0,i.zA)("actions_conditions_fields",{integration:e,code:n},(function(i){if(!i.success||!_uo.utility.isDefined(i.fields))return o(new Error(_uo.utility.escHTML(wp.i18n.__("Something went wrong. We couldn't get the fields.","uncanny-automator"))));var a=i.fields.map((function(t){return t.itemType="condition",t.integrationId=e,(0,r.A)(t)}));return w({integrationCode:e,conditionCode:n,updates:{fields:a}}),t(a)}),(function(){return o(new Error(_uo.utility.escHTML(wp.i18n.__("Something went wrong. We couldn't get the fields.","uncanny-automator"))))}),{requiresRecipesObject:!1,renderUI:!1})}))},d=function(t){var e=t.conditionsGroupId,n=t.conditionId,i=null,o=m({conditionsGroupId:e});return _uo.utility.isDefined(o)&&o.hasCondition(n)&&(i=o.getCondition(n)),i},p=function(t){var e,n=t.integrationCode,i=t.conditionCode;if(_uo.utility.isDefined(UncannyAutomator.integrations[n])){var o=UncannyAutomator.integrations[n].conditions.available;_uo.utility.isDefined(o[i])&&(e=o[i])}return e},f=function(t){return document.querySelector('.uap-conditions-block[data-id="'.concat(t,'"]'))},h=function(t){var e=t.integrationCode,n=t.filters,r=void 0===n?{}:n;if(_uo.utility.isEmpty(e))return{};if(!UncannyAutomator.integrations[e].conditions.hasConditions)return{};r=Object.assign({deprecated:null,customFilter:null},r);var a={};return Object.entries(UncannyAutomator.integrations[e].conditions.available).forEach((function(t){var e=(0,o.A)(t,2),n=e[0],i=e[1],s=!0;if(_uo.utility.isDefined(r.customFilter)&&(s=r.customFilter(i)),_uo.utility.isDefined(r.deprecated)){var u=!!_uo.utility.isDefined(i.deprecated)&&i.deprecated;s=r.deprecated===u}s&&(i.id=n,a[n]=i)})),a=(0,i.wZ)(Object.values(a),"name")},m=function(t){var e=t.conditionsGroupId,n=null;return v()&&_uo.utility.isDefined(UncannyAutomator.recipe.conditions[e])&&(n=UncannyAutomator.recipe.conditions[e]),n};var y=n(8650),g=n(1380);const _=function(t){if(UncannyAutomator.recipe.conditions={},_uo.utility.isDefined(t.actions_conditions)&&!_uo.utility.isEmpty(t.actions_conditions)){var e=!1;try{JSON.parse(t.actions_conditions).forEach((function(t){if(e=e||_uo.utility.isEmpty(t.id)||_uo.utility.isEmpty(t.parent_id),!_uo.utility.isEmpty(t.conditions)){var n=new y.A({id:t.id,parentID:t.parent_id});n.priority=t.priority,n.mode=t.mode,n.actions=t.actions,n.conditions=t.conditions}}))}catch(t){UncannyAutomator._site.has_debug_enabled&&(console.error("Conditions: Automator failed to parse the conditions saved in the meta. Make sure you're saving a valid JSON."),console.error(t))}e&&A({onSuccess:function(){new g.A}})}},v=function(){return!_uo.utility.isEmpty(UncannyAutomator.recipe.conditions)},b=function(){var t=[];return v()&&Object.entries(UncannyAutomator.recipe.conditions).forEach((function(e){var n=(0,o.A)(e,2),i=(n[0],n[1]);i.hasConditions&&t.push(i.formattedForMeta)})),t},w=function(t){var e=t.integrationCode,n=t.conditionCode,i=t.updates,o=void 0===i?{}:i;UncannyAutomator.integrations[e].conditions.available[n]=Object.assign(UncannyAutomator.integrations[e].conditions.available[n],o)},A=function(t){var e=t.onSuccess,n=t.onFail;if(UncannyAutomatorBackend._site.automator.is_pro_active){var i=b();UncannyAutomator._core.recipe.item.filter.updateFilters(JSON.stringify(i)).then((function(t){if(t.success&&_uo.utility.isDefined(e))try{UncannyAutomator._cache.tokens=[],e(t)}catch(t){UncannyAutomator._site.has_debug_enabled&&(console.error("updateRemoteConditionsMeta: Couldn't execute the onSuccess callback."),console.error(t))}})).catch((function(t){if(UncannyAutomator._site.has_debug_enabled&&console.error("updateRemoteConditionsMeta: Couldn't update remote conditions meta. UI might be outdated."),_uo.utility.isDefined(n))try{n()}catch(t){UncannyAutomator._site.has_debug_enabled&&(console.error("updateRemoteConditionsMeta: Couldn't execute the onFail callback."),console.error(t))}}))}}},9036:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var i=n(3029),o=n(2901);const r=function(){function t(e){return(0,i.A)(this,t),this.integrationCode=e,this.createItemIcon()}return(0,o.A)(t,[{key:"createItemIcon",value:function(){var t=document.createElement("div");if(t.classList.add("uap-item-icon"),_uo.utility.isDefined(UncannyAutomator.integrations[this.integrationCode])){var e=UncannyAutomator.integrations[this.integrationCode];_uo.utility.isDefined(e.icon_svg)?t.insertAdjacentHTML("beforeEnd",'\n\t\t\t\t\t<img src="'.concat(e.icon_svg,'" alt="').concat(e.name,'">\n\t\t\t\t')):_uo.utility.isDefined(e.icon_32)&&_uo.utility.isDefined(e.icon_64)&&t.insertAdjacentHTML("beforeEnd",'\n\t\t\t\t\t<img \n\t\t\t\t\t\tsrc="'.concat(e.icon_32,'"  \n\t\t\t\t\t\talt="').concat(e.name,'"\n\t\t\t\t\t>\n\t\t\t\t'))}return t}}]),t}()},5034:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var i=n(3029),o=n(2901),r=function(){function t(e){var n=e.integrationId,o=e.customIntegrationName;return(0,i.A)(this,t),this.integrationId=n,this.customIntegrationName=o,this.createItemTag(),this.$tag}return(0,o.A)(t,[{key:"createItemTag",value:function(){var t=UncannyAutomator.integrations[this.integrationId],e=document.createElement("div");e.classList.add("uap-item-tag"),e.innerText=_uo.utility.isDefined(t)?t.name:this.customIntegrationName,this.$tag=e}}]),t}()},8064:(t,e,n)=>{"use strict";n.d(e,{A:()=>b});var i=n(5458),o=n(296),r=n(3029),a=n(2901),s=n(1669),u=n.n(s),c=n(8514),l=n(2450),d=n(3773),p=n(6080),f=n(2743),h=n(4727),m=n(9036),y=n(5034),g=n(9845),_=n(1380);const v=function(){function t(e,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,r.A)(this,t),this.itemType=e,this.integrationID=n,this.$currentItem=i,this.attributes=o,this.removeConnectingIntegrationsParameters(),this.render()}return(0,a.A)(t,[{key:"render",value:function(){var t={title:"trigger"==this.itemType?_uo.utility.escHTML(wp.i18n.__("Select a trigger","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("Select an action","uncanny-automator")),$icon:new m.A(this.integrationID),$integrationNameTag:new y.A({integrationId:this.integrationID}),$actionMenu:new p.A(this.itemType)},e=document.createElement("div");e.classList.add("uap-items","uap-items--create-new");var n=document.createElement("div");n.classList.add("uap-item","uap-item--create-new"),e.appendChild(n),n.setAttribute("data-integration",this.integrationID),this.$item=n,n.insertAdjacentHTML("beforeEnd",'\n\t\t\t<div class="uap-item-inner">\n\t\t\t\t<div class="uap-item-sidebar"></div>\n\t\t\t\t<div class="uap-item-top-header">\n\t\t\t\t\t<div class="uap-item-top-header-left"></div>\n\t\t\t\t\t<div class="uap-item-top-header-right"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="uap-item-inner-content"></div>\n\t\t\t</div>\n\t\t'),n.querySelector(".uap-item-sidebar").appendChild(t.$icon),n.querySelector(".uap-item-top-header-left").appendChild(t.$integrationNameTag),n.querySelector(".uap-item-top-header-right").appendChild(t.$actionMenu.get(0)),n.querySelector(".uap-item-inner-content").appendChild(this.createItemsList().get(0)),this.$currentItem.replaceWith(e)}},{key:"createItemsList",value:function(){var t,e,n=this;"trigger"==this.itemType?(t=(0,c.Eq)(this.integrationID,"triggers"),e=_uo.utility.escHTML(wp.i18n.__("Search for triggers","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Get Pro to unlock these triggers","uncanny-automator"))):"action"==this.itemType&&(t=(0,c.Eq)(this.integrationID,"actions"),e=_uo.utility.escHTML(wp.i18n.__("Search for actions","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Get Pro to unlock these actions","uncanny-automator")));var i=u()('\n\t\t\t<div class="item-options item-options--nopadding item-options--noborder">\n\t\t\t\t<div class="form-element">\n\t\t\t\t\t<div class="item__task-selector">\n\t\t\t\t\t\t<div class="item-task-selector__search">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype="text"\n\t\t\t\t\t\t\t\tclass="item-task-selector__search-input"\n\t\t\t\t\t\t\t\tplaceholder="'.concat(e,'"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="item-task-selector__options">\n\t\t\t\t\t\t\t<div class="item-task-selector-options__group item-task-selector-options__group--available"></div>\n\t\t\t\t\t\t\t<div class="item-task-selector-options__group item-task-selector-options__group--unavailable">\n\t\t\t\t\t\t\t\t<div class="item-task-selector-options__group-items"></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="item-task-selector__option item-task-selector__option--no-results item-task-selector__option--hide">\n\t\t\t\t\t\t\t\t').concat(_uo.utility.escHTML(wp.i18n.__("No results found","uncanny-automator")),"\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t")),o=i.find(".item__task-selector"),r=i.find(".item-task-selector__search-input"),a={container:i.find(".item-task-selector__options"),available:i.find(".item-task-selector-options__group--available"),unavailable:{container:i.find(".item-task-selector-options__group--unavailable"),list:i.find(".item-task-selector-options__group-items")},noResults:i.find(".item-task-selector__option--no-results")};if(t.hasAvailableItems){if(!UncannyAutomatorBackend._site.automator.is_pro_active&&"anonymous"==UncannyAutomator._recipe.recipe_type){var s=[],l=[];t.available.forEach((function(t){t.requires_user?s.push(t):l.push(t)})),t.available=[].concat(l,s)}var p=UncannyAutomator._core.recipe.item.loop.isItemInsideUserLoop(this.attributes.parentID||0);a.available.append(t.available.map((function(t){var e=t.is_pro,i=t.is_elite,r=!p&&!UncannyAutomatorBackend._site.automator.is_pro_active&&"anonymous"==UncannyAutomator._recipe.recipe_type&&t.requires_user,a=!p&&"anonymous"==UncannyAutomator._recipe.recipe_type&&!UncannyAutomator.recipe.requiresUserData&&t.requires_user,s=u()('\n\t\t\t\t\t<div class="item-task-selector__option '.concat(e?"item-task-selector__option--pro":""," ").concat(t.requires_user?"item-task-selector__option--requires-user":""," ").concat(r?"item-task-selector__option-cannot-add":"",'"\n\t\t\t\t\t\tdata-search="').concat(t.select_option_name.toLowerCase().replace(/\s+|{|}/g,""),'"\n\t\t\t\t\t\tdata-integration-id="').concat(n.integrationID,'"\n\t\t\t\t\t\tdata-item-id="').concat(t.code,'">\n\t\t\t\t\t\t<div class="item-task-selector__option-sentence" dir="auto">\n\t\t\t\t\t\t\t').concat(r?'<uo-icon id="lock"></uo-icon>':"","\n\t\t\t\t\t\t\t").concat((0,c.g$)(t.select_option_name,'<span class="item-task-selector__option-variable">',"</span>")," ").concat(e?'<span class="item-task-selector-option__badge">'.concat(_uo.utility.escHTML(wp.i18n.__("Pro","uncanny-automator")),"</span>"):""," ").concat(i?'<span class="item-task-selector-option__badge">'.concat(_uo.utility.escHTML(wp.i18n.__("Elite","uncanny-automator")),"</span>"):"",'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="item-task-selector__option-properties">\n\t\t\t\t\t\t\t').concat(a?'<span class="item-task-selector-option__requires-user">'.concat(_uo.utility.escHTML(wp.i18n.__("Needs user data","uncanny-automator")),"</span>"):"","\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t"));return s.on("click",(function(){o.addClass("item__task-selector--loading"),s.addClass("item-task-selector__option--loading"),["trigger","action"].includes(n.itemType)&&"add-new-".concat(n.itemType);var r={};u().each(t.options,(function(t,e){_uo.utility.isDefined(e.default_value)&&(r[e.option_code]=e.default_value)})),"anonymous"==t.type&&(r.can_log_in_new_user=!_uo.utility.isDefined(t.can_log_in_new_user)||t.can_log_in_new_user);var a,l=function(a,u){UncannyAutomator._core.recipe.item.createItem(n.itemType,t.code,{parentID:_uo.utility.isDefined(n.attributes.parentID)?n.attributes.parentID:UncannyAutomator._recipe.recipe_id,actionsOrder:(0,f.u7)(!0),defaultMeta:Object.assign({},r,{integration:n.integrationID,integration_name:UncannyAutomator.integrations[n.integrationID].name,sentence:t.sentence,type:e?"pro":i?"elite":"free"})}).then((function(e){if(UncannyAutomator._cache.tokens=[],"action"===n.itemType&&!_uo.utility.isEmpty(n.attributes.conditionsGroupID))return(0,h.iW)({conditionsGroupId:n.attributes.conditionsGroupID}).addAction(e.post_ID),new _.A,void(0,h.jd)({onSuccess:function(){new _.A,n.openFirstGroupsOfFields(e.post_ID),_uo.utility.isDefined(a)&&a(e)}});new g.A,new _.A,n.openFirstGroupsOfFields(e.post_ID),document.dispatchEvent(new CustomEvent("uap/builder/legacy/item-created",{detail:{itemID:e.post_ID,itemType:n.itemType,integrationCode:n.integrationID,itemCode:t.code}})),_uo.utility.isDefined(a)&&a(e)})).catch((function(t){o.removeClass("item__task-selector--loading"),s.removeClass("item-task-selector__option--loading"),new g.A,_uo.utility.isDefined(u)&&u(response)}))};if(p||"action"!=n.itemType||"anonymous"!=UncannyAutomator._recipe.recipe_type||UncannyAutomator.recipe.requiresUserData||!t.requires_user)l();else if(o.removeClass("item__task-selector--loading"),s.removeClass("item-task-selector__option--loading"),UncannyAutomatorBackend._site.automator.is_pro_active){var m=UncannyAutomator._recipe.is_recipe_on;(a=new d.A({title:"".concat(_uo.utility.escHTML(wp.i18n.__("We need some user data","uncanny-automator")),' <span class="needs-user-data-modal-pro-badge needs-user-data-modal-pro-badge--gray">').concat(_uo.utility.escHTML(wp.i18n.__("Pro","uncanny-automator")),"</span>"),content:'\n\t\t\t\t\t\t\t\t\t<div class="needs-user-data-modal">\n\t\t\t\t\t\t\t\t\t\t<div class="needs-user-data-modal__title">'.concat(_uo.utility.escHTML(wp.i18n.__("This action must be run on a WordPress user.","uncanny-automator")),'</div>\n\t\t\t\t\t\t\t\t\t\t<div class="needs-user-data-modal__sentence">\n\t\t\t\t\t\t\t\t\t\t\t').concat((0,c.g$)(t.select_option_name,"<span>","</span>"),'\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="needs-user-data-modal__disclaimer">\n\t\t\t\t\t\t\t\t\t\t\t<div class="description">').concat(_uo.utility.escHTML(wp.i18n.__("Since this is a recipe that runs for everyone, including logged-out users, you'll need to select a new or existing user that this action will run on.","uncanny-automator")),"</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t"),buttons:{cancel:_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator")),confirm:_uo.utility.escHTML(wp.i18n.__("Set user data","uncanny-automator"))}},{size:"large"})).setEvents({onConfirm:function(){var t=a.getElements();t.modal.box.buttons.confirm.addClass("uap-btn--loading").prop("disabled",!0),(0,c.Gj)(!0,(function(e){l((function(){a.destroy()}),(function(){t.modal.box.buttons.confirm.removeClass("uap-btn--loading").prop("disabled",!1)}))}),(function(e){t.modal.box.buttons.confirm.removeClass("uap-btn--loading").prop("disabled",!1)})),m&&UncannyAutomator._core.recipe.setRecipeStatus(!1,!1)},onCancel:function(){a.destroy()}})}else(a=new d.A({title:"".concat(_uo.utility.escHTML(wp.i18n.__("We need some user data","uncanny-automator")),' <span class="needs-user-data-modal-pro-badge">').concat(_uo.utility.escHTML(wp.i18n.__("Pro","uncanny-automator")),"</span>"),content:'\n\t\t\t\t\t\t\t\t\t<div class="needs-user-data-modal">\n\t\t\t\t\t\t\t\t\t\t<div class="needs-user-data-modal__title">'.concat(_uo.utility.escHTML(wp.i18n.__("This action must be run on a WordPress user.","uncanny-automator")),'</div>\n\t\t\t\t\t\t\t\t\t\t<div class="needs-user-data-modal__sentence">\n\t\t\t\t\t\t\t\t\t\t\t').concat((0,c.g$)(t.select_option_name,"<span>","</span>"),'\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="needs-user-data-modal__disclaimer">\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="description">').concat(_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("Because the action is associated with user data, it must be mapped to a new or existing user. This requires %1$s.","uncanny-automator")),"Uncanny Automator Pro"),' <a href="').concat(_uo.utility.addParametersUTM("https://automatorplugin.com/pricing/",{medium:"select_an_item",campaign:"update_to_pro",content:"requires_user_data"}),'" target="_blank">').concat(_uo.utility.escHTML(wp.i18n.__("Upgrade now","uncanny-automator")),' <uo-icon id="external-link"></uo-icon></a></div>\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="description">').concat(_uo.utility.escHTML(wp.i18n.__("If you don't want to upgrade now, you can add this action to a recipe that runs only for logged-in users.","uncanny-automator")),' <a href="').concat(_uo.utility.addParametersUTM("https://automatorplugin.com/knowledge-base/creating-a-recipe/#Recipe_types",{medium:"select_an_item",content:"requires_user_data-learn-more"}),'" target="_blank">').concat(_uo.utility.escHTML(wp.i18n.__("Learn more","uncanny-automator")),' <uo-icon id="external-link"></uo-icon></a></div>\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t'),buttons:{cancel:_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator")),confirm:_uo.utility.escHTML(wp.i18n.__("Upgrade to Pro","uncanny-automator"))}},{size:"large"})).setEvents({onConfirm:function(){a.destroy(),(0,c.V3)(_uo.utility.addParametersUTM("https://automatorplugin.com/pricing/",{medium:"select_an_item",campaign:"update_to_pro",content:"requires_user_data"}))},onCancel:function(){a.destroy()}})})),s})))}else a.available.remove();t.hasUnavailableItems?a.unavailable.list.append(t.unavailable.map((function(t){var e="unavailable_item-".concat(n.integrationID,"-").concat(n.integrationID,"_").concat((0,c.g$)(t.name,"","").toLowerCase().replace(/\s+|{|}/g,"_")),i=_uo.utility.isDefined(UncannyAutomator.integrations[n.integrationID])?UncannyAutomator.integrations[n.integrationID].name:"",o=_uo.utility.addParametersToURL(_uo.utility.addParametersUTM("https://automatorplugin.com/pricing/",{medium:"select_an_item",campaign:"update_to_pro",content:e}),{uap_bpro_context:n.itemType,uap_bpro_integration_id:n.integrationID,uap_bpro_integration_name:i,uap_bpro_item:t.name});return u()('\n\t\t\t\t\t<a href="'.concat(o,'"\n\t\t\t\t\t\ttarget="_blank"\n\t\t\t\t\t\tclass="item-task-selector__option item-task-selector__option--pro"\n\t\t\t\t\t\tdata-search="').concat(t.name.toLowerCase().replace(/\s+|{|}/g,""),'">\n\t\t\t\t\t\t<div class="item-task-selector__option-sentence" dir="auto">\n\t\t\t\t\t\t\t<uo-icon id="lock"></uo-icon>\n\t\t\t\t\t\t\t').concat((0,c.g$)(t.name,'<span class="item-task-selector__option-variable">',"</span>"),'\n\t\t\t\t\t\t\t<span class="item-task-selector-option__badge">').concat(_uo.utility.escHTML(wp.i18n.__("Pro","uncanny-automator")),"</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</a>\n\t\t\t\t"))}))):a.unavailable.container.remove();var m=a.container.find(".item-task-selector__option:not(.item-task-selector__option--no-results)");return r.on("input",(function(){var t=r.val().toLowerCase().replace(/\s+|{|}/g,"");m.removeClass("item-task-selector__option--show item-task-selector__option--hide");var e=!0;_uo.utility.isEmpty(t)||(e=!1,u().each(m,(function(n,i){var o=u()(i);-1!==o.data("search").search(t)?(o.addClass("item-task-selector__option--show"),e=!0):o.addClass("item-task-selector__option--hide")}))),a.noResults.removeClass("item-task-selector__option--hide item-task-selector__option--show"),e?a.noResults.addClass("item-task-selector__option--hide"):a.noResults.addClass("item-task-selector__option--show")})),i.append(this.createCancelButton()),i}},{key:"openFirstGroupsOfFields",value:function(t){if(_uo.utility.isDefined(t)){var e=(0,c.G6)("item",{id:t});if(!_uo.utility.isDefined(e))return;UncannyAutomator.recipe.items[t].isValid?UncannyAutomator._recipe.is_recipe_on||e.item.find('.item-status input[type="checkbox"]').prop("checked",!0).trigger("change"):e.item.find(".item-title__token:not(.item-title__token--filled)").first().trigger("click")}}},{key:"createCancelButton",value:function(){var t=this,e=document.createElement("uo-button");return e.setAttribute("color","secondary"),e.innerText=_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator")),e.addEventListener("click",(function(){new b(t.itemType,t.$item,t.attributes)})),e}},{key:"removeConnectingIntegrationsParameters",value:function(){_uo.utility.addParametersToURL(window.location.href,{ua_connecting_integration:"",ua_connecting_integration_id:"",ua_connecting_integration_context:"",ua_connecting_integration_condition:""},{setAsURL:!0,refresh:!1})}}]),t}(),b=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,r.A)(this,t),this.itemType=e,this.$currentItem=n,this.attributes=i,this.integrations=[],this.render(),this.handleContinueIntegrationConnection()}return(0,a.A)(t,[{key:"render",value:function(){var t={$actionMenu:new p.A(this.itemType)},e=document.createElement("div");if(e.classList.add("uap-item"),this.$item=e,e.insertAdjacentHTML("beforeEnd",'\n\t\t\t<div class="uap-item-inner">\n\t\t\t\t<div class="uap-item-sidebar">\n\t\t\t\t\t<div class="uap-item-icon"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="uap-item-top-header">\n\t\t\t\t\t<div class="uap-item-top-header-left">\n\t\t\t\t\t\t'.concat(_uo.utility.escHTML(wp.i18n.__("Select an integration","uncanny-automator")),'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="uap-item-top-header-right"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="uap-item-inner-content"></div>\n\t\t\t</div>\n\t\t')),e.querySelector(".uap-item-top-header-right").appendChild(t.$actionMenu.get(0)),e.querySelector(".uap-item-inner-content").appendChild(this.createIntegrations().get(0)),e.querySelector(".uap-item-inner-content").appendChild(this.createFooter()),_uo.utility.isDefined(this.$currentItem))this.$currentItem.replaceWith(e);else if(!_uo.utility.isEmpty(this.attributes.conditionsGroupID)&&_uo.utility.isDefined(UncannyAutomator.recipe.conditions[this.attributes.conditionsGroupID])){var n=UncannyAutomator.recipe.conditions[this.attributes.conditionsGroupID].$currentConditionsBlock;n&&n.$actionsWrapper.append(e)}else{var i=(0,c.G6)("lastItem",{type:this.itemType}).get(0);if("trigger"==this.itemType&&(_uo.utility.isDefined(i)?i.insertAdjacentElement("afterEnd",e):(0,c.G6)("metabox",{type:this.itemType}).get(0).appendChild(e)),"action"==this.itemType){var o=(0,c.G6)("items",{type:this.itemType}),r=(0,c.G6)("metabox",{type:this.itemType}).get(0);o.length>0?r.querySelector(".add-action-btn").insertAdjacentElement("beforeBegin",e):r.querySelector(".uap-item--actions-initial")?r.querySelector(".uap-item--actions-initial").replaceWith(e):r.querySelector(".metabox__footer.add-action-btn").insertAdjacentElement("beforeBegin",e)}}}},{key:"createIntegrations",value:function(){var t=this,e=u()("<div/>",{class:"item-integrations"});return this.filterByNonEmptyIntegrations(this.itemType),this.sortIntegrations(),this.integrations.forEach((function(n){var i=n.id,o=t.createIntegration(i,n),r=function(){new v(t.itemType,i,t.$item,t.attributes)};if(_uo.utility.isDefined(n.connected))switch(t.integrationModalCurrentStep(n)){case 1:r=function(){var e={ua_connecting_integration:1,ua_connecting_integration_id:i,ua_connecting_integration_context:t.itemType};_uo.utility.isDefined(t.attributes.conditionsGroupID)&&(e.ua_connecting_integration_condition=t.attributes.conditionsGroupID),_uo.utility.addParametersToURL(window.location.href,e,{setAsURL:!0,refresh:!1}),t.connectIntegrationModal(i,n,{currentStep:1})};break;case 2:r=function(){var e={ua_connecting_integration:1,ua_connecting_integration_id:i,ua_connecting_integration_context:t.itemType};_uo.utility.isDefined(t.attributes.conditionsGroupID)&&(e.ua_connecting_integration_condition=t.attributes.conditionsGroupID),_uo.utility.addParametersToURL(window.location.href,e,{setAsURL:!0,refresh:!1}),t.connectIntegrationModal(i,n,{currentStep:2})}}o.on("click",(function(){r(),document.dispatchEvent(new CustomEvent("uap/builder/legacy/integration-selected",{detail:{itemType:t.itemType,integrationCode:i}}))})),e.append(o)})),e}},{key:"connectIntegrationModal",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n=Object.assign({currentStep:1},n);var i,o=_uo.utility.addParametersToURL(UncannyAutomator._site.links.wp_admin,{recipe_ui_connect_automator_license:"yes",return_to:encodeURIComponent(window.location.href),origin:"recipe_builder"});i=UncannyAutomatorBackend._site.automator.is_pro_active?'\n\t\t\t\t<div class="connect-integration-modal-step '.concat(n.currentStep>1?"connect-integration-modal-step--completed":"",'">\n\t\t\t\t\t<div class="connect-integration-modal-step__icon">\n\t\t\t\t\t\t<uo-icon id="check-circle"></uo-icon>\n\t\t\t\t\t</div> \n\t\t\t\t\t<div class="connect-integration-modal-step__description">\n\t\t\t\t\t\t<div class="connect-integration-modal-step__description-main">\n\t\t\t\t\t\t\t<strong>1.</strong> ').concat(_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("Activate your %1$s license key!","uncanny-automator")),"Uncanny Automator Pro"),'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="connect-integration-modal-step__action">\n\t\t\t\t\t\t<a id="connect-integration-modal-activate-license" class="connect-integration-modal-step__action-anchor">\n\t\t\t\t\t\t\t').concat(_uo.utility.escHTML(wp.i18n.__("Activate","uncanny-automator")),' <uo-icon id="arrow-circle-right"></uo-icon>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'):'\n\t\t\t\t<div class="connect-integration-modal-step '.concat(n.currentStep>1?"connect-integration-modal-step--completed":"",'">\n\t\t\t\t\t<div class="connect-integration-modal-step__icon">\n\t\t\t\t\t\t<uo-icon id="face-smile-plus"></uo-icon>\n\t\t\t\t\t</div> \n\t\t\t\t\t<div class="connect-integration-modal-step__description">\n\t\t\t\t\t\t<div class="connect-integration-modal-step__description-main">\n\t\t\t\t\t\t\t<strong>1.</strong> ').concat(_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("Sign up for a free %1$s account!","uncanny-automator")),"Uncanny Automator"),'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="connect-integration-modal-step__action">\n\t\t\t\t\t\t<a id="connect-integration-modal-sign-up" class="connect-integration-modal-step__action-anchor">\n\t\t\t\t\t\t\t').concat(_uo.utility.escHTML(wp.i18n.__("Sign up","uncanny-automator")),' <uo-icon id="arrow-circle-right"></uo-icon>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t');var r=new d.A({title:"".concat(_uo.utility.escHTML(wp.i18n.__("Connect integration","uncanny-automator"))),content:'\n\t\t\t\t<div class="connect-integration-modal">\n\t\t\t\t\t<div class="connect-integration-modal-steps__counter">\n\t\t\t\t\t\t'.concat(_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("%1$s of %2$s steps completed","uncanny-automator")),n.currentStep-1,"2"),'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="connect-integration-modal-steps">\n\t\t\t\t\t\t<div class="connect-integration-modal-steps__list">\n\t\t\t\t\t\t\t').concat(i,'\n\t\t\t\t\t\t\t<div class="connect-integration-modal-step ').concat(n.currentStep>2?"connect-integration-modal-step--completed":""," ").concat(1==n.currentStep?"connect-integration-modal-step--previous-not-completed":"",'">\n\t\t\t\t\t\t\t\t<div class="connect-integration-modal-step__icon">\n\t\t\t\t\t\t\t\t\t<uo-icon id="plug"></uo-icon>\n\t\t\t\t\t\t\t\t</div> \n\t\t\t\t\t\t\t\t<div class="connect-integration-modal-step__description">\n\t\t\t\t\t\t\t\t\t<div class="connect-integration-modal-step__description-main">\n\t\t\t\t\t\t\t\t\t\t<strong>2.</strong> ').concat(_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("Connect your %1$s account to %2$s.","uncanny-automator")),'<span class="connect-integration-modal-step-integration-name">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<img src="'.concat((0,l.A)({integrationCode:t}),'">\n\t\t\t\t\t\t\t\t\t\t\t\t\t').concat(e.name,"\n\t\t\t\t\t\t\t\t\t\t\t\t</span>"),"Uncanny Automator"),'\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="connect-integration-modal-step__action">\n\t\t\t\t\t\t\t\t\t<span ').concat(1==n.currentStep?'uap-tooltip="'+_uo.utility.escHTML(wp.i18n.__("Please, complete the previous step first.","uncanny-automator"))+'"':"",'>\n\t\t\t\t\t\t\t\t\t\t<a id="connect-integration-modal-connect-account" class="connect-integration-modal-step__action-anchor">\n\t\t\t\t\t\t\t\t\t\t\t').concat(_uo.utility.escHTML(wp.i18n.__("Connect account","uncanny-automator")),' <uo-icon id="arrow-circle-right"></uo-icon>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'),buttons:{cancel:_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator")),confirm:null}},{size:"extra-large"});r.setEvents({onCancel:function(){r.destroy(),setTimeout((function(){_uo.utility.addParametersToURL(window.location.href,{ua_connecting_integration:"",ua_connecting_integration_id:"",ua_connecting_integration_context:"",ua_connecting_integration_condition:""},{setAsURL:!0,refresh:!1})}),10)}}),r.getElements().modal.container.find("#connect-integration-modal-sign-up").on("click",(function(t){t.preventDefault(),t.currentTarget.classList.add("connect-integration-modal-step__action-anchor--loading"),window.location.href=o})),r.getElements().modal.container.find("#connect-integration-modal-activate-license").on("click",(function(t){t.preventDefault(),t.currentTarget.classList.add("connect-integration-modal-step__action-anchor--loading"),_uo.utility.openWindow({url:UncannyAutomator._site.automator.links.manage_license,w:550,h:600,onClose:function(){location.reload()}})})),2==n.currentStep&&r.getElements().modal.container.find("#connect-integration-modal-connect-account").on("click",(function(t){t.preventDefault(),t.currentTarget.classList.add("connect-integration-modal-step__action-anchor--loading"),_uo.utility.openWindow({url:_uo.utility.addParametersToURL(e.settings_url,{automator_minimal:1,automator_hide_settings_tabs:1}),w:550,h:600,onClose:function(){location.reload()}})}))}},{key:"handleContinueIntegrationConnection",value:function(){if(1==_uo.utility.getURLParameter(null,"ua_connecting_integration")&&_uo.utility.getURLParameter(null,"ua_connecting_integration_context")==this.itemType){var t=_uo.utility.getURLParameter(null,"ua_connecting_integration_id");if(!_uo.utility.isEmpty(t)){var e=UncannyAutomator.integrations[t];if(_uo.utility.isDefined(e)&&_uo.utility.isDefined(e.connected))switch(this.integrationModalCurrentStep(e)){case 1:this.connectIntegrationModal(t,e,{currentStep:1});break;case 2:this.connectIntegrationModal(t,e,{currentStep:2});break;case 3:var n={},i=_uo.utility.getURLParameter(null,"ua_connecting_integration_condition");_uo.utility.isEmpty(i)||(n.conditionsGroupID=i),new v(this.itemType,t,this.$item,n)}}}}},{key:"createIntegration",value:function(t,e){var n,i=u()("<div/>",{class:"item-integration"}),o=u()("<div/>",{class:"item-integration__logo"}),r=u()("<div/>",{class:"item-integration__name"});return e.isProOnly&&(i.addClass("item-integration--pro"),i.append(u()('\n\t\t\t\t<div class="item-integration__badge">'.concat(_uo.utility.escHTML(wp.i18n.__("Pro","uncanny-automator")),"</div>\n\t\t\t")))),e.isEliteOnly&&(i.addClass("item-integration--elite"),i.append(u()('\n\t\t\t\t<div class="item-integration__badge">'.concat(_uo.utility.escHTML(wp.i18n.__("Elite","uncanny-automator")),"</div>\n\t\t\t")))),e.isAvailable?_uo.utility.isDefined(e.connected)?UncannyAutomator._site.automator.has_account_connected?e.connected?i.addClass("item-integration--available"):(i.addClass("item-integration--unavailable item-integration--unavailable-integration-not-connected"),i.attr("uap-tooltip",_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("%1$s account not connected. Click to connect.","uncanny-automator")),e.name)),i.append(u()('\n\t\t\t\t\t\t\t<div class="item-integration__badge item-integration__badge--warning">'.concat(_uo.utility.escHTML(wp.i18n.__("Not connected","uncanny-automator")),"</div>\n\t\t\t\t\t\t")))):(i.addClass("item-integration--unavailable item-integration--unavailable-ap-account-not-connected"),i.attr("uap-tooltip",_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("%1$s account not connected. Click to connect.","uncanny-automator")),e.name)),i.append(u()('\n\t\t\t\t\t\t<div class="item-integration__badge item-integration__badge--warning">'.concat(_uo.utility.escHTML(wp.i18n.__("Not connected","uncanny-automator")),"</div>\n\t\t\t\t\t")))):"action"==this.itemType?UncannyAutomatorBackend._site.automator.is_pro_active||"anonymous"!=UncannyAutomator._recipe.recipe_type?i.addClass("item-integration--available"):0==e.items.actions.available.filter((function(t){return 0==t.requires_user})).length?(i.addClass("item-integration--unavailable item-integration--unavailable-requires-user-data"),i.attr("uap-tooltip",_uo.utility.escHTML(wp.i18n.__("All actions need user data","uncanny-automator")))):i.addClass("item-integration--available"):i.addClass("item-integration--available"):(i.addClass("item-integration--unavailable item-integration--unavailable-requires-pro"),i.attr("uap-tooltip",_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("Requires %1$s","uncanny-automator")),"Uncanny Automator Pro"))),_uo.utility.isDefined(e.icon_svg)?n=u()('<img src="'.concat(e.icon_svg,'" alt="').concat(e.name,'">')):_uo.utility.isDefined(e.icon_32)&&_uo.utility.isDefined(e.icon_64)&&(n=u()('<img src="'.concat(e.icon_32,'" alt="').concat(e.name,'">'))),r.text(e.name),o.append(n),i.append(o),i.append(r),i.attr("data-integration-id",t),i}},{key:"createFooter",value:function(){var t={text:""};if("anonymous"==UncannyAutomator._recipe.recipe_type)t.text=_uo.utility.escHTML(wp.i18n.__("Don't see your trigger? Try a recipe that runs for logged-in users only.","uncanny-automator"));else{var e=_uo.utility.addParametersUTM("https://automatorplugin.com/integrations/",{medium:"select_an_integration",content:"discover_more_integrations"});t.text="".concat(_uo.utility.escHTML(wp.i18n.__("Discover more awesome integrations.","uncanny-automator")),' <a href="').concat(e,'" target="_blank" id="uap-').concat(this.itemType,'-all-integrations-link">').concat(_uo.utility.escHTML(wp.i18n.__("Learn more","uncanny-automator")),' <uo-icon id="external-link"></uo-icon></a>')}var n=document.createElement("div");return n.classList.add("item-content__description"),n.setAttribute("dir","auto"),n.innerHTML=t.text,n}},{key:"filterByNonEmptyIntegrations",value:function(t){var e=this;if(["trigger","action"].includes(t)){var n=u().extend(!0,{},UncannyAutomator.integrations);Object.entries(n).forEach((function(n){var i,r=(0,o.A)(n,2),a=r[0],s=r[1],l=!1,d=!1,p=!1,f=!1;"trigger"==t?(l=(i=(0,c.k_)(s.items.triggers)).hasTriggers,f=i.hasAvailableItems,d=i.allItemsArePro,p=i.allItemsAreElite):"action"==t&&(l=(i=(0,c.k_)(s.items.actions)).hasActions,f=i.hasAvailableItems,d=i.allItemsArePro,p=i.allItemsAreElite),l&&e.integrations.push(u().extend({},s,{id:a,isAvailable:f,isProOnly:d,isEliteOnly:p}))}))}}},{key:"sortIntegrations",value:function(){var t={canUse:[],canNotUse:[]};this.integrations.forEach((function(e){_uo.utility.isDefined(e.connected)&&!e.connected||!e.isAvailable?t.canNotUse.push(e):t.canUse.push(e)})),t.canUse=(0,c.wZ)(t.canUse,"name"),t.canNotUse=(0,c.wZ)(t.canNotUse,"name"),this.integrations=[].concat((0,i.A)(t.canUse),(0,i.A)(t.canNotUse))}},{key:"integrationModalCurrentStep",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!UncannyAutomatorBackend._site.automator.is_pro_active&&!UncannyAutomator._site.automator.has_account_connected||UncannyAutomatorBackend._site.automator.is_pro_active&&!UncannyAutomator._site.automator.has_account_connected&&!UncannyAutomator._site.automator.has_valid_pro_license?t=1:(!UncannyAutomatorBackend._site.automator.is_pro_active&&UncannyAutomator._site.automator.has_account_connected||UncannyAutomatorBackend._site.automator.is_pro_active&&(UncannyAutomator._site.automator.has_account_connected||UncannyAutomator._site.automator.has_valid_pro_license))&&(t=e.connected?3:2),t}}]),t}()},7972:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(3029),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2901),jquery__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1669),jquery__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_0__),_common_utilities_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8514),_common_modal_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3773),_validation_validation_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7431),_triggers_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9845),_actions_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1380),ItemOptions=function(){function ItemOptions(t,e){(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_6__.A)(this,ItemOptions),this.itemId=t,this.optionId=e,this.item=UncannyAutomator.recipe.items[t],this.fields=this.item.options[this.optionId].fields,this.buttons=this.item.options[this.optionId].buttons,this.create(),this.initTokenSelector(),this.initTinyMCE(),this.initFlatpickr(),this.initCodeMirror(),document.dispatchEvent(new CustomEvent("automator/item/options/open",{detail:{itemId:this.itemId,librariesReady:!0}}))}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_7__.A)(ItemOptions,[{key:"create",value:function(){var t=(0,_common_utilities_js__WEBPACK_IMPORTED_MODULE_1__.G6)("item",{id:this.itemId}).contentContainer,e=jquery__WEBPACK_IMPORTED_MODULE_0___default()("<div/>",{class:"item-options"}),n=this.createButtons(),i=this.createFields();this.fieldsContainer=i,e.append(i);var o=jquery__WEBPACK_IMPORTED_MODULE_0___default()("<div/>",{class:"item-options__notices"});this.noticeContainer=o,e.append(o),e.append(n),t.html(e)}},{key:"createFields",value:function(){var t=this,e=jquery__WEBPACK_IMPORTED_MODULE_0___default()("<div/>",{class:"item-options__group"});return jquery__WEBPACK_IMPORTED_MODULE_0___default().each(this.fields,(function(n,i){var o=i.getAttributes().fieldType;"repeater"==o&&i.createFields(),i.createFormElement(),e.append(i.getFormElement()),["textarea","repeater"].includes(o)?"repeater"==o&&i.fieldRows.forEach((function(e,n){e.forEach((function(e,n){e.getField().on("keyup",(function(e){13==e.keyCode&&t.saveButton.trigger("click")}))}))})):i.getField().on("keyup",(function(e){13==e.keyCode&&t.saveButton.trigger("click")}))})),e}},{key:"createButtons",value:function createButtons(){var _this2=this,container=jquery__WEBPACK_IMPORTED_MODULE_0___default()("<div/>",{class:"item-options__buttons"}),automatorButtons=jquery__WEBPACK_IMPORTED_MODULE_0___default()("<div/>",{class:"item-options__uo-buttons"}),developerButtons=jquery__WEBPACK_IMPORTED_MODULE_0___default()("<div/>",{class:"item-options__developer-buttons"}),saveButton=jquery__WEBPACK_IMPORTED_MODULE_0___default()("<div/>",{class:"uap-btn uap-btn--primary item-options-button-save"}),cancelButton=jquery__WEBPACK_IMPORTED_MODULE_0___default()("<div/>",{class:"uap-btn uap-btn--secondary"}).text(_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator")));return"trigger"==this.item.itemType&&saveButton.text(_uo.utility.escHTML(wp.i18n._x("Save","Verb","uncanny-automator"))),"action"==this.item.itemType&&saveButton.text(_uo.utility.escHTML(wp.i18n._x("Save","Verb","uncanny-automator"))),"closure"==this.item.itemType&&saveButton.text(_uo.utility.escHTML(wp.i18n._x("Save","Verb","uncanny-automator"))),this.saveButton=saveButton,automatorButtons.append(saveButton),automatorButtons.append(cancelButton),jquery__WEBPACK_IMPORTED_MODULE_0___default().each(this.buttons,(function(index,button){var $buttonElement=jquery__WEBPACK_IMPORTED_MODULE_0___default()("<div/>",{class:"uap-btn"}).text(button.text);_uo.utility.isDefined(button.css_classes)&&$buttonElement.addClass(button.css_classes);var doOnClick=function(){};if(_uo.utility.isDefined(button.on_click))try{doOnClick=eval("(".concat(button.on_click.replace("<script>","").replace("<\/script>","").trim(),")"))}catch(t){UncannyAutomator._site.has_debug_enabled&&(console.warn(t),console.warn(button.on_click))}$buttonElement.on("click",(function(){var t;doOnClick($buttonElement,{item:_this2.item,values:(0,_common_utilities_js__WEBPACK_IMPORTED_MODULE_1__.Iv)({itemType:_this2.item.itemType,itemID:_this2.itemId})},(t={},_uo.utility.isDefined(button.modules)&&button.modules.includes("modal")&&(t.Modal=_common_modal_js__WEBPACK_IMPORTED_MODULE_2__.A),t))})),developerButtons.append($buttonElement)})),container.append(automatorButtons),container.append(developerButtons),saveButton.on("click",(function(){if((0,_validation_validation_js__WEBPACK_IMPORTED_MODULE_3__.d8)(_this2.fieldsContainer).isValid){saveButton.addClass("uap-btn--loading uap-btn--disabled");var t,e=_this2.itemId,n=_this2.optionId,i=_this2.getOptionValue(),o=(0,_common_utilities_js__WEBPACK_IMPORTED_MODULE_1__.nG)(_this2.item,_this2.item.meta.sentence,jquery__WEBPACK_IMPORTED_MODULE_0___default().extend({},_this2.item.meta,(0,_common_utilities_js__WEBPACK_IMPORTED_MODULE_1__.Iv)({itemType:_this2.item.itemType,itemID:_this2.itemId})));try{t=o.html.get(0).outerHTML}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}var r=(0,_common_utilities_js__WEBPACK_IMPORTED_MODULE_1__.G6)("item",{id:_this2.item.id}).item.get(0),a={recipe_id:UncannyAutomator._recipe.recipe_id,itemId:e,optionCode:n,optionValue:i,sentence_human_readable:o.brackets,sentence_human_readable_html:t,options:_this2.options};"trigger"==_this2.item.itemType&&(a.trigger_item_code=_this2.item.itemCode),(0,_common_utilities_js__WEBPACK_IMPORTED_MODULE_1__.zA)("update",a,(function(t){if(UncannyAutomator._cache.tokens=[],_this2.fields.forEach((function(t){t.getFormElement().trigger("saved")})),UncannyAutomator.recipe.items[_this2.item.id].isValid){var n;if("tour--create-recipe"==(null===(n=UncannyAutomator._core.recipe.walkthrough.getCurrentWalkthrough())||void 0===n?void 0:n.id))"trigger"==_this2.item.itemType&&new _triggers_js__WEBPACK_IMPORTED_MODULE_4__.A,"action"!=_this2.item.itemType&&"closure"!=_this2.item.itemType||new _actions_js__WEBPACK_IMPORTED_MODULE_5__.A;else if(UncannyAutomator._recipe.is_recipe_on||_this2.item.isLive)"trigger"==_this2.item.itemType&&(new _triggers_js__WEBPACK_IMPORTED_MODULE_4__.A,new _actions_js__WEBPACK_IMPORTED_MODULE_5__.A),"action"!=_this2.item.itemType&&"closure"!=_this2.item.itemType||new _actions_js__WEBPACK_IMPORTED_MODULE_5__.A;else{"trigger"==_this2.item.itemType&&(new _triggers_js__WEBPACK_IMPORTED_MODULE_4__.A,new _actions_js__WEBPACK_IMPORTED_MODULE_5__.A),"action"!=_this2.item.itemType&&"closure"!=_this2.item.itemType||new _actions_js__WEBPACK_IMPORTED_MODULE_5__.A,r=(0,_common_utilities_js__WEBPACK_IMPORTED_MODULE_1__.G6)("item",{id:_this2.item.id}).item.get(0);try{var i=r.querySelector('.uap-item-status input[type="checkbox"]');i.checked=!0,i.dispatchEvent(new Event("change"))}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t),"trigger"==_this2.item.itemType&&(new _triggers_js__WEBPACK_IMPORTED_MODULE_4__.A,new _actions_js__WEBPACK_IMPORTED_MODULE_5__.A),"action"!=_this2.item.itemType&&"closure"!=_this2.item.itemType||new _actions_js__WEBPACK_IMPORTED_MODULE_5__.A}}document.dispatchEvent(new CustomEvent("uap/builder/legacy/item-updated",{detail:{itemID:e,itemType:_this2.item.itemType,integrationCode:_this2.item.integrationCode,itemCode:_this2.item.itemCode,options:_this2.options}}))}else{"trigger"==_this2.item.itemType&&new _triggers_js__WEBPACK_IMPORTED_MODULE_4__.A,"action"!=_this2.item.itemType&&"closure"!=_this2.item.itemType||new _actions_js__WEBPACK_IMPORTED_MODULE_5__.A;var o=(0,_common_utilities_js__WEBPACK_IMPORTED_MODULE_1__.G6)("item",{id:_this2.item.id}).item.get(0).querySelectorAll(".item-title__token:not(.item-title__token--filled)");_uo.utility.isDefined(o[0])&&o[0].click()}}),(function(t){"trigger"==_this2.item.itemType&&new _triggers_js__WEBPACK_IMPORTED_MODULE_4__.A,"action"!=_this2.item.itemType&&"closure"!=_this2.item.itemType||new _actions_js__WEBPACK_IMPORTED_MODULE_5__.A;try{(0,_common_utilities_js__WEBPACK_IMPORTED_MODULE_1__.G6)("item",{id:_this2.itemId}).item.find('.item-title__token[data-options-id="'.concat(n,'"]')).trigger("click")}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}}))}})),cancelButton.on("click",(function(){(0,_common_utilities_js__WEBPACK_IMPORTED_MODULE_1__.G6)("item",{id:_this2.itemId}).contentContainer.html("");var t=(0,_common_utilities_js__WEBPACK_IMPORTED_MODULE_1__.G6)("item",{id:_this2.item.id}).item;t.removeClass("uap-item--open"),t.find(".item-title__token--open").removeClass("item-title__token--open"),t.trigger("automator:item:open",!1),document.dispatchEvent(new CustomEvent("automator/item/options/close",{detail:{itemId:_this2.itemId,triggeredBy:"cancel-button"}}))})),container}},{key:"initTokenSelector",value:function(){jquery__WEBPACK_IMPORTED_MODULE_0___default().each(this.fields,(function(t,e){e.initTokenSelector()}))}},{key:"initTinyMCE",value:function(){var t=_uo.utility.isDefined(UncannyAutomator._core.recipe.item.loop.getParentLoop(this.itemId));jquery__WEBPACK_IMPORTED_MODULE_0___default().each(this.fields,(function(e,n){"textarea"==n.getAttributes().fieldType&&(n.initTinyMCE(),t&&setTimeout((function(){n.initTinyMCE()}),1e3))}))}},{key:"initCodeMirror",value:function(){jquery__WEBPACK_IMPORTED_MODULE_0___default().each(this.fields,(function(t,e){e.initCodeMirror()}))}},{key:"initFlatpickr",value:function(){jquery__WEBPACK_IMPORTED_MODULE_0___default().each(this.fields,(function(t,e){e.initFlatpickr()}))}},{key:"options",get:function(){var t={};return this.fields.forEach((function(e){var n=e.getAttributes(),i={type:n.fieldType,value:e.getValue()};"select"===i.type&&(i.supports_multiple_values=n.supportsMultipleValues,i.supports_custom_value=n.supportsCustomValue,(0,_common_utilities_js__WEBPACK_IMPORTED_MODULE_1__.Bd)(i.value)&&(n.supportsMultipleValues&&(i.value="automator_custom_value"),i.custom_value=e.getSelectCustomValue())),"select"!==i.type&&"radio"!==i.type&&"file"!==i.type||(0,_common_utilities_js__WEBPACK_IMPORTED_MODULE_1__.Bd)(i.value)||(i.value_readable=e.getReadableValue()),"textarea"===i.type&&(i.supports_tinymce=n.supportsTinyMCE),"textarea"===i.type&&(i.supports_markdown=n.supportsMarkdown),t[n.optionCode]=i})),{groupCode:this.optionId,fields:t}}},{key:"getOptionValue",value:function(){var t={},e=!1,n=!1;return jquery__WEBPACK_IMPORTED_MODULE_0___default().each(this.fields,(function(i,o){var r=o.getAttributes().optionCode,a=o.getValue();if(["select","radio"].includes(o.getAttributes().fieldType)){if(e=!0,o.getAttributes().supportsMultipleValues)try{a=JSON.stringify(a),a=(0,_common_utilities_js__WEBPACK_IMPORTED_MODULE_1__.Bd)(a)?"automator_custom_value":a}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}t["".concat(r,"_readable")]=o.getReadableValue(),(0,_common_utilities_js__WEBPACK_IMPORTED_MODULE_1__.Bd)(a)&&(t["".concat(r,"_custom")]=o.getSelectCustomValue())}else"repeater"==o.getAttributes().fieldType?(n=!0,a=JSON.stringify(a)):"file"===o.getAttributes().fieldType&&(a=JSON.stringify(a),t["".concat(r,"_readable")]=o.getReadableValue());t[r]=a})),n||e||1!=Object.keys(t).length||(t=t[Object.keys(t)[0]]),t}}]),ItemOptions}();const __WEBPACK_DEFAULT_EXPORT__=ItemOptions},8829:(t,e,n)=>{"use strict";n.d(e,{dj:()=>i,VU:()=>r,xn:()=>a,TX:()=>u});const i=function(){return UncannyAutomatorBackend._site.automator.is_pro_active};var o=n(296);const r=function(t,e){if(t&&e){var n=parseInt(t.replaceAll("-","")),i=e.match(/\d+/g);if(i){var r=i.map(Number),a=(0,o.A)(r,2),s=a[0],u=a[1];e.includes("PM")&&12!==s?s+=12:e.includes("AM")&&12===s&&(s=0);var c=100*s+u;if(!isNaN(n)&&!isNaN(c))return 1e4*n+c}}},a=function(t,e){if(t=parseInt(t),!isNaN(t)){var n={seconds:1,minutes:60,hours:3600,days:86400,years:31536e3};if(_uo.utility.isDefined(n[e]))return t*n[e]}};var s=n(8514);const u=function(){var t=(0,s.OY)("get",{filter:{itemType:"action"}});for(var e in t){var n=UncannyAutomator.recipe.items[e].meta;UncannyAutomator.recipe.items[e].isScheduled=_uo.utility.isDefined(n.async_mode)&&"schedule"==n.async_mode,UncannyAutomator.recipe.items[e].isDelayed=_uo.utility.isDefined(n.async_mode)&&"delay"==n.async_mode,UncannyAutomator.recipe.items[e].isDelayedCustom=_uo.utility.isDefined(n.async_mode)&&"custom"==n.async_mode,UncannyAutomator.recipe.items[e].isScheduled&&(UncannyAutomator.recipe.items[e].scheduleNumber=r(n.async_schedule_date,n.async_schedule_time)),UncannyAutomator.recipe.items[e].isDelayed&&(UncannyAutomator.recipe.items[e].delayInSeconds=a(n.async_delay_number,n.async_delay_unit))}}},9986:(t,e,n)=>{"use strict";n.d(e,{A:()=>W});var i,o,r,a,s,u,c,l=n(3029),d=n(2901),p=n(1669),f=n.n(p),h=n(8514),m=n(3773),y=n(127),g=n(7972),_=(n(9845),n(1380),n(7431)),v=n(5662),b=n(2284),w=n(296),A=n(7528),k=n(9417),T=n(5361),E=n(6822),D=n(3954),M=n(2618),C=n(2777);function x(t){var e=L();return function(){var n,i=(0,D.A)(t);if(e){var o=(0,D.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,E.A)(this,n)}}function L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(L=function(){return!!t})()}function S(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function I(t,e,n){return t.set(j(t,e),n),n}function O(t,e){return t.get(j(t,e))}function j(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function U(t){var e=function(t){if("object"!=(0,b.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,b.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,b.A)(e)?e:e+""}function P(t,e,n){"symbol"==(0,b.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function H(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,b.A)(t):"null"));return t}var F=new WeakMap,$=new WeakMap,R=new WeakMap,q=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function w(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],w=!u,A=1===o,k=3===o,T=4===o,E=2===o;function D(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),M[e].call(o,r)}}if(!w){var M={},C=[],x=k?"get":T||A?"set":"value";if(l?(d||A?M={get:P((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:M[x]=g,d||P(M[x],i,E?"":x)):d||(M=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+M[x].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var L=t,S=m.length-1;S>=0;S-=n?2:1){var I=v(m[S],"A decorator","be",!0),O=n?m[S-1]:void 0,j={},U={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,j)};if(w)s=I.call(O,L,U),j.v=1,v(s,"class decorators","return")&&(L=s);else if(U.static=c,U.private=l,s=U.access={has:l?p.bind():function(t){return i in t}},T||(s.get=l?E?function(t){return f(t),M.value}:D("get",0,f):function(t){return t[i]}),E||k||(s.set=l?D("set",0,f):function(t,e){t[i]=e}),L=I.call(O,A?{get:M.get,set:M.set}:M[x],U),j.v=1,A){if("object"==(0,b.A)(L)&&L)(s=v(L.get,"accessor.get"))&&(M.get=s),(s=v(L.set,"accessor.set"))&&(M.set=s),(s=v(L.init,"accessor.init"))&&C.unshift(s);else if(void 0!==L)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(L,(d?"field":"method")+" decorators","return")&&(d?C.unshift(L):M[x]=L)}return o<2&&u.push(_(C,c,1),_(r,c,0)),d||w||(l?A?u.splice(-1,0,D("get",c),D("set",c)):u.push(E?M[x]:v.call.bind(M[x])):h(t,i,M)),L}function A(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},(p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;w(e?t:t.prototype,r,f,p?"#"+d:U(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return H(e)===t}:undefined)}}})(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||A(t),{e:s,get c(){var n=[];return g&&[A(t=w(t,[e],0,t.name,5,n)),_(n,1)]}}}(function(t){(0,T.A)(n,t);var e=x(n);function n(){var t;(0,l.A)(this,n);for(var i=arguments.length,d=new Array(i),p=0;p<i;p++)d[p]=arguments[p];return t=e.call.apply(e,[this].concat(d)),S((0,k.A)(t),F,o((0,k.A)(t),"")),S((0,k.A)(t),$,(r((0,k.A)(t)),a((0,k.A)(t),0))),S((0,k.A)(t),R,(s((0,k.A)(t)),u((0,k.A)(t),""))),c((0,k.A)(t)),t}return(0,d.A)(n,[{key:"sentence",get:function(){return O(F,this)},set:function(t){I(F,this,t)}},{key:"itemId",get:function(){return O($,this)},set:function(t){I($,this,t)}},{key:"itemCode",get:function(){return O(R,this)},set:function(t){I(R,this,t)}},{key:"createRenderRoot",value:function(){return this}},{key:"render",value:function(){return(0,M.qy)(i||(i=(0,A.A)(['\n\t\t\t<input\n\t\t\t\tid="','"\n\t\t\t\ttype="text"\n\t\t\t\t.value="','"\n\t\t\t\treadonly\n\t\t\t\tstyle="position: absolute; left: -9999px;"\n\t\t\t/>\n\t\t\t<label\n\t\t\t\tfor="','"\n\t\t\t\tstyle="display: none;"\n\t\t\t>','</label>\n\t\t\t<uap-builder-field-click-to-copy\n\t\t\t\tfield-id="','"\n\t\t\t\ttooltip="','"\n\t\t\t></uap-builder-field-click-to-copy>\n\t\t'])),this.id,this.shortcode,this.id,this.labelText,this.id,this.tooltip)}},{key:"id",get:function(){return"uap-magic-button-shortcode-".concat(this.itemId)}},{key:"shortcode",get:function(){var t=this.sentence.match(/\[(.*?)\]/g)[0];return t.length>0?t.replace(/\\/g,""):""}},{key:"isLinkTrigger",get:function(){return["WPMAGICLINK","ANONWPMAGICLINK"].includes(this.itemCode)}},{key:"labelText",get:function(){return this.isLinkTrigger?_uo.utility.escHTML(wp.i18n.__("Magic link shortcode","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("Magic button shortcode","uncanny-automator"))}},{key:"tooltip",get:function(){return this.isLinkTrigger?_uo.utility.escHTML(wp.i18n.__("Copy magic link shortcode","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("Copy magic button shortcode","uncanny-automator"))}}]),n}(M.WF),[(0,C.EM)("uap-builder-magic-trigger-shortcode")],[[(0,C.MZ)({type:String}),1,"sentence"],[(0,C.MZ)({type:Number,attribute:"item-id"}),1,"itemId"],[(0,C.MZ)({type:String,attribute:"item-code"}),1,"itemCode"]],0,0,M.WF),V=(0,w.A)(q.e,6);o=V[0],r=V[1],a=V[2],s=V[3],u=V[4],c=V[5];var N=(0,w.A)(q.c,2);N[0],(0,N[1])();const W=function(){function t(e,n,i,o){return(0,l.A)(this,t),this.itemType=e,this.integrationID=n,this.itemCode=i,this.itemId=o,this.item=UncannyAutomator.recipe.items[o],this.createItemSentence(e,i,o)}return(0,d.A)(t,[{key:"createItemSentence",value:function(t,e,n){var i,o=this,r=(0,h.Bf)(this.integrationID,t,e);this.globalItem=r,i=this.item.isMissing?this.item.sentence:(0,h.Bf)(this.integrationID,this.item.itemType,this.item.itemCode).sentence,i=(0,h.nG)(this.item,i,UncannyAutomator.recipe.items[this.itemId].meta,!0),this.item.isMissing||i.elements.token.on("click",(function(t){var e=f()(t.currentTarget);i.elements.token.removeClass("item-title__token--open"),e.addClass("item-title__token--open");var o=e.parents(".uap-item");o.addClass("uap-item--open"),o.trigger("automator:item:open",!0);var r=e.data("options-id");(0,h.G6)("optionGroup",{itemID:n,groupID:r}),new g.A(n,r)}));var a=f()("<div/>",{class:"item-title__describe-container"}),s=f()("<div/>",{class:"uap-item-status item-status"});if(a.append(i.html.addClass("item-title__describe").attr("dir","auto")),"RECIPE_MANUAL_TRIGGER_ANON"!==this.item.itemCode){var u=new y.A("checkbox",{color:"green",align:"right",toggle:{on:_uo.utility.escHTML(wp.i18n._x("Live","Recipe item","uncanny-automator")),off:_uo.utility.escHTML(wp.i18n._x("Draft","Recipe item","uncanny-automator"))},currentValue:UncannyAutomator.recipe.items[n].isLive}),c=u.getFormElement();if(s.append(c),a.append(s),!this.item.isMissing&&(c.on("automator:field:change",(function(){var t=u.getValue(),e=!0;if(t&&(e=(0,_.uG)(n).isValid),u.startLoadingAnimation(),e){var r=t?"publish":"draft";if(!t&&UncannyAutomator._recipe.is_recipe_on){var a=new m.A({title:_uo.utility.escHTML(wp.i18n.__("Are you sure?","uncanny-automator")),warning:(0,h.g$)(_uo.utility.escHTML(wp.i18n.__("Setting items to draft in a {{live}} recipe can lead to unexpected behaviors.","uncanny-automator")),"<strong>","</strong>"),buttons:{cancel:_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator")),confirm:_uo.utility.escHTML(wp.i18n._x("Confirm","Verb","uncanny-automator"))}});a.setEvents({afterSetEvents:function(){a.show()},onConfirm:function(){var e;a.getElements().modal.box.buttons.confirm.addClass("uap-btn--loading").prop("disabled",!0),u.startLoadingAnimation();try{e=i.html.get(0).outerHTML}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}(0,h.zA)("change_post_status",{recipe_id:UncannyAutomator._recipe.recipe_id,post_ID:n,post_status:r,sentence_human_readable:i.brackets,sentence_human_readable_html:e},(function(){u.stopLoadingAnimation(),a.destroy(),new v.A,UncannyAutomator.recipe.isValid||UncannyAutomator._core.recipe.setRecipeStatus(!1,!1)}),(function(){a.destroy(),u.stopLoadingAnimation(),u.setValue(!t,!1)}))},onCancel:function(){a.destroy(),u.setValue(!t,!1),u.stopLoadingAnimation()},afterHide:function(){a.destroy()}})}else{var s;try{s=i.html.get(0).outerHTML}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}(0,h.zA)("change_post_status",{recipe_id:UncannyAutomator._recipe.recipe_id,post_ID:n,post_status:r,sentence_human_readable:i.brackets,sentence_human_readable_html:s},(function(){u.stopLoadingAnimation(),new v.A,document.dispatchEvent(new CustomEvent("uap/builder/legacy/item-changed-status",{detail:{itemID:n,postStatus:r,itemType:o.item.itemType,integrationCode:o.item.integrationCode,itemCode:o.item.itemCode}}))}),(function(){u.stopLoadingAnimation(),u.setValue(!t,!1)}))}}else setTimeout((function(){u.stopLoadingAnimation(),u.setValue(!1,!1)}),1e3)})),"MAGIC_BUTTON"===this.item.integrationCode)){a.addClass("magic-button-item");var l=document.createElement("uap-builder-magic-trigger-shortcode");l.sentence=i.plain,l.setAttribute("item-id",this.itemId),l.setAttribute("item-code",this.item.itemCode),i.html.append(l)}}return a}}]),t}()},2743:(t,e,n)=>{"use strict";n.d(e,{u5:()=>s,u7:()=>o,h$:()=>a});var i=n(8514);const o=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[],n=[];return(0,i.G6)("metabox",{type:"action"}).get(0).querySelectorAll(".uap-item:not(.uap-item--closure)").forEach((function(i){var o=_uo.utility.isDefined(i.itemId)?i.itemId:"new_action";(t||"new_action"!==o)&&(_uo.utility.isDefined(UncannyAutomator.recipe.items[o])&&(UncannyAutomator.recipe.items[o].isScheduled||UncannyAutomator.recipe.items[o].isDelayed||UncannyAutomator.recipe.items[o].isDelayedCustom)&&n.push(o),e.push(o))})),[].concat(e,n)};var r=n(4727);const a=function(t){var e=t.conditionsGroupID,n=t.actionID;if(_uo.utility.isEmpty(e)&&_uo.utility.isEmpty(n))return UncannyAutomatorBackend.debugging.enabled&&console.warn("Item/sortability: Define a `conditionsGroupID` or `actionID`."),!1;if(_uo.utility.isEmpty(n)||"action"===UncannyAutomator.recipe.items[n].itemType){if(!_uo.utility.isEmpty(e)){var o=(0,r.iW)({conditionsGroupId:e});if(o.hasActions&&!o.hasInstantActions)return!1}return Object.values((0,i.OY)("get",{filter:{itemType:"action",isMissing:!1}})).length+Object.values(UncannyAutomator.recipe.conditions).length>1}},s=function(){var t=(0,i.OY)("get",{filter:{itemType:"action"}});for(var e in t)UncannyAutomator.recipe.items[e].isSortable=a({actionID:e})}},9845:(t,e,n)=>{"use strict";n.d(e,{A:()=>c});var i=n(3029),o=n(2901),r=n(8514),a=n(8064),s=n(4248),u=n(1782);const c=function(){function t(){(0,i.A)(this,t);var e=(0,r.G6)("metabox",{type:"trigger"}).get(0);e.innerHTML="";var n=UncannyAutomator._recipe.triggers.items;e.insertAdjacentHTML("beforeEnd","<ua-builder-items-triggers-logic></ua-builder-items-triggers-logic>"),_uo.utility.isEmpty(n)?(new a.A("trigger"),new u.A("trigger")):(new s.A("trigger",n,!1),new u.A("trigger"),this.isContinuingIntegrationConnection()&&new a.A("trigger"))}return(0,o.A)(t,[{key:"isContinuingIntegrationConnection",value:function(){return 1==_uo.utility.getURLParameter(null,"ua_connecting_integration")&&"trigger"==_uo.utility.getURLParameter(null,"ua_connecting_integration_context")}}]),t}()},1782:(t,e,n)=>{"use strict";n.d(e,{A:()=>l});var i=n(3029),o=n(2901),r=n(1669),a=n.n(r),s=n(8514),u=n(8064),c=n(1380);const l=function(){function t(e){(0,i.A)(this,t),this.itemType=e,this.shouldCreateMetaboxFooter()&&this.createFooter()}return(0,o.A)(t,[{key:"shouldCreateMetaboxFooter",value:function(){var t=!1;if("trigger"==this.itemType){var e=(0,s.OY)("get",{filter:{itemType:"trigger"}});_uo.utility.isEmpty(e)&&UncannyAutomatorBackend._site.automator.is_pro_active&&"anonymous"!=UncannyAutomator._recipe.recipe_type||(t=!0)}if("action"==this.itemType){var n=(0,s.OY)("get",{filter:{itemType:"action"}});!this.hasLoops&&_uo.utility.isEmpty(n)&&_uo.utility.isEmpty(UncannyAutomator.recipe.conditions)||(t=!0)}return t}},{key:"createFooter",value:function(){var t=this,e=a()("<div/>",{class:"metabox__footer"}),n=document.createElement("uo-button");if(n.setAttribute("color","secondary"),("action"==this.itemType||"trigger"==this.itemType&&"user"==UncannyAutomator._recipe.recipe_type)&&e.append(n),"trigger"==this.itemType&&("user"==UncannyAutomator._recipe.recipe_type&&(n.innerText=_uo.utility.escHTML(wp.i18n.__("Add trigger","uncanny-automator"))),"anonymous"==UncannyAutomator._recipe.recipe_type)){var i=this.createAnonymousNotice();e.append(i)}"action"==this.itemType&&(n.innerText=_uo.utility.escHTML(wp.i18n.__("Add action","uncanny-automator")),e.addClass("add-action-btn")),"action"==this.itemType&&e.get(0).insertAdjacentHTML("beforeEnd",'\n\t\t\t\t<uo-button-dropdown class="uap-metabox-footer-buttons">\n\t\t\t\t\t<uo-button \n\t\t\t\t\t\tslot="target" \n\t\t\t\t\t\tcolor="secondary"\n\t\t\t\t\t>\n\t\t\t\t\t\t'.concat(_uo.utility.escHTML(wp.i18n.__("Add","uncanny-automator")),' <uo-icon id="angle-down"></uo-icon>\n\t\t\t\t\t</uo-button>\n\n\t\t\t\t\t<ua-builder-conditions-add-button\n\t\t\t\t\t\tcolor="transparent"\n\t\t\t\t\t>\n\t\t\t\t\t\t').concat(_uo.utility.escHTML(wp.i18n.__("Filter","uncanny-automator")),'\n\t\t\t\t\t</ua-builder-conditions-add-button>\n\n\t\t\t\t\t<uap-builder-loop-add-user-loop\n\t\t\t\t\t\tcolor="transparent"\n\t\t\t\t\t></uap-builder-loop-add-user-loop>\n\n\t\t\t\t\t<uap-builder-loop-add-post-loop\n\t\t\t\t\t\tcolor="transparent"\n\t\t\t\t\t></uap-builder-loop-add-post-loop>\n\n\t\t\t\t\t<uap-builder-loop-add-token-loop\n\t\t\t\t\t\t\tparent-id=').concat(UncannyAutomator._recipe.recipe_id,'\n\t\t\t\t\t\tcolor="transparent"\n\t\t\t\t\t></uap-builder-loop-add-token-loop>\n\t\t\t\t</uo-button-dropdown>\n\t\t\t')),("trigger"==this.itemType&&"user"==UncannyAutomator._recipe.recipe_type||"action"==this.itemType)&&n.addEventListener("click",(function(){new c.A,new u.A(t.itemType)})),(0,s.G6)("metabox",{type:this.itemType}).append(e)}},{key:"createAnonymousNotice",value:function(){return a()('\n\t\t\t<div class="description">\n\t\t\t\t'.concat(_uo.utility.escHTML(wp.i18n.__("This recipe type supports one trigger per recipe.","uncanny-automator")),' <a href="').concat(_uo.utility.addParametersUTM("https://automatorplugin.com/knowledge-base/managing-triggers/",{medium:"anonymous_recipe_one_trigger",content:"learn_more"}),'" target="_blank">').concat(_uo.utility.escHTML(wp.i18n.__("Learn more","uncanny-automator")),' <uo-icon id="external-link"></uo-icon></a>\n\t\t\t</div>\n\t\t'))}},{key:"hasLoops",get:function(){return UncannyAutomator._recipe.actions.items.filter((function(t){return"loop"===t.type})).length>0}}]),t}()},4248:(t,e,n)=>{"use strict";n.d(e,{A:()=>K});var i,o,r,a,s,u,c,l,d,p,f,h,m,y,g=n(3029),_=n(2901),v=n(1669),b=n.n(v),w=n(8514),A=n(6080),k=n(9036),T=n(5034),E=n(3661),D=n(9986),M=n(4727),C=n(2743),x=n(2284),L=n(296),S=n(5458),I=n(7528),O=n(9417),j=n(5361),U=n(6822),P=n(3954),H=n(2618),F=n(2777),$=n(2997),R=n.n($);function q(t){var e=V();return function(){var n,i=(0,P.A)(t);if(e){var o=(0,P.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,U.A)(this,n)}}function V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(V=function(){return!!t})()}function N(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function W(t){var e=function(t){if("object"!=(0,x.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,x.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,x.A)(e)?e:e+""}function B(t,e,n){"symbol"==(0,x.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function z(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,x.A)(t):"null"));return t}function G(t){return t}new(r=new WeakMap,u=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:B((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||B(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var L=t,S=m.length-1;S>=0;S-=n?2:1){var I=v(m[S],"A decorator","be",!0),O=n?m[S-1]:void 0,j={},U={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,j)};if(b)s=I.call(O,L,U),j.v=1,v(s,"class decorators","return")&&(L=s);else if(U.static=c,U.private=l,s=U.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),L=I.call(O,w?{get:D.get,set:D.set}:D[C],U),j.v=1,w){if("object"==(0,x.A)(L)&&L)(s=v(L.get,"accessor.get"))&&(D.get=s),(s=v(L.set,"accessor.set"))&&(D.set=s),(s=v(L.init,"accessor.init"))&&M.unshift(s);else if(void 0!==L)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(L,(d?"field":"method")+" decorators","return")&&(d?M.unshift(L):D[C]=L)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),L}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},(p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:W(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return z(e)===t}:undefined)}}})(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(o=function(t){(0,j.A)(n,t);var e=q(n);function n(){var t,i,o,a;(0,g.A)(this,n);for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];return t=e.call.apply(e,[this].concat(u)),i=(0,O.A)(t),o=r,a=f((0,O.A)(t)),function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(i,o),o.set(i,a),t.config=(h((0,O.A)(t)),{key:"",args:[],url:!1}),t}return(0,_.A)(n,[{key:"item",get:function(){return(t=r).get(N(t,this));var t},set:function(t){var e,n;n=t,(e=r).set(N(e,this),n)}},{key:"render",value:function(){var t=_uo.utility.escHTML(wp.i18n.__("This item was disabled because it could not be found on the system. To re-enable, ensure the associated plugin is installed and activated.","uncanny-automator"));return""===UncannyAutomator._site.permalink_structure&&(t=_uo.utility.escHTML(wp.i18n.__("This item was disabled because your Permalinks are not set correctly.","uncanny-automator"))),this._setCustomMessageConfig(),this._i18nKeyIsValid()&&(t=this._renderCustomMessage()),(0,H.qy)(a||(a=(0,I.A)(['\n\t\t\t<uo-alert type="warning">\n\t\t\t\t',"\n\t\t\t</uo-alert>\n\t\t"])),t)}},{key:"_renderCustomMessage",value:function(){var t,e=this.strings[this.config.key],n=(t=_uo.utility).sprintf.apply(t,[e.message].concat((0,S.A)(this.config.args))),i=this._isValid(this.config.url)?this.config.url:e.url;return(0,H.qy)(s||(s=(0,I.A)(["\n\t\t\t",'\n\t\t\t<uo-button\n\t\t\t\thref="','"\n\t\t\t\ttarget="_blank"\n\t\t\t\ttype="link"\n\t\t\t\tsize="extra-small"\n\t\t\t>\n\t\t\t\t',"\n\t\t\t</uo-button>\n\t\t"])),n,i,e.button)}},{key:"_setCustomMessageConfig",value:function(){var t=this.item,e=t.integrationCode,n=t.itemType,i=t.meta,o=!!this._isValid(i.type)&&i.type,r=!!UncannyAutomator._integrations.hasOwnProperty(e)&&UncannyAutomator._integrations[e];if(!_uo.utility.isEmpty(r)&&!_uo.utility.isEmpty(o)){var a="free"===o,s="pro"===o,u=UncannyAutomator._site.automator,c=u.has_account_connected,l=u.has_valid_pro_license,d=!!this._isValid(r.is_available)&&r.is_available;this.config.args=[n];var p={freeConnection:UncannyAutomator._site.automator.links.manage_license,proLicense:UncannyAutomator._site.automator.links.manage_license,proRequired:UncannyAutomatorBackend._site.automator.links.external.url_upgrade_to_pro,pluginRequired:UncannyAutomator._site.automator.links.plugin_required_missing};if(this._isValid(r.is_app)){if(a&&!c)return this.config.key="freeConnection",void(this.config.url=p.freeConnection);if(s&&!l)return this.config.key=UncannyAutomatorBackend._site.automator.is_pro_active?"proLicense":"proRequired",void(this.config.url=p.proLicense);var f=this._isValid(r.miscellaneous)?r.miscellaneous:{};return"success"!==(!!this._isValid(f.is_app_connected)&&f.is_app_connected)&&this._isValid(f.url_settings_page)?(this.config.key="appConnection",void(this.config.url=f.url_settings_page)):void 0}if("trigger"===n||"action"===n){if(s&&!UncannyAutomatorBackend._site.automator.is_pro_active)return this.config.key="proRequired",void(this.config.url=p.proRequired);if(!d)return this.config.key="pluginRequired",this.config.args=[n,r.name],void(this.config.url=p.pluginRequired)}}}},{key:"_isValid",value:function(t){return _uo.utility.isDefined(t)&&!_uo.utility.isEmpty(t)}},{key:"_i18nKeyIsValid",value:function(){return this._isValid(this.config.key)&&this.strings.hasOwnProperty(this.config.key)}},{key:"strings",get:function(){return{freeConnection:{message:_uo.utility.escHTML(wp.i18n.__("Please connect your account to use this %s.","uncanny-automator")),button:_uo.utility.escHTML(wp.i18n.__("Connect account","uncanny-automator"))},proLicense:{message:_uo.utility.escHTML(wp.i18n.__("Please enter your Automator Pro license key to use this %s.","uncanny-automator")),button:_uo.utility.escHTML(wp.i18n.__("Enter license key","uncanny-automator"))},proRequired:{message:_uo.utility.escHTML(wp.i18n.__("Automator Pro is required to use this %s.","uncanny-automator")),button:_uo.utility.escHTML(wp.i18n.__("Upgrade now","uncanny-automator"))},appConnection:{message:_uo.utility.escHTML(wp.i18n.__("App integration not connected. Please connect to use this %s.","uncanny-automator")),button:_uo.utility.escHTML(wp.i18n.__("Connect app","uncanny-automator"))},pluginRequired:{message:_uo.utility.escHTML(wp.i18n.__("This %1$s requires the %2$s plugin which is not currently activated.","uncanny-automator")),button:_uo.utility.escHTML(wp.i18n.__("Learn more","uncanny-automator"))}}}}]),n}(H.WF),[(0,F.EM)("uap-unsupported-notice")],[[(0,F.MZ)({type:Object,attribute:"item"}),1,"item"]],0,0,H.WF),c=(0,L.A)(u.e,2),f=c[0],h=c[1],l=(0,L.A)(u.c,2),y=l[0],p=l[1],m=o,(i=function(t){(0,j.A)(n,t);var e=q(n);function n(){var t;return(0,g.A)(this,n),(t=e.call(this,y)).styles=(0,H.AH)(d||(d=(0,I.A)(["",""])),(0,H.iz)(R())),(0,O.A)(t),p(),t}return(0,_.A)(n)}(G))[m]=void 0,i);var Y=function(){function t(e,n){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,g.A)(this,t);var r=(0,w.G6)("metabox",{type:e}).get(0),a=document.createElement("div");a.classList.add("uap-items"),_uo.utility.isDefined(o.wrapperClass)&&a.classList.add(o.wrapperClass),r.appendChild(a),n.forEach((function(t){a.append(i.createItem(t.id))}))}return(0,_.A)(t,[{key:"createItem",value:function(t){var e=UncannyAutomator.recipe.items[t],n=b()("<div/>",{class:"uap-item item","data-id":t});n[0].setAttribute("data-integration",e.integrationCode),n[0].setAttribute("data-item",e.itemCode),n[0].itemId=t,e.isMissing&&n.addClass("item--missing"),_uo.utility.isDefined(e.isSortable)&&e.isSortable&&n.get(0).classList.add("uap-item--sortable"),_uo.utility.isEmpty(e.meta.async_mode)?n.get(0).classList.add("uap-item--instant"):"delay"===e.meta.async_mode?n.get(0).classList.add("uap-item--delayed"):n.get(0).classList.add("uap-item--scheduled");var i=this.createInner(t);return n.append(i),this.createNotice(e,n),n.on("automator:item:open",(function(t,e){var i=n.find(".item-async");b()(i[0]).trigger("automator:asyncButton:maybeDisable",e)})),n.get(0)}},{key:"createInner",value:function(t){var e=UncannyAutomator.recipe.items[t],n=e.isMissing?null:e.integrationCode,i={$sentence:new D.A(e.itemType,n,e.itemCode,t),$icon:new k.A(n),$integrationNameTag:new T.A({integrationId:n,customIntegrationName:e.integrationName}),$actionMenu:new A.A(e.itemType,n,e.itemCode,t),buttons:[]};if((0,M.$Q)(t)){var o=UncannyAutomator._core.recipe.item.getItem(e.itemType,t),r=document.createElement("div");r.classList.add("uap-item-button"),r.innerHTML='\n\t\t\t\t<ua-builder-conditions-add-button\n\t\t\t\t\tsize="extra-small"\n\t\t\t\t\taction-id="'.concat(t,'"\n\t\t\t\t\tparent-id="').concat(o.miscellaneous.parent_id,'"\n\t\t\t\t>\n\t\t\t\t\t<uo-icon id="code-merge"></uo-icon> ').concat(_uo.utility.escHTML(wp.i18n.__("Filter","uncanny-automator")),"\n\t\t\t\t</ua-builder-conditions-add-button>\n\t\t\t"),i.buttons.push(r)}var a=new E.A(e.itemType,n,e.itemCode,t);a.shouldAddButton()&&i.buttons.push(a.$button);var s=document.createElement("div");if(s.classList.add("uap-item-inner"),s.insertAdjacentHTML("beforeEnd",'\n\t\t\t<div class="uap-item-sidebar"></div>\n\t\t\t<div class="uap-item-top-header">\n\t\t\t\t<div class="uap-item-top-header-left"></div>\n\t\t\t\t<div class="uap-item-top-header-right"></div>\n\t\t\t</div>\n\t\t\t<div class="uap-item-main"></div>\n\t\t\t<div class="uap-item-inner-content"></div>\n\t\t'),(0,C.h$)({actionID:e.id})){var u=document.createElement("div");u.classList.add("uap-item-drag-handle"),u.innerHTML='<uo-icon id="bars"></uo-icon>',s.insertAdjacentElement("afterBegin",u)}return s.querySelector(".uap-item-sidebar").appendChild(i.$icon),s.querySelector(".uap-item-top-header-left").appendChild(i.$integrationNameTag),s.querySelector(".uap-item-top-header-right").appendChild(i.$actionMenu.get(0)),s.querySelector(".uap-item-main").appendChild(i.$sentence.get(0)),i.buttons.forEach((function(t){s.querySelector(".uap-item-top-header-right").appendChild(t)})),_uo.utility.isDefined(e.shouldShowItemId)&&e.shouldShowItemId&&s.querySelector(".uap-item-top-header-left").appendChild(this.$createItemID(t)),s}},{key:"createNotice",value:function(t,e){if(t.isMissing){var n=document.createElement("uap-unsupported-notice");n.item=t,e.append(n)}}},{key:"$createItemID",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=document.createElement("div");return e.classList.add("uap-item-id"),e.innerText=sprintf("#%1$s",t),e}}]),t}();const K=Y},5662:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var i=n(3029),o=n(2901),r=n(9622);n(1669);const a=function(){function t(){(0,i.A)(this,t),UncannyAutomator.recipe.errorMode&&this.createError()}return(0,o.A)(t,[{key:"createError",value:function(){_uo.utility.isEmpty(UncannyAutomator.recipe.message.error)||(0,r.Q)(UncannyAutomator.recipe.message.error)}}]),t}()},9143:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Tokens});var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(296),_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(5458),_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3029),_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2901),_builder_legacy_integrations_utilities__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2450),_token_token__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(2324),_token_loopable_token__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(691),_token_universal_token__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5552),Tokens=function(){function Tokens(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.A)(this,Tokens),this.setData(),this.saveData(t,e,n)}return(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__.A)(Tokens,[{key:"setData",value:function(){}},{key:"saveData",value:function(t,e,n){this.itemType=t,this.fieldType=e,this.options=Object.assign({includeGroupName:!0,includeGroupIcon:!0,includeGroupTokens:!0,unsupportedTokens:[]},n),this.tokensThatRequireUser=[]}},{key:"tokens",get:function(){var t,e=[],n=this.getLoopTokens();n.tokens.length>0&&e.push(n),(t=e).push.apply(t,(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__.A)(this.getUniversalTokens()));var i=this.getTriggersTokens();if(e=[].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__.A)(e),(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__.A)(i)),!["trigger","user-selector"].includes(this.itemType)){var o=this.getActionsTokens();e=[].concat((0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__.A)(e),(0,_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_3__.A)(o))}return e}},{key:"filterUnsupportedTokens",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _uo.utility.isEmpty(this.options.unsupportedTokens)||(e=e.filter((function(e){return!t.options.unsupportedTokens.includes(e.id)}))),e}},{key:"getUniversalTokens",value:function(){var t=this,e=[],n=UncannyAutomator._core.directory.integrations.filterIntegrations([UncannyAutomator._core.directory.integrations._filters.hasUniversalTokens]);return _uo.utility.isEmpty(n)?[]:(_uo.utility.sortArray.alphabetically(Object.entries(n),"[1].name").forEach((function(n){var i=(0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_4__.A)(n,2),o=i[0],r=i[1],a={id:o,name:r.name,tokens:[]};t.options.includeGroupIcon&&(a.icon=document.createElement("img"),a.icon.src=(0,_builder_legacy_integrations_utilities__WEBPACK_IMPORTED_MODULE_5__.A)({integrationCode:o})),a.tokens=t.filterUnsupportedTokens(r.tokens.map((function(e){return e.requiresUser&&t.tokensThatRequireUser.push(e.id),t.createTokenObject(e,a)})).filter((function(t){return void 0!==t}))),a.tokens.length>0&&e.push(a)})),e)}},{key:"getLoopTokens",value:function(){var t=this,e={id:"LOOP",tokens:[]};if(_uo.utility.isEmpty(this.options.itemID))return e;if("loop-filter"===this.itemType)return e;var n=UncannyAutomator._core.recipe.item.loop.getParentLoop(this.options.itemID);return _uo.utility.isEmpty(n)||_uo.utility.isEmpty(n.tokens)||(this.options.includeGroupName&&(e.name=_uo.utility.escHTML(wp.i18n.__("Loop","uncanny-automator"))),this.options.includeGroupIcon&&(e.icon=document.createElement("uo-icon"),e.icon.setAttribute("id","repeat")),this.options.includeGroupTokens&&n.tokens.forEach((function(n){var i={id:n.id,type:n.data_type,name:n.name,cacheable:!0,requiresUser:!1};e.tokens.push(t.createTokenObject(i,e))})),e.tokens=e.tokens.filter((function(t){return void 0!==t})),e.tokens=this.filterUnsupportedTokens(e.tokens),e.tokens.forEach((function(e){e.requiresUser&&t.tokensThatRequireUser.push(e.id)}))),e}},{key:"getTriggersTokens",value:function(){var t=this,e=[];return UncannyAutomator._core.recipe.item.getItemsTriggers().forEach((function(n){var i=t.getItemTokens(n);(i.tokens.length>0||!t.options.includeGroupTokens)&&e.push(i)})),e}},{key:"getActionsTokens",value:function(){var t=this,e=[],n=["condition","action","closure","loop","loop-filter"].includes(this.itemType),i=!_uo.utility.isEmpty(this.options.itemID);return(n&&i?UncannyAutomator._core.recipe.item.getItemsActions({beforeActionID:this.options.itemID,exclude:[this.options.itemID]}):UncannyAutomator._core.recipe.item.getItemsActions()).forEach((function(n){var i=t.getItemTokens(n);(i.tokens.length>0||!t.options.includeGroupTokens)&&e.push(i)})),e}},{key:"getItemTokens",value:function getItemTokens(item){var _this6=this,tokensGroup={id:item.code,integrationId:item.integration_code,itemID:item.id,itemType:item.type};if(this.options.includeGroupName){var _itemDirectory$senten,itemDirectory=UncannyAutomator._core.directory.items.getItem(item.integration_code,item.type,item.code),_item$backup;null!=itemDirectory&&null!==(_itemDirectory$senten=itemDirectory.sentence)&&void 0!==_itemDirectory$senten&&_itemDirectory$senten.dynamic?tokensGroup.name=itemDirectory.sentence.dynamic:tokensGroup.name=null==item||null===(_item$backup=item.backup)||void 0===_item$backup?void 0:_item$backup.sentence}if(this.options.includeGroupIcon){var $icon=document.createElement("img");$icon.src=(0,_builder_legacy_integrations_utilities__WEBPACK_IMPORTED_MODULE_5__.A)({integrationCode:item.integration_code}),tokensGroup.icon=$icon}if(this.options.includeGroupTokens){var itemTokens=[];if(item.tokens&&(item.tokens.forEach((function(t){itemTokens.push(_this6.createTokenObject({id:t.id,type:"loopable"===t.token_type?"loopable":t.data_type,name:t.name,cacheable:!0,itemID:item.id},tokensGroup))})),itemTokens=itemTokens.filter((function(t){return void 0!==t}))),tokensGroup.tokens=itemTokens,tokensGroup.tokens=this.filterUnsupportedTokens(tokensGroup.tokens),!_uo.utility.isEmpty(item.filterTokens))try{var filterTokens=eval("(".concat(item.filterTokens.replace("<script>","").replace("<\/script>","").trim(),")"));itemTokens=filterTokens(tokensGroup,item)}catch(t){UncannyAutomator._site.has_debug_enabled&&(console.warn(t),console.log(item.filterTokens))}}return tokensGroup}},{key:"createTokenObject",value:function(t,e){var n;if(null!==(n=this.options)&&void 0!==n&&n.onlyLoopableTokens){var i;if("loopable"===t.type)return new _token_loopable_token__WEBPACK_IMPORTED_MODULE_6__.A(t);if(null!==(i=this.options)&&void 0!==i&&i.forceShowBothLoopableAndNonLoopable)return _uo.utility.isEmpty(t.fields)?new _token_token__WEBPACK_IMPORTED_MODULE_7__.A(t):new _token_universal_token__WEBPACK_IMPORTED_MODULE_0__.A(t.id)}else{var o;if("loopable"!==t.type)return _uo.utility.isEmpty(t.fields)?new _token_token__WEBPACK_IMPORTED_MODULE_7__.A(t):new _token_universal_token__WEBPACK_IMPORTED_MODULE_0__.A(t.id);if(null!==(o=this.options)&&void 0!==o&&o.forceShowBothLoopableAndNonLoopable)return new _token_loopable_token__WEBPACK_IMPORTED_MODULE_6__.A(t)}}},{key:"filterTokensByType",value:function(t){var e=this;return _uo.utility.isDefined(this.fieldType)&&(["text","textarea","url"].includes(this.fieldType)||(t=t.filter((function(t){var n=t.type;return"float"==e.fieldType&&"int"==n&&(n="float"),e.fieldType==n})))),t}},{key:"createTokenDOMNode",value:function(t){var e=null,n=this.getTokenDataByID(t);if(_uo.utility.isDefined(n)){if(_uo.utility.isDefined(UncannyAutomator._cache.tokens[n.id]))e=UncannyAutomator._cache.tokens[n.id];else{(e=document.createElement("span")).classList.add("uap-token");var i=document.createElement("span");i.classList.add("uap-token__icon"),i.appendChild(n.group.icon.cloneNode()),e.appendChild(i);var o=document.createElement("span");if(o.classList.add("uap-token__name"),o.innerHTML=n.name,e.appendChild(o),_uo.utility.isDefined(n.itemID)){var r=UncannyAutomator.recipe.items[n.itemID];if(r.shouldShowItemId&&o.insertAdjacentHTML("afterBegin",'<span class="uap-token__id">'.concat(_uo.utility.sprintf("#%s: ",n.itemID),"</span>")),"action"===r.itemType){e.classList.add("uap-token--action");var a=document.createElement("span");if(a.classList.add("uap-token__flags"),r.hasConditions&&(e.classList.add("uap-token--action-conditions","uap-token--warning"),a.insertAdjacentHTML("beforeEnd",'<uo-icon id="code-merge" slot="target"></uo-icon>')),_uo.utility.isDefined(this.Field)&&_uo.utility.isDefined(this.Field.attributes.itemId)&&_uo.utility.isDefined(UncannyAutomator.recipe.items[this.Field.attributes.itemId])&&(this.destinationItemID=this.Field.attributes.itemId),_uo.utility.isDefined(this.destinationItemID)&&_uo.utility.isDefined(UncannyAutomator.recipe.items[this.destinationItemID])&&"action"===UncannyAutomator.recipe.items[this.destinationItemID].itemType){var s=UncannyAutomator.recipe.items[this.destinationItemID];r.isScheduled&&!s.isScheduled&&(e.classList.add("uap-token--action-scheduled","uap-token--warning"),a.insertAdjacentHTML("beforeEnd",'<uo-icon id="clock" slot="target"></uo-icon>')),r.isDelayed&&!s.isDelayed&&(e.classList.add("uap-token--action-delayed","uap-token--warning"),a.insertAdjacentHTML("beforeEnd",'<uo-icon id="clock" slot="target"></uo-icon>')),r.isDelayedCustom&&!s.isDelayedCustom&&(e.classList.add("uap-token--action-delayed","uap-token--warning"),a.insertAdjacentHTML("beforeEnd",'<uo-icon id="clock" slot="target"></uo-icon>'))}e.append(a)}}n.cacheable&&(UncannyAutomator._cache.tokens[n.id]=e)}e=e.cloneNode(!0)}else{(e=document.createElement("span")).classList.add("uap-token","uap-token--invalid");var u=document.createElement("uo-icon");u.setAttribute("id","exclamation-triangle"),e.appendChild(u);var c=document.createElement("span");c.classList.add("uap-token__name"),c.innerHTML=t,e.appendChild(c)}return e}},{key:"getTokenDataByID",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=null;return _uo.utility.isEmpty(t)||this.tokens.some((function(n){return e=n.tokens.reduce((function(e,n){return _uo.utility.isDefined(n.is)?n.is(t)?n:e:n.id==t?n:e}),null),!!_uo.utility.isDefined(e)&&(_uo.utility.isDefined(e)&&_uo.utility.isDefined(e.getVariation)&&(e=e.getVariation(t)),e.group={id:n.id,name:n.name,icon:n.icon},!0)})),e}},{key:"renderTextWithTokens",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Object.assign({template:"",parseTokensInAttributes:!0,returnString:!1,wrapperClass:"uap-text-with-tokens"},e);var n=this.recursivelyReplaceTokens(t,e);return this.returnBasedOnOption(n,e)}},{key:"recursivelyReplaceTokens",value:function(t,e){var n=this,i=_uo.utility.getTokenIDsFromString(t,e.parseTokensInAttributes);if(0===i.length)return t;var o=t;return i.forEach((function(t){var i=n.createTokenDOMNode(t).outerHTML;e.template&&(i=_uo.utility.sprintf(e.template,i,t)),o=o.replace("{{".concat(t,"}}"),i)})),this.recursivelyReplaceTokens(o,e)}},{key:"returnBasedOnOption",value:function(t,e){if(e.returnString)return t;var n=document.createElement("span");return n.classList.add(e.wrapperClass),n.innerHTML=t,n}}]),Tokens}()},691:(t,e,n)=>{"use strict";n.d(e,{A:()=>l});var i=n(2901),o=n(3029),r=n(5361),a=n(6822),s=n(3954);function u(t){var e=c();return function(){var n,i=(0,s.A)(t);if(e){var o=(0,s.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,a.A)(this,n)}}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(c=function(){return!!t})()}const l=function(t){(0,r.A)(n,t);var e=u(n);function n(t){var i=t.id,r=t.type,a=void 0===r?"text":r,s=t.name,u=t.cacheable,c=void 0===u||u,l=t.requiresUser,d=void 0!==l&&l,p=t.options,f=void 0===p?{}:p,h=t.itemID;return(0,o.A)(this,n),e.call(this,{id:i,type:a,name:s,cacheable:c,requiresUser:d,options:f,itemID:h})}return(0,i.A)(n)}(n(2324).A)},2324:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var i=n(3029),o=n(2901);const r=function(){function t(e){var n=e.id,o=e.type,r=void 0===o?"text":o,a=e.name,s=e.cacheable,u=void 0===s||s,c=e.requiresUser,l=void 0!==c&&c,d=e.options,p=void 0===d?{}:d,f=e.itemID;(0,i.A)(this,t),this.id=n,this.type=this.typeCasting(n,r),this.name=a,this.cacheable=u,this.requiresUser=l,this.options=p,this.itemID=f}return(0,o.A)(t,[{key:"is",value:function(t){return t==this.id}},{key:"typeCasting",value:function(t,e){return t.endsWith("_ID")?"int":t.endsWith("_DATE")?"date":t.endsWith("_TIME")?"time":t.endsWith("_URL")?"url":t.endsWith("_EMAIL")?"email":e}}]),t}()},5552:(t,e,n)=>{"use strict";n.d(e,{A:()=>f});var i,o=n(5458),r=n(7528),a=n(4467),s=n(3029),u=n(2901),c=n(2618),l=n(9143);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){(0,a.A)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const f=function(){function t(e){(0,s.A)(this,t),this._prefix="UT",this.id=e}return(0,u.A)(t,[{key:"beforeAdded",value:function(t,e){var n=this;this.renderOptions((function(e){t(p(p({},n.directoryData),{id:e.updatedID}))}))}},{key:"renderOptions",value:function(t){var e=this,n=document.createElement("div");document.body.append(n),(0,c.XX)((0,c.qy)(i||(i=(0,r.A)(["\n\t\t\t\t<uap-builder-item-token-edit-dialog\n\t\t\t\t\ttoken-code=","\n\t\t\t\t\tintegration-code=","\n\t\t\t\t\t.fields=","\n\n\t\t\t\t\t@uap-builder-item-token-saved-successfully=","\n\t\t\t\t></uap-builder-item-token-edit-dialog>\n\t\t\t"])),this.tokenCode,this.integrationCode,this.fieldsFromID,(function(n){t({updatedID:e.createUpdatedID(n.detail.unsavedFieldValues)})})),n)}},{key:"createUpdatedID",value:function(t){var e=this,n=[this._prefix,this.integrationCode,this.tokenCode],i=this.directoryData.idTemplate.split(":").map((function(n){var i;return t.hasOwnProperty(n)?t[n].value:(null===(i=e.fieldsFromID[n])||void 0===i?void 0:i.value)||""}));return[].concat(n,(0,o.A)(i)).join(":")}},{key:"dynamicTokenName",get:function(){if(!this.directoryData.nameTemplate)return this.directoryData.name;var t=this.fieldsFromID;return this.directoryData.nameTemplate.replace(/\{\{(\w+)\}\}/g,(function(e,n){var i=_uo.utility.isDefined(t[n])?t[n].value:e;return(new l.A).renderTextWithTokens(i,{returnString:!0})}))}},{key:"integrationCode",get:function(){return _uo.utility.getTokenParts(this.id)[1]}},{key:"tokenCode",get:function(){return _uo.utility.getTokenParts(this.id)[2]}},{key:"directoryData",get:function(){return UncannyAutomator._core.directory.items.token.getUniversalToken(this.integrationCode,this.tokenCode)}},{key:"fieldsFromID",get:function(){if(!this.directoryData.idTemplate)return{};var t=_uo.utility.getTokenParts(this.id).slice(3),e={};return this.directoryData.idTemplate.split(":").forEach((function(n,i){var o=n;i<t.length&&(e[o]={value:t[i]})})),e}},{key:"is",value:function(t){return t.startsWith("".concat(this._prefix,":").concat(this.integrationCode,":").concat(this.tokenCode))}},{key:"getVariation",value:function(e){return new t(e)}},{key:"name",get:function(){return _uo.utility.isEmpty(this.fieldsFromID)?this.directoryData.name:this.dynamicTokenName}},{key:"requiresUser",get:function(){return this.directoryData.requiresUser}}]),t}()},5197:(t,e,n)=>{"use strict";n.d(e,{G:()=>r});var i=n(296),o=n(9143);const r=function(t){var e=t.dynamicSentence,n=void 0===e?"":e,r=t.fields,a=void 0===r?{}:r,s=t.itemID,u=t.abbreviateFields,c=void 0!==u&&u,l=document.createElement("span");l.classList.add("uap-dynamic-sentence"),l.setAttribute("dir","auto");var d=new RegExp(/\{\{(.*?)(?:\:(.*?)(?:\:(.*?))?)?\}\}/gm),p=new o.A(null,"text",{itemID:s,forceShowBothLoopableAndNonLoopable:!0});return n=n.replaceAll(d,(function(t,e,n,i){var o=document.createElement("span");return o.classList.add("uap-dynamic-sentence-pill"),o.innerText=e,_uo.utility.isEmpty(n)||o.setAttribute("data-field",n),_uo.utility.isEmpty(i)||o.setAttribute("data-field-group",i),o.outerHTML})),l.innerHTML=n,Object.entries(a).forEach((function(t){var e=(0,i.A)(t,2),n=e[0],o=e[1],r=l.querySelector('span[data-field="'.concat(n,'"]'));if(_uo.utility.isDefined(r)){_uo.utility.isDefined(a["".concat(n,"_readable")])&&(o=a["".concat(n,"_readable")]),r.innerText="",_uo.utility.isDefined(a["".concat(n,"_label")])&&r.insertAdjacentHTML("afterBegin",'<span class="uap-dynamic-sentence-pill-label">'.concat(a["".concat(n,"_label")],": </span>")),r.classList.add("uap-dynamic-sentence-pill--filled");try{r.appendChild(o)}catch(t){if(_uo.utility.isEmpty(o))r.insertAdjacentHTML("beforeEnd",'<em class="uap-empty-value">'.concat(_uo.utility.escHTML(wp.i18n.__("(empty)","uncanny-automator")),"</em>"));else{c&&(o=_uo.utility.abbreviateText(o));try{var u=p.renderTextWithTokens(o,{itemID:s});r.appendChild(u)}catch(t){r.insertAdjacentHTML("beforeEnd",o)}}}}})),l.childNodes.forEach((function(t){if(t.nodeType===Node.TEXT_NODE){var e=document.createElement("span");e.classList.add("uap-dynamic-sentence-plain"),l.insertBefore(e,t),e.appendChild(t)}})),l}},7431:(t,e,n)=>{"use strict";n.d(e,{d8:()=>u,jr:()=>c,uG:()=>s});var i=n(1669),o=n.n(i),r=n(8514),a=n(5571);function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n={isValid:!1};if(_uo.utility.isDefined(t)){var i=UncannyAutomator.recipe.items[t];i.isMissing||_uo.utility.isEmpty(i)||(n.isValid=i.isValid,i.isValid||((0,r.G6)("item",{id:t}).item.addClass("item--error"),o().each(i.options,(function(e,n){if(!n.isValid){var i=(0,r.G6)("optionGroup",{itemID:t,groupID:e});i.tokenInSentence.addClass("item-title__token--error item-title__token--error-shake"),i.fieldsContainer.addClass("item-options__group--error"),i.optionsContainer.addClass("item-options--error"),setTimeout((function(){i.tokenInSentence.removeClass("item-title__variable--error-shake")}),1e3),_uo.utility.isDefined(i.optionsContainer)&&u(i.optionsContainer)}}))))}else n.isValid=!1,_uo.utility.isEmpty(e)&&console.error("Neither itemID nor the $item are defined. One of them must be defined.");return n}function u(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={isValid:!1},i=t.find('\n\t\tinput.form-element__input[data-is-child-field="'.concat(e?"true":"false",'"],\n\t\ttextarea.form-element__textarea[data-is-child-field="').concat(e?"true":"false",'"],\n\t\tselect.form-element__select[data-is-child-field="').concat(e?"true":"false",'"],\n\t\t.form-checkbox input,\n\t\t.form-radio,\n\t\tuo-field-input-file')),r=!0;return i.each((function(){var e=o()(this),n=(e.data("type"),{});if(e.hasClass("form-radio")){var i=e.find("input").first(),a=e.find("input:checked");n={field_type:"radio",value:a.length>0?a.val():"",attributes:{supportsTokens:i.data("supportstokens"),required:i.data("required")}}}else e.hasClass("form-element__select")?n={field_type:"select",value:e.val(),attributes:{supportsTokens:e.data("supportstokens"),required:e.data("required"),supportsCustomValue:e.data("supports-custom-value")}}:e.is("uo-field-input-file")?n={field_type:"file",value:e.get(0).value,attributes:{supportsMultipleValues:e.get(0).multiple,fileTypes:e.get(0).fileTypes,required:e.get(0).required}}:("textarea"===(n={field_type:e.data("type"),value:e.val(),attributes:{supportsTokens:e.data("supportstokens"),required:e.data("required")}}).field_type&&(n.attributes.supportsFullPageEditing=e.data("supportsfullpageediting")),["int","float"].includes(n.field_type)&&(_uo.utility.isEmpty(e.data("min"))||isNaN(parseFloat(e.data("min")))||(n.attributes.minNumber=parseFloat(e.data("min"))),_uo.utility.isEmpty(e.data("max"))||isNaN(parseFloat(e.data("max")))||(n.attributes.maxNumber=parseFloat(e.data("max")))));n.attributes.isHidden=e.closest(".form-element--hidden").length>0,"checkbox"==n.field_type&&(n.value=e.is(":checked")),c(e,n.field_type,n.value,n.attributes).isValid||(r=!1,t.addClass("item-options--error"))})),n.isValid=r,n}function c(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{supportsTokens:!1,required:!1,supportsFullPageEditing:!1,isHidden:!1},s=arguments.length>4?arguments[4]:void 0,c={isValid:!1,message:""},d=a.s,p={select:{empty:_uo.utility.escHTML(wp.i18n.__("Please select a value from the dropdown list.","uncanny-automator")),invalid:_uo.utility.escHTML(wp.i18n.__("Please select a valid option.","uncanny-automator"))},text:{empty:_uo.utility.escHTML(wp.i18n.__("Please fill out this field.","uncanny-automator")),invalid:_uo.utility.escHTML(wp.i18n.__("Please fill out this field with a valid value.","uncanny-automator"))},textarea:{empty:_uo.utility.escHTML(wp.i18n.__("Please fill out this field.","uncanny-automator")),invalid:_uo.utility.escHTML(wp.i18n.__("Please fill out this field with a valid value.","uncanny-automator"))},int:{empty:_uo.utility.escHTML(wp.i18n.__("Please enter a number.","uncanny-automator")),invalid:_uo.utility.escHTML(wp.i18n.__("Please enter a valid whole number (no decimal places).","uncanny-automator")),multipleTokens:_uo.utility.escHTML(wp.i18n.__("This field only supports one token at a time.","uncanny-automator")),minValue:_uo.utility.escHTML(wp.i18n.__("Value must be greater than or equal to %1$s","uncanny-automator")),maxValue:_uo.utility.escHTML(wp.i18n.__("Value must be less than or equal to %1$s","uncanny-automator"))},float:{empty:_uo.utility.escHTML(wp.i18n.__("Please enter a number.","uncanny-automator")),invalid:_uo.utility.escHTML(wp.i18n.__("Please enter a valid number.","uncanny-automator")),multipleTokens:_uo.utility.escHTML(wp.i18n.__("This field only supports one token at a time.","uncanny-automator")),minValue:_uo.utility.escHTML(wp.i18n.__("Value must be greater than or equal to %1$s","uncanny-automator")),maxValue:_uo.utility.escHTML(wp.i18n.__("Value must be less than or equal to %1$s","uncanny-automator"))},email:{empty:_uo.utility.escHTML(wp.i18n.__("Please enter an email address.","uncanny-automator")),single:{invalid:_uo.utility.escHTML(wp.i18n.__("Please enter a valid email address.","uncanny-automator")),multipleTokens:_uo.utility.escHTML(wp.i18n.__("This field only supports one token per email.","uncanny-automator"))},multiple:{invalid:_uo.utility.escHTML(wp.i18n.__("Please enter a list of valid email addresses.","uncanny-automator")),multipleTokens:_uo.utility.escHTML(wp.i18n.__("This field only supports one token per email.","uncanny-automator"))}},url:{empty:_uo.utility.escHTML(wp.i18n.__("Please enter a URL.","uncanny-automator")),invalid:_uo.utility.escHTML(wp.i18n.__("Please enter a valid URL.","uncanny-automator"))},checkbox:{empty:_uo.utility.escHTML(wp.i18n.__("Please check this checkbox.","uncanny-automator")),invalid:_uo.utility.escHTML(wp.i18n.__("Please select valid options.","uncanny-automator"))},radio:{empty:_uo.utility.escHTML(wp.i18n.__("Please select one option.","uncanny-automator")),invalid:_uo.utility.escHTML(wp.i18n.__("Please select a valid option.","uncanny-automator"))},date:{empty:_uo.utility.escHTML(wp.i18n.__("Please enter a date.","uncanny-automator")),invalid:_uo.utility.escHTML(wp.i18n.__("Please enter a valid date.","uncanny-automator"))},time:{empty:_uo.utility.escHTML(wp.i18n.__("Please enter a time.","uncanny-automator")),invalid:_uo.utility.escHTML(wp.i18n.__("Please enter a valid time.","uncanny-automator"))},file:{empty:_uo.utility.escHTML(wp.i18n.__("Please select a file.","uncanny-automator"))},invalidType:_uo.utility.escHTML(wp.i18n.__("Invalid field type.","uncanny-automator"))};if(i.isHidden)return c.isValid=!0,c;try{if("textarea"==e&&!_uo.utility.isEmpty(t)&&t.is(":not(:visible)")){var f=t.closest(".form-element");f.find(".switch-html").trigger("click"),n=t.val(),f.find(".switch-tmce").trigger("click")}}catch(t){UncannyAutomator._site.has_debug_enabled&&console.warn(t)}if((0,r.RV)(e,d)){if("checkbox"!=e||_uo.utility.isEmpty(n)||["true","false"].includes(n)&&(n="true"==n),i.required&&(_uo.utility.isEmpty(n)||"checkbox"==e&&!1===n))c.message=p[e].empty;else if(!i.required&&_uo.utility.isEmpty(n))c.isValid=!0;else if(""!=n){var h;switch(e){case"select":if(c.isValid=!0,i.supportsCustomValue&&(0,r.Bd)(n)){var m=t.closest(".form-element").find(".form-element-children");1==m.length&&(c.isValid=u(m,!0).isValid)}if(c.isValid&&_uo.utility.isDefined(s)){var y=s(n);c.isValid=y.isValid,y.isValid||(c.message=y.message)}break;case"text":case"textarea":if(c.isValid=!0,i.required&&"textarea"===e&&i.supportsFullPageEditing){var g=document.createElement("div");g.innerHTML=n;var _=g.innerText.trim();if(_uo.utility.isEmpty(_)){c.isValid=!1,c.message=p[e].empty;break}}if(_uo.utility.isDefined(s)){var v=s(n);c.isValid=v.isValid,v.isValid||(c.message=v.message)}break;case"int":var b=new RegExp(/^([+-]?[1-9]\d*|0)$/gm);if(h=l(n),i.supportsTokens&&h.length>0?1==h.length?c.isValid=!0:c.message=p.int.multipleTokens:(b.test(n)?c.isValid=!0:c.message=p.int.invalid,n=parseInt(n),!_uo.utility.isEmpty(i.minNumber)&&n<parseFloat(i.minNumber)&&(c.isValid=!1,c.message=sprintf(p.int.minValue,i.minNumber)),!_uo.utility.isEmpty(i.maxNumber)&&n>parseFloat(i.maxNumber)&&(c.isValid=!1,c.message=sprintf(p.int.maxValue,i.maxNumber))),c.isValid&&_uo.utility.isDefined(s)){var w=s(n,void 0);c.isValid=w.isValid,w.isValid||(c.message=w.message)}break;case"float":var A=new RegExp(/^[+-]?((\d+(\.|\,)?\d*)|(\.\d+))$/gm);if(h=l(n),i.supportsTokens&&h.length>0?1==h.length?c.isValid=!0:c.message=p.float.multipleTokens:(A.test(n)?c.isValid=!0:c.message=p.float.invalid,n=parseFloat(n),!_uo.utility.isEmpty(i.minNumber)&&n<parseFloat(i.minNumber)&&(c.isValid=!1,c.message=sprintf(p.int.minValue,i.minNumber)),!_uo.utility.isEmpty(i.maxNumber)&&n>parseFloat(i.maxNumber)&&(c.isValid=!1,c.message=sprintf(p.int.maxValue,i.maxNumber))),c.isValid&&_uo.utility.isDefined(s)){var k=s(n,void 0);c.isValid=k.isValid,k.isValid||(c.message=k.message)}break;case"email":var T=new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),E=[];n.includes(",")?(E=n.split(","),o().each(E,(function(t,e){E[t]=e.trim()}))):E.push(n.trim()),h=l(n);var D=!0,M=E.length>1;if(i.supportsTokens&&h.length>0){var C=!1;o().each(E,(function(t,e){if(!((h=l(e)).length<=1))return C=!0,!1})),D&&!C?c.isValid=!0:c.message=C?M?p.email.multiple.multipleTokens:p.email.single.multipleTokens:M?p.email.multiple.invalid:p.email.single.invalid}else o().each(E,(function(t,e){T.test(e)||(D=!1)})),D?c.isValid=!0:c.message=M?p.email.multiple.invalid:p.email.single.invalid;if(c.isValid&&_uo.utility.isDefined(s)){var x=s(n,void 0);c.isValid=x.isValid,x.isValid||(c.message=x.message)}break;case"url":if(c.isValid=!0,c.isValid&&_uo.utility.isDefined(s)){var L=s(n);c.isValid=L.isValid,L.isValid||(c.message=L.message)}break;case"checkbox":if(c.isValid=!0,_uo.utility.isDefined(s)){var S=s(n);c.isValid=S.isValid,S.isValid||(c.message=S.message)}break;case"radio":if(c.isValid=!0,_uo.utility.isDefined(s)){var I=s(n);c.isValid=I.isValid,I.isValid||(c.message=I.message)}break;case"date":if(c.isValid=!0,_uo.utility.isDefined(s)){var O=s(n);c.isValid=O.isValid,O.isValid||(c.message=O.message)}break;case"time":if(c.isValid=!0,_uo.utility.isDefined(s)){var j=s(n);c.isValid=j.isValid,j.isValid||(c.message=j.message)}break;case"file":if(c.isValid=!0,_uo.utility.isDefined(s)){var U=s(n);c.isValid=U.isValid,U.isValid||(c.message=U.message)}break;default:c.isValid=!1,c.message=""}}}else c.message=p.invalidType;if(!_uo.utility.isEmpty(t)){var P=t.closest(".form-element"),H=P.find(".form-element__error").filter((function(){return o()(this).closest(".form-element").is(P)}));c.isValid?(P.removeClass("form-element--error"),P.addClass("form-element--success")):(P.removeClass("form-element--success"),P.addClass("form-element--error")),""!=c.message?(H.addClass("form-element__error--show"),H.text(c.message)):(H.removeClass("form-element__error--show"),H.text(""))}return c}function l(t){var e=new RegExp(/\{\{(.*?)\}\}/gm);return String(t).match(e)||[]}},936:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,":host{display:block}.icon{display:flex;align-items:center;justify-content:center;position:relative}.icon img{object-fit:contain;object-position:center}.icon:not([plain]){background:#fff;border-radius:50%;border:1px solid var(--uap-field-border-color);box-shadow:var(--uap-box-shadow-small)}.icon:not([plain])[size=xsmall]{width:16px;height:16px}.icon:not([plain])[size=xsmall] img{width:12px;height:12px}.icon:not([plain]):not([size]),.icon:not([plain])[size=regular]{width:45px;height:45px}.icon:not([plain]):not([size]) img,.icon:not([plain])[size=regular] img{width:24px;height:24px}.icon[plain][size=xsmall]{width:16px;height:16px}.icon[plain][size=xsmall] img{width:16px;height:16px}.icon[plain]:not([size]),.icon[plain][size=regular]{width:45px;height:45px}.icon[plain]:not([size]) img,.icon[plain][size=regular] img{width:45px;height:45px}",""]);const s=a},4889:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,":host{display:block}uo-button{width:100%;--uap-button-style-border-radius: 0;--uap-button-style-custom-color: var(--uap-color-red)}",""]);const s=a},4135:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,":host{display:block}uo-button{width:100%;--uap-button-style-border-radius: 0}uo-button uo-icon[id=external-link]{color:gray;font-size:.85em;margin-left:2px}",""]);const s=a},8657:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,":host{display:block}uo-button{width:100%;--uap-button-style-border-radius: 0}",""]);const s=a},322:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,":host{display:inline-block}",""]);const s=a},6366:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,':host{display:block}.item{--uap-builder-gap-between-rows: 8px;padding:var(--uap-builder-items-padding-left-right);display:grid;grid-auto-columns:1fr;grid-auto-rows:1fr;grid-template-columns:min-content minmax(0, 1fr) min-content;grid-template-rows:min-content min-content min-content;gap:4px 12px;grid-template-areas:"Icon Tags TopRight" "Icon Sentence Toggle" "Icon Options Options";background:#fff;position:relative;transition:padding var(--uap-sortability-animation-duration) ease-in-out}.item-icon{grid-area:Icon}.item-tags{grid-area:Tags}.item-top-right{grid-area:TopRight;display:flex;justify-content:flex-end}.item-top-right .item-quick-actions{display:flex}.item-top-right .item-menu uo-button-dropdown{margin-right:-8px}.item-sentence{grid-area:Sentence}.item-switch{grid-area:Toggle}.item-options{grid-area:Options}',""]);const s=a},2198:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,':host{display:block}.filter{--uap-filter-background-header: #fff9f5;--uap-filter-background-header-logic-icon: #ffd6c9;--uap-filter-border-radius: 10px;--uap-filter-border-color-conditions: #e4e4e4;--uap-filter-color-header-logic-sentence: #b4b4b4;margin:15px;border:1px solid var(--uap-filter-border-color-conditions);border-radius:var(--uap-filter-border-radius);box-shadow:var(--uap-box-shadow-small)}.filter-header{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:15px;padding:15px;background-color:var(--uap-filter-background-header);border-top-left-radius:var(--uap-filter-border-radius);border-top-right-radius:var(--uap-filter-border-radius);border-bottom:1px solid var(--uap-filter-border-color-conditions)}.filter-logic{width:100%;display:flex;align-items:center;justify-content:space-between}.filter-logic-info{display:flex;align-items:center;flex-wrap:wrap;gap:0 10px}.filter-logic-icon{padding:4px 8px;border-radius:var(--uap-filter-border-radius);background-color:var(--uap-filter-background-header-logic-icon)}.filter-logic-name{font-weight:500}.filter-logic-sentence{color:var(--uap-filter-color-header-logic-sentence);font-weight:500}.filter-conditions{display:flex;flex-direction:column;width:100%;border-top:1px solid var(--uap-filter-border-color-conditions)}.filter-condition{display:grid;grid-auto-columns:1fr;grid-template-columns:min-content 1fr min-content;grid-template-rows:min-content;gap:10px;grid-template-areas:"integration-icon sentence buttons";align-items:center;border-bottom:1px solid var(--uap-filter-border-color-conditions);padding:12px 0}.filter-condition-icon{grid-area:integration-icon;margin-top:3px}.filter-condition-sentence{grid-area:sentence}.filter-condition-buttons{grid-area:buttons;display:flex;opacity:0;transition:opacity 150ms ease-in-out 0s}.filter-condition-buttons .filter-condition-remove{--uap-button-style-custom-color: var( --uap-color-red );--uap-button-style-custom-hover-color: var( --uap-color-red )}.filter-condition:hover .filter-condition-buttons{opacity:1}.filter-actions{display:flex;gap:10px;padding:15px}',""]);const s=a},9371:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,":host{display:block}.filter-directory{display:flex;flex-direction:column;gap:var(--uap-builder-items-padding-left-right)}.filter-directory-integration{display:flex;align-items:center;gap:10px}.filter-directory uo-accordion-item-li strong{font-weight:500;color:var(--uap-color-blue)}.uap-hidden{display:none}",""]);const s=a},4139:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,".remove{--uap-button-style-custom-color: var( --uap-color-red );--uap-button-style-custom-hover-color: var( --uap-color-red )}",""]);const s=a},8244:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,"",""]);const s=a},4551:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,'.filter-item{display:grid;grid-auto-columns:1fr;grid-template-columns:min-content 1fr min-content;grid-template-rows:min-content;gap:10px;grid-template-areas:"integration-icon sentence buttons";align-items:center;border-bottom:1px solid var(--uap-loop-border-color-conditions);padding:12px 0}.filter-item-icon{grid-area:integration-icon;margin-top:3px}.filter-item-sentence{grid-area:sentence}.filter-item-buttons{grid-area:buttons;display:flex;opacity:0;transition:opacity 150ms ease-in-out}.filter-item-buttons:has(uo-button:focus),.filter-item:hover .filter-item-buttons{opacity:1}.filter-item:hover .filter-item-buttons{opacity:1}',""]);const s=a},8502:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,":host{display:block}.filters{display:flex;flex-direction:column;gap:var(--uap-builder-items-padding-left-right);width:100%}.filters-items{border-top:1px solid var(--uap-loop-border-color-conditions)}.filters-actions{display:flex;gap:10px}",""]);const s=a},2796:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,":host{display:inline-block;margin-right:-5px}.iterable-expression{display:flex;align-items:center}.iterable-expression uo-button{--uap-button-style-custom-color: gray}",""]);const s=a},5121:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,":host{display:block}uo-button{width:100%;--uap-button-style-border-radius: 0;--uap-button-style-custom-color: var(--uap-color-red)}",""]);const s=a},9439:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,":host{display:block}uo-button{width:100%;--uap-button-style-border-radius: 0}uo-button uo-icon[id=external-link]{color:gray;font-size:.85em;margin-left:2px}",""]);const s=a},1546:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,":host{display:block}.loop{--uap-loop-background-header: #f5f9ff;--uap-loop-background-header-logic-icon: #c9e5ff;--uap-loop-border-radius: 10px;--uap-loop-border-color-conditions: #e4e4e4;--uap-loop-color-header-logic-sentence: #b4b4b4;margin:15px;border:1px solid var(--uap-loop-border-color-conditions);border-radius:var(--uap-loop-border-radius);box-shadow:var(--uap-box-shadow-small)}.loop-summary{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:15px;padding:15px;background-color:var(--uap-loop-background-header);border-top-left-radius:var(--uap-loop-border-radius);border-top-right-radius:var(--uap-loop-border-radius);border-bottom:1px solid var(--uap-loop-border-color-conditions)}.loop-header{width:100%;display:flex;align-items:center;justify-content:space-between}.loop-header-info{display:flex;align-items:center;flex-wrap:wrap;gap:0 10px}.loop-header-icon{padding:4px 8px;border-radius:var(--uap-loop-border-radius);background-color:var(--uap-loop-background-header-logic-icon)}.loop-header-name{font-weight:500}.loop-header-sentence{color:var(--uap-loop-color-header-logic-sentence);font-weight:500}.loop uap-builder-item-loop-filters{width:100%}.loop-actions{display:flex;gap:10px;padding:15px}",""]);const s=a},9313:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,".sentence{display:inline-flex;align-items:center;flex-wrap:wrap;white-space:pre-wrap;row-gap:5px}.sentence-plain,.sentence-pill{min-width:.5ch}.sentence-pill{--uap-button-style-box-shadow: none;font-weight:600}.sentence-pill-label{font-weight:500;opacity:.7}.sentence-pill-value{display:inline-flex;align-items:center;flex-wrap:wrap;white-space:pre-wrap}.sentence-empty-value{font-style:italic;opacity:.7}.uap-token{display:inline-flex;align-items:center;gap:5px;background:#eee;color:var(--uap-font-color);border:1px solid var(--uap-border-color-gray);line-height:1;text-decoration:none;white-space:normal;padding:3px 8px;border-radius:150px;position:relative;box-shadow:0 0 0 2px rgba(0,0,0,0);transition:box-shadow 150ms ease-in-out}.uap-token--warning{background-color:#fdf8d9}.uap-token img,.uap-token__icon img{width:12px;height:12px;display:block;object-fit:contain;object-position:center}.uap-token__icon{line-height:0}.uap-token__icon uo-icon[id]{width:14px;height:14px;border:1px solid #444;border-radius:50%;font-size:9px;color:#444;text-align:center;line-height:15px;background:#fff;opacity:.8;display:inline-flex;align-items:center;justify-content:center}.uap-token__id{font-size:var(--uap-font-size--body-xsmall);color:var(--uap-font-color-secondary)}.uap-token__name{color:var(--uap-font-color);font-size:14px;font-weight:600;display:inline-flex;flex-wrap:wrap;align-items:center;white-space:pre-wrap}.uap-token__flags{font-size:13px;display:flex;gap:6px}.uap-token--warning .uap-token__flags{color:#ff7a30}.uap-token--invalid{background:#f9e2e2}.uap-token--invalid uo-icon{color:#c00;border-color:#c00}.uap-token .uap-token{border:1px solid #bbb;background:#fff;padding:2px 5px}",""]);const s=a},6387:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,":host{display:block}.items{display:block}",""]);const s=a},5795:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,'@keyframes placeHolderShimmer{0%{opacity:1}100%{opacity:.5}}:host{display:block}.header{padding:var(--uap-builder-metabox-padding) var(--uap-builder-metabox-padding) calc(var(--uap-builder-metabox-padding)/2) var(--uap-builder-metabox-padding);font-size:14px;font-weight:600;display:flex;align-items:center;gap:15px}.header-title{color:#000}.header-logic{flex:1 1 auto;display:flex;align-items:center;gap:6px}.header-logic-description{color:var(--uap-font-color-secondary-less-important)}:host-context(.rtl) .header-logic{justify-content:flex-end}.header-loading{position:relative;color:var(--uap-font-color);width:1em;height:1em;font-size:.9em;margin-left:4px}.header-loading::before{font-size:1em;font-family:"Uncanny Automator Icons" !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:var(--uap-icon-spinner-third);color:var(--uap-font-color);position:absolute;top:50%;left:50%;animation:uldu24e-rotate 2s linear infinite}@keyframes uldu24e-rotate{from{transform:translate(-50%, -50%) rotate(0deg)}to{transform:translate(-50%, -50%) rotate(360deg)}}',""]);const s=a},4130:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,':host{display:block}.item{--uap-builder-gap-between-rows: 8px;padding:var(--uap-builder-items-padding-left-right);display:grid;grid-auto-columns:1fr;grid-auto-rows:1fr;grid-template-columns:min-content minmax(0, 1fr) min-content;grid-template-rows:min-content min-content min-content;gap:4px 12px;grid-template-areas:"Icon Tags TopRight" "Icon Sentence Toggle" "Icon Options Options";background:#fff;position:relative;transition:padding var(--uap-sortability-animation-duration) ease-in-out}.item-icon{grid-area:Icon}.item-tags{grid-area:Tags}.item-top-right{grid-area:TopRight;display:flex;justify-content:flex-end}.item-top-right .item-quick-actions{display:flex}.item-top-right .item-menu uo-button-dropdown{margin-right:-8px}.item-sentence{grid-area:Sentence}.item-switch{grid-area:Toggle}.item-options{grid-area:Options}',""]);const s=a},8937:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,".remove{--uap-button-style-custom-color: var( --uap-color-red );--uap-button-style-custom-hover-color: var( --uap-color-red )}",""]);const s=a},1079:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,".remove{--uap-button-style-custom-color: var( --uap-color-red );--uap-button-style-custom-hover-color: var( --uap-color-red )}",""]);const s=a},6219:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,".quick-actions{display:flex;align-items:center;--uap-button-style-padding-left: 6px;--uap-button-style-padding-right: 6px;--uap-button-style-font-size: 18px}",""]);const s=a},243:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,"",""]);const s=a},3741:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,".footer{display:flex;justify-content:space-between;gap:10px}.footer-quick-actions{display:flex;align-items:center;padding:12px 15px 12px 9px}.footer-cta{padding:12px 15px;display:flex;align-items:center;border-left:1px solid var(--uap-border-color-gray);border-bottom-right-radius:var(--uap-border-radius)}.footer-cta[recipe-on]{background:rgba(var(--uap-color-green-rgb), 0.08)}.footer-cta[recipe-on][has-run-now]{background:rgba(var(--uap-color-blue-rgb), 0.08)}.footer-cta:not([recipe-on]){background:rgba(var(--uap-switch-main-color-rgb), 0.05)}",""]);const s=a},3232:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,".setting{--uap-components-publish-setting-gap: 5px;display:flex;gap:var(--uap-components-publish-setting-gap);--uap-button-style-font-size: 14px;--uap-button-style-padding-left: 3px;--uap-button-style-padding-right: 3px}.setting-icon{width:15px;color:var(--uap-color-gray);padding-top:1px}.setting-content{display:flex;flex-wrap:wrap;align-items:center;gap:0 var(--uap-components-publish-setting-gap)}.setting-value{font-weight:600}.setting-helper{--uap-button-style-custom-color: var(--uap-color-gray)}.setting-edit-button{--uap-button-style-custom-color: var(--uap-color-blue)}.setting-helper+.setting-edit-button{margin-left:calc(-1*var(--uap-components-publish-setting-gap))}",""]);const s=a},2419:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,".publish-settings{display:flex;flex-direction:column;gap:6px;padding:12px}",""]);const s=a},6003:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,".publish-settings{font-size:var(--uap-font-size--body-small)}.publish-footer{border-top:1px solid var(--uap-border-color-gray)}",""]);const s=a},1809:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,":host{display:block}.nowrap{white-space:nowrap}",""]);const s=a},4324:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,":host{display:block}.pill{padding:12px 0;position:relative;width:100%;display:flex;gap:10px;align-items:center;border-top:1px solid var(--uap-border-color-gray)}:host(:last-child) .pill{border-bottom:1px solid var(--uap-border-color-gray)}.pill-logo{flex:0 0 auto}.pill-sentence{flex:1 1 auto}.pill-actions{flex:0 0 auto;opacity:0;transition:opacity 150ms ease-in-out;display:inline-flex}.pill:hover .pill-actions,.pill--force-visible-actions .pill-actions{opacity:1}:host-context(.rtl) .pill-actions{padding-left:0;padding-right:15px}.pill-actions uo-button{--uap-button-style-custom-background: transparent}.pill-actions-remove{--uap-button-style-custom-color: var(--uap-color-red);--uap-button-style-custom-hover-color: var(--uap-color-red)}.pill--missing{background:var(--uap-alert-warning-background);margin-left:calc(var(--uap-builder-metabox-padding)*-1);margin-right:calc(var(--uap-builder-metabox-padding)*-1);padding-left:var(--uap-builder-metabox-padding);padding-right:var(--uap-builder-metabox-padding);--uap-alert-xsmall-padding: 0}",""]);const s=a},297:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,":host{display:block}uo-alert{margin-top:15px}",""]);const s=a},4250:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>s});var i=n(1601),o=n.n(i),r=n(6314),a=n.n(r)()(o());a.push([t.id,":host{display:block}.set-data-dialog{display:flex;flex-direction:column;gap:15px}.set-data-dialog-box{font-size:var(--uap-font-size--body-small);line-height:var(--uap-line-height--body-small);border:1px solid var(--uap-field-border-color);border-radius:var(--uap-border-radius);padding:10px 15px}.set-data-dialog-description{font-size:var(--uap-font-size--body-xsmall);line-height:var(--uap-line-height--body-xsmall);color:var(--uap-font-color-secondary)}",""]);const s=a},6314:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,o,r){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(i)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(a[u]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);i&&a[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},1601:t=>{"use strict";t.exports=function(t){return t[1]}},5990:()=>{"use strict";"function"!=typeof Object.assign&&(Object.assign=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!t)throw TypeError("Cannot convert undefined or null to object");for(var i=function(e){e&&Object.keys(e).forEach((function(n){return t[n]=e[n]}))},o=0,r=e;o<r.length;o++)i(r[o]);return t})},8988:t=>{"use strict";function e(t,e,n){if(void 0===n)return t&&t.h5s&&t.h5s.data&&t.h5s.data[e];t.h5s=t.h5s||{},t.h5s.data=t.h5s.data||{},t.h5s.data[e]=n}var n=function(t,e){if(!(t instanceof NodeList||t instanceof HTMLCollection||t instanceof Array))throw new Error("You must provide a nodeList/HTMLCollection/Array of elements to be filtered.");return"string"!=typeof e?Array.from(t):Array.from(t).filter((function(t){return 1===t.nodeType&&t.matches(e)}))},i=new Map,o=function(){function t(){this._config=new Map,this._placeholder=void 0,this._data=new Map}return Object.defineProperty(t.prototype,"config",{get:function(){var t={};return this._config.forEach((function(e,n){t[n]=e})),t},set:function(t){if("object"!=typeof t)throw new Error("You must provide a valid configuration object to the config setter.");var e=Object.assign({},t);this._config=new Map(Object.entries(e))},enumerable:!1,configurable:!0}),t.prototype.setConfig=function(t,e){if(!this._config.has(t))throw new Error("Trying to set invalid configuration item: ".concat(t));this._config.set(t,e)},t.prototype.getConfig=function(t){if(!this._config.has(t))throw new Error("Invalid configuration item requested: ".concat(t));return this._config.get(t)},Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._placeholder},set:function(t){if(!(t instanceof HTMLElement)&&null!==t)throw new Error("A placeholder must be an html element or null.");this._placeholder=t},enumerable:!1,configurable:!0}),t.prototype.setData=function(t,e){if("string"!=typeof t)throw new Error("The key must be a string.");this._data.set(t,e)},t.prototype.getData=function(t){if("string"!=typeof t)throw new Error("The key must be a string.");return this._data.get(t)},t.prototype.deleteData=function(t){if("string"!=typeof t)throw new Error("The key must be a string.");return this._data.delete(t)},t}(),r=function(t){if(!(t instanceof HTMLElement))throw new Error("Please provide a sortable to the store function.");return i.has(t)||i.set(t,new o),i.get(t)};function a(t,e,n){if(t instanceof Array)for(var i=0;i<t.length;++i)a(t[i],e,n);else t.addEventListener(e,n),r(t).setData("event".concat(e),n)}function s(t,e){if(t instanceof Array)for(var n=0;n<t.length;++n)s(t[n],e);else t.removeEventListener(e,r(t).getData("event".concat(e))),r(t).deleteData("event".concat(e))}function u(t,e,n){if(t instanceof Array)for(var i=0;i<t.length;++i)u(t[i],e,n);else t.setAttribute(e,n)}function c(t,e){if(t instanceof Array)for(var n=0;n<t.length;++n)c(t[n],e);else t.removeAttribute(e)}var l,d,p,f,h,m,y,g,_,v=function(t){if(!t.parentElement||0===t.getClientRects().length)throw new Error("target element must be part of the dom");var e=t.getClientRects()[0];return{left:e.left+window.pageXOffset,right:e.right+window.pageXOffset,top:e.top+window.pageYOffset,bottom:e.bottom+window.pageYOffset}},b=function(t,e){if(!(t instanceof HTMLElement&&(e instanceof NodeList||e instanceof HTMLCollection||e instanceof Array)))throw new Error("You must provide an element and a list of elements.");return Array.from(e).indexOf(t)},w=function(t){if(!(t instanceof HTMLElement))throw new Error("Element is not a node element.");return null!==t.parentNode},A=function(t,e,n){if(!(t instanceof HTMLElement&&t.parentElement instanceof HTMLElement))throw new Error("target and element must be a node");t.parentElement.insertBefore(e,"before"===n?t:t.nextElementSibling)},k=function(t){if(!(t instanceof HTMLElement))throw new Error("You must provide a valid dom element");var e=window.getComputedStyle(t);return"border-box"===e.getPropertyValue("box-sizing")?parseInt(e.getPropertyValue("height"),10):["height","padding-top","padding-bottom"].map((function(t){var n=parseInt(e.getPropertyValue(t),10);return isNaN(n)?0:n})).reduce((function(t,e){return t+e}))},T=function(t){if(!(t instanceof HTMLElement))throw new Error("You must provide a valid dom element");var e=window.getComputedStyle(t);return["width","padding-left","padding-right"].map((function(t){var n=parseInt(e.getPropertyValue(t),10);return isNaN(n)?0:n})).reduce((function(t,e){return t+e}))},E=function(t,e){if(!(t instanceof Array))throw new Error("You must provide a Array of HTMLElements to be filtered.");return"string"!=typeof e?t:t.filter((function(t){return t.querySelector(e)instanceof HTMLElement||t.shadowRoot&&t.shadowRoot.querySelector(e)instanceof HTMLElement})).map((function(t){return t.querySelector(e)||t.shadowRoot&&t.shadowRoot.querySelector(e)}))},D=function(t){return t.composedPath&&t.composedPath()[0]||t.target},M=function(t,e,n){return{element:t,posX:n.pageX-e.left,posY:n.pageY-e.top}},C=function(t,e){if(!0===t.isSortable){var n=r(t).getConfig("acceptFrom");if(null!==n&&!1!==n&&"string"!=typeof n)throw new Error('HTML5Sortable: Wrong argument, "acceptFrom" must be "null", "false", or a valid selector string.');if(null!==n)return!1!==n&&n.split(",").filter((function(t){return t.length>0&&e.matches(t)})).length>0;if(t===e)return!0;if(void 0!==r(t).getConfig("connectWith")&&null!==r(t).getConfig("connectWith"))return r(t).getConfig("connectWith")===r(e).getConfig("connectWith")}return!1},x={items:null,connectWith:null,disableIEFix:null,acceptFrom:null,copy:!1,placeholder:null,placeholderClass:"sortable-placeholder",draggingClass:"sortable-dragging",hoverClass:!1,dropTargetContainerClass:!1,debounce:0,throttleTime:100,maxItems:0,itemSerializer:void 0,containerSerializer:void 0,customDragImage:null,orientation:"vertical"},L=function(t,e){if("string"==typeof r(t).getConfig("hoverClass")){var i=r(t).getConfig("hoverClass").split(" ");!0===e?(a(t,"mousemove",function(t,e){var n=this;if(void 0===e&&(e=250),"number"!=typeof e)throw new Error("You must provide a number as the second argument for throttle.");var i=null;return function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];var a=Date.now();(null===i||a-i>=e)&&(i=a,t.apply(n,o))}}((function(e){0===e.buttons&&n(t.children,r(t).getConfig("items")).forEach((function(t){var n,o;t===e.target||t.contains(e.target)?(n=t.classList).add.apply(n,i):(o=t.classList).remove.apply(o,i)}))}),r(t).getConfig("throttleTime"))),a(t,"mouseleave",(function(){n(t.children,r(t).getConfig("items")).forEach((function(t){var e;(e=t.classList).remove.apply(e,i)}))}))):(s(t,"mousemove"),s(t,"mouseleave"))}},S=function(t){s(t,"dragstart"),s(t,"dragend"),s(t,"dragover"),s(t,"dragenter"),s(t,"drop"),s(t,"mouseenter"),s(t,"mouseleave")},I=function(t){t instanceof Array&&t.forEach((function(t){return i.delete(t)}))},O=function(t,e){t&&s(t,"dragleave"),e&&e!==t&&s(e,"dragleave")},j=function(t){var e;(e=t).h5s&&delete e.h5s.data,c(t,"aria-dropeffect")},U=function(t){c(t,"aria-grabbed"),c(t,"aria-copied"),c(t,"draggable"),c(t,"role")};function P(t,e){if(e.composedPath)return e.composedPath().find((function(t){return t.isSortable}));for(;!0!==t.isSortable;)t=t.parentElement;return t}function H(t,i){var o=e(t,"opts"),r=n(t.children,o.items).filter((function(t){return t.contains(i)||t.shadowRoot&&t.shadowRoot.contains(i)}));return r.length>0?r[0]:i}var F=function(t){var i=e(t,"opts"),o=n(t.children,i.items),r=E(o,i.handle);u(t,"aria-dropeffect","move"),e(t,"_disabled","false"),u(r,"draggable","true"),L(t,!0),!1===i.disableIEFix&&"function"==typeof(document||window.document).createElement("span").dragDrop&&a(r,"mousedown",(function(){if(-1!==o.indexOf(this))this.dragDrop();else{for(var t=this.parentElement;-1===o.indexOf(t);)t=t.parentElement;t.dragDrop()}}))};function $(t,o){var c=String(o);return o=o||{},"string"==typeof t&&(t=document.querySelectorAll(t)),t instanceof HTMLElement&&(t=[t]),t=Array.prototype.slice.call(t),/serialize/.test(c)?t.map((function(t){var i=e(t,"opts");return function(t,i,o){if(void 0===i&&(i=function(t,e){return t}),void 0===o&&(o=function(t){return t}),!(t instanceof HTMLElement)||1==!t.isSortable)throw new Error("You need to provide a sortableContainer to be serialized.");if("function"!=typeof i||"function"!=typeof o)throw new Error("You need to provide a valid serializer for items and the container.");var r=e(t,"opts").items,a=n(t.children,r),s=a.map((function(e){return{parent:t,node:e,html:e.outerHTML,index:b(e,a)}}));return{container:o({node:t,itemCount:s.length}),items:s.map((function(e){return i(e,t)}))}}(t,i.itemSerializer,i.containerSerializer)})):(t.forEach((function(t){if(/enable|disable|destroy/.test(c))return $[c](t);["connectWith","disableIEFix"].forEach((function(t){Object.prototype.hasOwnProperty.call(o,t)&&null!==o[t]&&console.warn('HTML5Sortable: You are using the deprecated configuration "'.concat(t,'". This will be removed in an upcoming version, make sure to migrate to the new options when updating.'))})),o=Object.assign({},x,r(t).config,o),r(t).config=o,e(t,"opts",o),t.isSortable=!0,function(t){var i=e(t,"opts"),o=n(t.children,i.items),r=E(o,i.handle);e(t,"_disabled","false"),S(o),O(f,g),s(r,"mousedown"),s(t,"dragover"),s(t,"dragenter"),s(t,"drop")}(t);var L,I=n(t.children,o.items);if(null!==o.placeholder&&void 0!==o.placeholder){var j=document.createElement(t.tagName);o.placeholder instanceof HTMLElement?j.appendChild(o.placeholder):j.innerHTML=o.placeholder,L=j.children[0]}r(t).placeholder=function(t,e,n){var i;if(void 0===n&&(n="sortable-placeholder"),!(t instanceof HTMLElement))throw new Error("You must provide a valid element as a sortable.");if(!(e instanceof HTMLElement)&&void 0!==e)throw new Error("You must provide a valid element as a placeholder or set ot to undefined.");return void 0===e&&(["UL","OL"].includes(t.tagName)?e=document.createElement("li"):["TABLE","TBODY"].includes(t.tagName)?(e=document.createElement("tr")).innerHTML='<td colspan="100"></td>':e=document.createElement("div")),"string"==typeof n&&(i=e.classList).add.apply(i,n.split(" ")),e}(t,L,o.placeholderClass),e(t,"items",o.items),o.acceptFrom?e(t,"acceptFrom",o.acceptFrom):o.connectWith&&e(t,"connectWith",o.connectWith),F(t),u(I,"role","option"),u(I,"aria-grabbed","false"),a(t,"dragstart",(function(t){var e=D(t);if(!0!==e.isSortable&&(t.stopImmediatePropagation(),(!o.handle||e.matches(o.handle))&&"false"!==e.getAttribute("draggable"))){var i=P(e,t),a=H(i,e);y=n(i.children,o.items),h=y.indexOf(a),m=b(a,i.children),f=i;var s=null;"string"==typeof o.customDragImage?null!=(s=document.querySelector(o.customDragImage))||console.error("The NodeList provided does not contain any valid elements."):"function"===o.customDragImage&&(s=o.customDragImage),function(t,e,n){if(!(t instanceof Event))throw new Error("setDragImage requires a DragEvent as the first argument.");if(!(e instanceof HTMLElement))throw new Error("setDragImage requires the dragged element as the second argument.");if(n||(n=M),n instanceof HTMLElement){var i=v(n),o={element:n,posX:t.pageX-i.left,posY:t.pageY-i.top};t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setData("text/plain",D(t).id),t.dataTransfer.setDragImage(o.element,t.offsetX,t.offsetY)}else if("function"==typeof n&&t.dataTransfer.setDragImage){if(!((o=n(e,i=v(e),t)).element instanceof HTMLElement)||"number"!=typeof o.posX||"number"!=typeof o.posY)throw new Error("The customDragImage function you provided must return and object with the properties element[string], posX[integer], posY[integer].");t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setData("text/plain",D(t).id),t.dataTransfer.setDragImage(o.element,o.posX,o.posY)}}(t,a,s),d=k(a),p=T(a),a.classList.add(o.draggingClass),l=function(t,e){var n=t;return!0===r(e).getConfig("copy")&&(u(n=t.cloneNode(!0),"aria-copied","true"),t.parentElement.appendChild(n),n.style.display="none",n.oldDisplay=t.style.display),n}(a,i),u(l,"aria-grabbed","true"),i.dispatchEvent(new CustomEvent("sortstart",{detail:{origin:{elementIndex:m,index:h,container:f},item:l,originalTarget:e}}))}})),a(t,"dragenter",(function(i){var s=D(i),u=P(s,i);u&&u!==g&&(_=n(u.children,e(u,"items")).filter((function(e){return e!==r(t).placeholder})),o.dropTargetContainerClass&&u.classList.add(o.dropTargetContainerClass),u.dispatchEvent(new CustomEvent("sortenter",{detail:{origin:{elementIndex:m,index:h,container:f},destination:{container:u,itemsBeforeUpdate:_},item:l,originalTarget:s}})),a(u,"dragleave",(function(t){var e=t.relatedTarget||t.fromElement;t.currentTarget.contains(e)||(o.dropTargetContainerClass&&u.classList.remove(o.dropTargetContainerClass),u.dispatchEvent(new CustomEvent("sortleave",{detail:{origin:{elementIndex:m,index:h,container:u},item:l,originalTarget:s}})))}))),g=u})),a(t,"dragend",(function(n){if(l){l.classList.remove(o.draggingClass),u(l,"aria-grabbed","false"),"true"===l.getAttribute("aria-copied")&&"true"!==e(l,"dropped")&&l.remove(),void 0!==l.oldDisplay&&(l.style.display=l.oldDisplay,delete l.oldDisplay);var r=Array.from(i.values()).map((function(t){return t.placeholder})).filter((function(t){return t instanceof HTMLElement})).filter(w)[0];r&&r.remove(),t.dispatchEvent(new CustomEvent("sortstop",{detail:{origin:{elementIndex:m,index:h,container:f},item:l}})),g=null,l=null,d=null,p=null}})),a(t,"drop",(function(a){if(C(t,l.parentElement)){a.preventDefault(),a.stopPropagation(),e(l,"dropped","true");var s=Array.from(i.values()).map((function(t){return t.placeholder})).filter((function(t){return t instanceof HTMLElement})).filter(w)[0];if(s){s.replaceWith(l),void 0!==l.oldDisplay&&(l.style.display=l.oldDisplay,delete l.oldDisplay),t.dispatchEvent(new CustomEvent("sortstop",{detail:{origin:{elementIndex:m,index:h,container:f},item:l}}));var u=r(t).placeholder,c=n(f.children,o.items).filter((function(t){return t!==u})),d=!0===this.isSortable?this:this.parentElement,p=n(d.children,e(d,"items")).filter((function(t){return t!==u})),g=b(l,Array.from(l.parentElement.children).filter((function(t){return t!==u}))),v=b(l,p);o.dropTargetContainerClass&&d.classList.remove(o.dropTargetContainerClass),m===g&&f===d||t.dispatchEvent(new CustomEvent("sortupdate",{detail:{origin:{elementIndex:m,index:h,container:f,itemsBeforeUpdate:y,items:c},destination:{index:v,elementIndex:g,container:d,itemsBeforeUpdate:_,items:p},item:l}}))}else e(l,"dropped","false")}}));var U,R,q,V=(U=function(t,e,a,s){if(l)if(o.forcePlaceholderSize&&(r(t).placeholder.style.height=d+"px",r(t).placeholder.style.width=p+"px"),Array.from(t.children).indexOf(e)>-1){var u=k(e),c=T(e),f=b(r(t).placeholder,e.parentElement.children),h=b(e,e.parentElement.children);if(u>d||c>p){var m=u-d,y=c-p,g=v(e).top,_=v(e).left;if(f<h&&("vertical"===o.orientation&&s<g||"horizontal"===o.orientation&&a<_))return;if(f>h&&("vertical"===o.orientation&&s>g+u-m||"horizontal"===o.orientation&&a>_+c-y))return}void 0===l.oldDisplay&&(l.oldDisplay=l.style.display),"none"!==l.style.display&&(l.style.display="none");var w=!1;try{var E=v(e).top+e.offsetHeight/2,D=v(e).left+e.offsetWidth/2;w="vertical"===o.orientation&&s>=E||"horizontal"===o.orientation&&a>=D}catch(t){w=f<h}w?function(t,e){A(t,e,"after")}(e,r(t).placeholder):function(t,e){A(t,e,"before")}(e,r(t).placeholder),Array.from(i.values()).filter((function(t){return void 0!==t.placeholder})).forEach((function(e){e.placeholder!==r(t).placeholder&&e.placeholder.remove()}))}else{var M=Array.from(i.values()).filter((function(t){return void 0!==t.placeholder})).map((function(t){return t.placeholder}));-1!==M.indexOf(e)||t!==e||n(e.children,o.items).length||(M.forEach((function(t){return t.remove()})),e.appendChild(r(t).placeholder))}},void 0===(R=o.debounce)&&(R=0),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];clearTimeout(q),q=setTimeout((function(){U.apply(void 0,t)}),R)}),N=function(t){var i=t.target,o=!0===i.isSortable?i:P(i,t);if(i=H(o,i),l&&C(o,l.parentElement)&&"true"!==e(o,"_disabled")){var a=e(o,"opts");parseInt(a.maxItems)&&n(o.children,e(o,"items")).length>=parseInt(a.maxItems)&&l.parentElement!==o||(t.preventDefault(),t.stopPropagation(),t.dataTransfer.dropEffect=!0===r(o).getConfig("copy")?"copy":"move",V(o,i,t.pageX,t.pageY))}};a(I.concat(t),"dragover",N),a(I.concat(t),"dragenter",N)})),t)}$.destroy=function(t){!function(t){var i=e(t,"opts")||{},o=n(t.children,i.items),r=E(o,i.handle);L(t,!1),s(t,"dragover"),s(t,"dragenter"),s(t,"dragstart"),s(t,"dragend"),s(t,"drop"),j(t),s(r,"mousedown"),S(o),U(o),I(o),I([t]),O(f,g),t.isSortable=!1}(t)},$.enable=function(t){F(t)},$.disable=function(t){!function(t){var i=e(t,"opts"),o=n(t.children,i.items),r=E(o,i.handle);u(t,"aria-dropeffect","none"),e(t,"_disabled","true"),u(r,"draggable","false"),s(r,"mousedown"),L(t,!1)}(t)},$.__testing={data:e,removeItemEvents:S,removeItemData:U,removeSortableData:j,removeContainerEvents:O},t.exports=$},3077:(t,e,n)=>{var i,o,r;o=[n(1669)],void 0===(r="function"==typeof(i=function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var n,i,o;return e&&e.requirejs||(e?i=e:e={},function(t){var e,r,a,s,u={},c={},l={},d={},p=Object.prototype.hasOwnProperty,f=[].slice,h=/\.js$/;function m(t,e){return p.call(t,e)}function y(t,e){var n,i,o,r,a,s,u,c,d,p,f,m=e&&e.split("/"),y=l.map,g=y&&y["*"]||{};if(t){for(a=(t=t.split("/")).length-1,l.nodeIdCompat&&h.test(t[a])&&(t[a]=t[a].replace(h,"")),"."===t[0].charAt(0)&&m&&(t=m.slice(0,m.length-1).concat(t)),d=0;d<t.length;d++)if("."===(f=t[d]))t.splice(d,1),d-=1;else if(".."===f){if(0===d||1===d&&".."===t[2]||".."===t[d-1])continue;d>0&&(t.splice(d-1,2),d-=2)}t=t.join("/")}if((m||g)&&y){for(d=(n=t.split("/")).length;d>0;d-=1){if(i=n.slice(0,d).join("/"),m)for(p=m.length;p>0;p-=1)if((o=y[m.slice(0,p).join("/")])&&(o=o[i])){r=o,s=d;break}if(r)break;!u&&g&&g[i]&&(u=g[i],c=d)}!r&&u&&(r=u,s=c),r&&(n.splice(0,s,r),t=n.join("/"))}return t}function g(e,n){return function(){var i=f.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),r.apply(t,i.concat([e,n]))}}function _(t){return function(e){u[t]=e}}function v(n){if(m(c,n)){var i=c[n];delete c[n],d[n]=!0,e.apply(t,i)}if(!m(u,n)&&!m(d,n))throw new Error("No "+n);return u[n]}function b(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function w(t){return t?b(t):[]}function A(t){return function(){return l&&l.config&&l.config[t]||{}}}a=function(t,e){var n,i,o=b(t),r=o[0],a=e[1];return t=o[1],r&&(n=v(r=y(r,a))),r?t=n&&n.normalize?n.normalize(t,(i=a,function(t){return y(t,i)})):y(t,a):(r=(o=b(t=y(t,a)))[0],t=o[1],r&&(n=v(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:n}},s={require:function(t){return g(t)},exports:function(t){var e=u[t];return void 0!==e?e:u[t]={}},module:function(t){return{id:t,uri:"",exports:u[t],config:A(t)}}},e=function(e,n,i,o){var r,l,p,f,h,y,b,A=[],k=typeof i;if(y=w(o=o||e),"undefined"===k||"function"===k){for(n=!n.length&&i.length?["require","exports","module"]:n,h=0;h<n.length;h+=1)if("require"===(l=(f=a(n[h],y)).f))A[h]=s.require(e);else if("exports"===l)A[h]=s.exports(e),b=!0;else if("module"===l)r=A[h]=s.module(e);else if(m(u,l)||m(c,l)||m(d,l))A[h]=v(l);else{if(!f.p)throw new Error(e+" missing "+l);f.p.load(f.n,g(o,!0),_(l),{}),A[h]=u[l]}p=i?i.apply(u[e],A):void 0,e&&(r&&r.exports!==t&&r.exports!==u[e]?u[e]=r.exports:p===t&&b||(u[e]=p))}else e&&(u[e]=i)},n=i=r=function(n,i,o,u,c){if("string"==typeof n)return s[n]?s[n](i):v(a(n,w(i)).f);if(!n.splice){if((l=n).deps&&r(l.deps,l.callback),!i)return;i.splice?(n=i,i=o,o=null):n=t}return i=i||function(){},"function"==typeof o&&(o=u,u=c),u?e(t,n,i,o):setTimeout((function(){e(t,n,i,o)}),4),r},r.config=function(t){return r(t)},n._defined=u,(o=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),m(u,t)||m(c,t)||(c[t]=[t,e,n])}).amd={jQuery:!0}}(),e.requirejs=n,e.require=i,e.define=o),e.define("almond",(function(){})),e.define("jquery",[],(function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e})),e.define("select2/utils",["jquery"],(function(t){var e={};function n(t){var e=t.prototype,n=[];for(var i in e)"function"==typeof e[i]&&"constructor"!==i&&n.push(i);return n}e.Extend=function(t,e){var n={}.hasOwnProperty;function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},e.Decorate=function(t,e){var i=n(e),o=n(t);function r(){var n=Array.prototype.unshift,i=e.prototype.constructor.length,o=t.prototype.constructor;i>0&&(n.call(arguments,t.prototype.constructor),o=e.prototype.constructor),o.apply(this,arguments)}e.displayName=t.displayName,r.prototype=new function(){this.constructor=r};for(var a=0;a<o.length;a++){var s=o[a];r.prototype[s]=t.prototype[s]}for(var u=function(t){var n=function(){};t in r.prototype&&(n=r.prototype[t]);var i=e.prototype[t];return function(){return Array.prototype.unshift.call(arguments,n),i.apply(this,arguments)}},c=0;c<i.length;c++){var l=i[c];r.prototype[l]=u(l)}return r};var i=function(){this.listeners={}};i.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},i.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].apply(this,e)},e.Observable=i,e.generateChars=function(t){for(var e="",n=0;n<t;n++)e+=Math.floor(36*Math.random()).toString(36);return e},e.bind=function(t,e){return function(){t.apply(e,arguments)}},e._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var o=0;o<n.length;o++){var r=n[o];(r=r.substring(0,1).toLowerCase()+r.substring(1))in i||(i[r]={}),o==n.length-1&&(i[r]=t[e]),i=i[r]}delete t[e]}}return t},e.hasScroll=function(e,n){var i=t(n),o=n.style.overflowX,r=n.style.overflowY;return(o!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===o||"scroll"===r||i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth)},e.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,(function(t){return e[t]}))},e.__cache={};var o=0;return e.GetUniqueElementId=function(t){var n=t.getAttribute("data-select2-id");return null!=n||(n=t.id?"select2-data-"+t.id:"select2-data-"+(++o).toString()+"-"+e.generateChars(4),t.setAttribute("data-select2-id",n)),n},e.StoreData=function(t,n,i){var o=e.GetUniqueElementId(t);e.__cache[o]||(e.__cache[o]={}),e.__cache[o][n]=i},e.GetData=function(n,i){var o=e.GetUniqueElementId(n);return i?e.__cache[o]&&null!=e.__cache[o][i]?e.__cache[o][i]:t(n).data(i):e.__cache[o]},e.RemoveData=function(t){var n=e.GetUniqueElementId(t);null!=e.__cache[n]&&delete e.__cache[n],t.removeAttribute("data-select2-id")},e.copyNonInternalCssClasses=function(t,e){var n=t.getAttribute("class").trim().split(/\s+/);n=n.filter((function(t){return 0===t.indexOf("select2-")}));var i=e.getAttribute("class").trim().split(/\s+/);i=i.filter((function(t){return 0!==t.indexOf("select2-")}));var o=n.concat(i);t.setAttribute("class",o.join(" "))},e})),e.define("select2/results",["jquery","./utils"],(function(t,e){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=t('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(e.message);i.append(n(o(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],o=this.option(i);e.push(o)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(t,e){e.find(".select2-results").append(t)},n.prototype.sort=function(t){return this.options.get("sorter")(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option--selectable"),e=t.filter(".select2-results__option--selected");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var n=this;this.data.current((function(i){var o=i.map((function(t){return t.id.toString()}));n.$results.find(".select2-results__option--selectable").each((function(){var n=t(this),i=e.GetData(this,"data"),r=""+i.id;null!=i.element&&i.element.selected||null==i.element&&o.indexOf(r)>-1?(this.classList.add("select2-results__option--selected"),n.attr("aria-selected","true")):(this.classList.remove("select2-results__option--selected"),n.attr("aria-selected","false"))}))}))},n.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},n=this.option(e);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(n){var i=document.createElement("li");i.classList.add("select2-results__option"),i.classList.add("select2-results__option--selectable");var o={role:"option"},r=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var a in(null!=n.element&&r.call(n.element,":disabled")||null==n.element&&n.disabled)&&(o["aria-disabled"]="true",i.classList.remove("select2-results__option--selectable"),i.classList.add("select2-results__option--disabled")),null==n.id&&i.classList.remove("select2-results__option--selectable"),null!=n._resultId&&(i.id=n._resultId),n.title&&(i.title=n.title),n.children&&(o.role="group",o["aria-label"]=n.text,i.classList.remove("select2-results__option--selectable"),i.classList.add("select2-results__option--group")),o){var s=o[a];i.setAttribute(a,s)}if(n.children){var u=t(i),c=document.createElement("strong");c.className="select2-results__group",this.template(n,c);for(var l=[],d=0;d<n.children.length;d++){var p=n.children[d],f=this.option(p);l.push(f)}var h=t("<ul></ul>",{class:"select2-results__options select2-results__options--nested",role:"none"});h.append(l),u.append(c),u.append(h)}else this.template(n,i);return e.StoreData(i,"data",n),i},n.prototype.bind=function(n,i){var o=this,r=n.id+"-results";this.$results.attr("id",r),n.on("results:all",(function(t){o.clear(),o.append(t.data),n.isOpen()&&(o.setClasses(),o.highlightFirstItem())})),n.on("results:append",(function(t){o.append(t.data),n.isOpen()&&o.setClasses()})),n.on("query",(function(t){o.hideMessages(),o.showLoading(t)})),n.on("select",(function(){n.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())})),n.on("unselect",(function(){n.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())})),n.on("open",(function(){o.$results.attr("aria-expanded","true"),o.$results.attr("aria-hidden","false"),o.setClasses(),o.ensureHighlightVisible()})),n.on("close",(function(){o.$results.attr("aria-expanded","false"),o.$results.attr("aria-hidden","true"),o.$results.removeAttr("aria-activedescendant")})),n.on("results:toggle",(function(){var t=o.getHighlightedResults();0!==t.length&&t.trigger("mouseup")})),n.on("results:select",(function(){var t=o.getHighlightedResults();if(0!==t.length){var n=e.GetData(t[0],"data");t.hasClass("select2-results__option--selected")?o.trigger("close",{}):o.trigger("select",{data:n})}})),n.on("results:previous",(function(){var t=o.getHighlightedResults(),e=o.$results.find(".select2-results__option--selectable"),n=e.index(t);if(!(n<=0)){var i=n-1;0===t.length&&(i=0);var r=e.eq(i);r.trigger("mouseenter");var a=o.$results.offset().top,s=r.offset().top,u=o.$results.scrollTop()+(s-a);0===i?o.$results.scrollTop(0):s-a<0&&o.$results.scrollTop(u)}})),n.on("results:next",(function(){var t=o.getHighlightedResults(),e=o.$results.find(".select2-results__option--selectable"),n=e.index(t)+1;if(!(n>=e.length)){var i=e.eq(n);i.trigger("mouseenter");var r=o.$results.offset().top+o.$results.outerHeight(!1),a=i.offset().top+i.outerHeight(!1),s=o.$results.scrollTop()+a-r;0===n?o.$results.scrollTop(0):a>r&&o.$results.scrollTop(s)}})),n.on("results:focus",(function(t){t.element[0].classList.add("select2-results__option--highlighted"),t.element[0].setAttribute("aria-selected","true")})),n.on("results:message",(function(t){o.displayMessage(t)})),t.fn.mousewheel&&this.$results.on("mousewheel",(function(t){var e=o.$results.scrollTop(),n=o.$results.get(0).scrollHeight-e+t.deltaY,i=t.deltaY>0&&e-t.deltaY<=0,r=t.deltaY<0&&n<=o.$results.height();i?(o.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):r&&(o.$results.scrollTop(o.$results.get(0).scrollHeight-o.$results.height()),t.preventDefault(),t.stopPropagation())})),this.$results.on("mouseup",".select2-results__option--selectable",(function(n){var i=t(this),r=e.GetData(this,"data");i.hasClass("select2-results__option--selected")?o.options.get("multiple")?o.trigger("unselect",{originalEvent:n,data:r}):o.trigger("close",{}):o.trigger("select",{originalEvent:n,data:r})})),this.$results.on("mouseenter",".select2-results__option--selectable",(function(n){var i=e.GetData(this,"data");o.getHighlightedResults().removeClass("select2-results__option--highlighted").attr("aria-selected","false"),o.trigger("results:focus",{data:i,element:t(this)})}))},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find(".select2-results__option--selectable").index(t),n=this.$results.offset().top,i=t.offset().top,o=this.$results.scrollTop()+(i-n),r=i-n;o-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(r>this.$results.outerHeight()||r<0)&&this.$results.scrollTop(o)}},n.prototype.template=function(e,n){var i=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),r=i(e,n);null==r?n.style.display="none":"string"==typeof r?n.innerHTML=o(r):t(n).append(r)},n})),e.define("select2/keys",[],(function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}})),e.define("select2/selection/base",["jquery","../utils","../keys"],(function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var n=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=e.GetData(this.$element[0],"old-tabindex")?this._tabindex=e.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),n.attr("title",this.$element.attr("title")),n.attr("tabindex",this._tabindex),n.attr("aria-disabled","false"),this.$selection=n,n},i.prototype.bind=function(t,e){var i=this,o=t.id+"-results";this.container=t,this.$selection.on("focus",(function(t){i.trigger("focus",t)})),this.$selection.on("blur",(function(t){i._handleBlur(t)})),this.$selection.on("keydown",(function(t){i.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()})),t.on("results:focus",(function(t){i.$selection.attr("aria-activedescendant",t.data._resultId)})),t.on("selection:update",(function(t){i.update(t.data)})),t.on("open",(function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",o),i._attachCloseHandler(t)})),t.on("close",(function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.trigger("focus"),i._detachCloseHandler(t)})),t.on("enable",(function(){i.$selection.attr("tabindex",i._tabindex),i.$selection.attr("aria-disabled","false")})),t.on("disable",(function(){i.$selection.attr("tabindex","-1"),i.$selection.attr("aria-disabled","true")}))},i.prototype._handleBlur=function(e){var n=this;window.setTimeout((function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)}),1)},i.prototype._attachCloseHandler=function(n){t(document.body).on("mousedown.select2."+n.id,(function(n){var i=t(n.target).closest(".select2");t(".select2.select2-container--open").each((function(){this!=i[0]&&e.GetData(this,"element").select2("close")}))}))},i.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(t,e){e.find(".selection").append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},i.prototype.isEnabled=function(){return!this.isDisabled()},i.prototype.isDisabled=function(){return this.options.get("disabled")},i})),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],(function(t,e,n,i){function o(){o.__super__.constructor.apply(this,arguments)}return n.Extend(o,e),o.prototype.render=function(){var t=o.__super__.render.call(this);return t[0].classList.add("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},o.prototype.bind=function(t,e){var n=this;o.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",i),this.$selection.attr("aria-controls",i),this.$selection.on("mousedown",(function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})})),this.$selection.on("focus",(function(t){})),this.$selection.on("blur",(function(t){})),t.on("focus",(function(e){t.isOpen()||n.$selection.trigger("focus")}))},o.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},o.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},o.prototype.selectionContainer=function(){return t("<span></span>")},o.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i);var o=e.title||e.text;o?n.attr("title",o):n.removeAttr("title")}else this.clear()},o})),e.define("select2/selection/multiple",["jquery","./base","../utils"],(function(t,e,n){function i(t,e){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t[0].classList.add("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},i.prototype.bind=function(e,o){var r=this;i.__super__.bind.apply(this,arguments);var a=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",a),this.$selection.on("click",(function(t){r.trigger("toggle",{originalEvent:t})})),this.$selection.on("click",".select2-selection__choice__remove",(function(e){if(!r.isDisabled()){var i=t(this).parent(),o=n.GetData(i[0],"data");r.trigger("unselect",{originalEvent:e,data:o})}})),this.$selection.on("keydown",".select2-selection__choice__remove",(function(t){r.isDisabled()||t.stopPropagation()}))},i.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},i.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},i.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><button type="button" class="select2-selection__choice__remove" tabindex="-1"><span aria-hidden="true">&times;</span></button><span class="select2-selection__choice__display"></span></li>')},i.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=this.$selection.find(".select2-selection__rendered").attr("id")+"-choice-",o=0;o<t.length;o++){var r=t[o],a=this.selectionContainer(),s=this.display(r,a),u=i+n.generateChars(4)+"-";r.id?u+=r.id:u+=n.generateChars(4),a.find(".select2-selection__choice__display").append(s).attr("id",u);var c=r.title||r.text;c&&a.attr("title",c);var l=this.options.get("translations").get("removeItem"),d=a.find(".select2-selection__choice__remove");d.attr("title",l()),d.attr("aria-label",l()),d.attr("aria-describedby",u),n.StoreData(a[0],"data",r),e.push(a)}this.$selection.find(".select2-selection__rendered").append(e)}},i})),e.define("select2/selection/placeholder",[],(function(){function t(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();n.html(this.display(e)),n[0].classList.add("select2-selection__placeholder"),n[0].classList.remove("select2-selection__choice");var i=e.title||e.text||n.text();return this.$selection.find(".select2-selection__rendered").attr("title",i),n},t.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id;if(e.length>1||n)return t.call(this,e);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t})),e.define("select2/selection/allowClear",["jquery","../keys","../utils"],(function(t,e,n){function i(){}return i.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",(function(t){i._handleClear(t)})),e.on("keypress",(function(t){i._handleKeyboardClear(t,e)}))},i.prototype._handleClear=function(t,e){if(!this.isDisabled()){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){e.stopPropagation();var o=n.GetData(i[0],"data"),r=this.$element.val();this.$element.val(this.placeholder.id);var a={data:o};if(this.trigger("clear",a),a.prevented)this.$element.val(r);else{for(var s=0;s<o.length;s++)if(a={data:o[s]},this.trigger("unselect",a),a.prevented)return void this.$element.val(r);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},i.prototype._handleKeyboardClear=function(t,n,i){i.isOpen()||n.which!=e.DELETE&&n.which!=e.BACKSPACE||this._handleClear(n)},i.prototype.update=function(e,i){if(e.call(this,i),this.$selection.find(".select2-selection__clear").remove(),this.$selection[0].classList.remove("select2-selection--clearable"),!(this.$selection.find(".select2-selection__placeholder").length>0||0===i.length)){var o=this.$selection.find(".select2-selection__rendered").attr("id"),r=this.options.get("translations").get("removeAllItems"),a=t('<button type="button" class="select2-selection__clear" tabindex="-1"><span aria-hidden="true">&times;</span></button>');a.attr("title",r()),a.attr("aria-label",r()),a.attr("aria-describedby",o),n.StoreData(a[0],"data",i),this.$selection.prepend(a),this.$selection[0].classList.add("select2-selection--clearable")}},i})),e.define("select2/selection/search",["jquery","../utils","../keys"],(function(t,e,n){function i(t,e,n){t.call(this,e,n)}return i.prototype.render=function(e){var n=this.options.get("translations").get("search"),i=t('<span class="select2-search select2-search--inline"><textarea class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" ></textarea></span>');this.$searchContainer=i,this.$search=i.find("textarea"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",n());var o=e.call(this);return this._transferTabIndex(),o.append(this.$searchContainer),o},i.prototype.bind=function(t,i,o){var r=this,a=i.id+"-results",s=i.id+"-container";t.call(this,i,o),r.$search.attr("aria-describedby",s),i.on("open",(function(){r.$search.attr("aria-controls",a),r.$search.trigger("focus")})),i.on("close",(function(){r.$search.val(""),r.resizeSearch(),r.$search.removeAttr("aria-controls"),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")})),i.on("enable",(function(){r.$search.prop("disabled",!1),r._transferTabIndex()})),i.on("disable",(function(){r.$search.prop("disabled",!0)})),i.on("focus",(function(t){r.$search.trigger("focus")})),i.on("results:focus",(function(t){t.data._resultId?r.$search.attr("aria-activedescendant",t.data._resultId):r.$search.removeAttr("aria-activedescendant")})),this.$selection.on("focusin",".select2-search--inline",(function(t){r.trigger("focus",t)})),this.$selection.on("focusout",".select2-search--inline",(function(t){r._handleBlur(t)})),this.$selection.on("keydown",".select2-search--inline",(function(t){if(t.stopPropagation(),r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented(),t.which===n.BACKSPACE&&""===r.$search.val()){var i=r.$selection.find(".select2-selection__choice").last();if(i.length>0){var o=e.GetData(i[0],"data");r.searchRemoveChoice(o),t.preventDefault()}}})),this.$selection.on("click",".select2-search--inline",(function(t){r.$search.val()&&t.stopPropagation()}));var u=document.documentMode,c=u&&u<=11;this.$selection.on("input.searchcheck",".select2-search--inline",(function(t){c?r.$selection.off("input.search input.searchcheck"):r.$selection.off("keyup.search")})),this.$selection.on("keyup.search input.search",".select2-search--inline",(function(t){if(c&&"input"===t.type)r.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&r.handleSearch(t)}}))},i.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},i.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.resizeSearch(),n&&this.$search.trigger("focus")},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="100%";""===this.$search.attr("placeholder")&&(t=.75*(this.$search.val().length+1)+"em"),this.$search.css("width",t)},i})),e.define("select2/selection/selectionCss",["../utils"],(function(t){function e(){}return e.prototype.render=function(e){var n=e.call(this),i=this.options.get("selectionCssClass")||"";return-1!==i.indexOf(":all:")&&(i=i.replace(":all:",""),t.copyNonInternalCssClasses(n[0],this.$element[0])),n.addClass(i),n},e})),e.define("select2/selection/eventRelay",["jquery"],(function(t){function e(){}return e.prototype.bind=function(e,n,i){var o=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],a=["opening","closing","selecting","unselecting","clearing"];e.call(this,n,i),n.on("*",(function(e,n){if(-1!==r.indexOf(e)){n=n||{};var i=t.Event("select2:"+e,{params:n});o.$element.trigger(i),-1!==a.indexOf(e)&&(n.prevented=i.isDefaultPrevented())}}))},e})),e.define("select2/translation",["jquery","require"],(function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var i=e(t);n._cache[t]=i}return new n(n._cache[t])},n})),e.define("select2/diacritics",[],(function(){return{"Ⓐ":"A",Ａ:"A",À:"A",Á:"A",Â:"A",Ầ:"A",Ấ:"A",Ẫ:"A",Ẩ:"A",Ã:"A",Ā:"A",Ă:"A",Ằ:"A",Ắ:"A",Ẵ:"A",Ẳ:"A",Ȧ:"A",Ǡ:"A",Ä:"A",Ǟ:"A",Ả:"A",Å:"A",Ǻ:"A",Ǎ:"A",Ȁ:"A",Ȃ:"A",Ạ:"A",Ậ:"A",Ặ:"A",Ḁ:"A",Ą:"A",Ⱥ:"A",Ɐ:"A",Ꜳ:"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE",Ꜵ:"AO",Ꜷ:"AU",Ꜹ:"AV",Ꜻ:"AV",Ꜽ:"AY","Ⓑ":"B",Ｂ:"B",Ḃ:"B",Ḅ:"B",Ḇ:"B",Ƀ:"B",Ƃ:"B",Ɓ:"B","Ⓒ":"C",Ｃ:"C",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",Ç:"C",Ḉ:"C",Ƈ:"C",Ȼ:"C",Ꜿ:"C","Ⓓ":"D",Ｄ:"D",Ḋ:"D",Ď:"D",Ḍ:"D",Ḑ:"D",Ḓ:"D",Ḏ:"D",Đ:"D",Ƌ:"D",Ɗ:"D",Ɖ:"D",Ꝺ:"D",Ǳ:"DZ",Ǆ:"DZ",ǲ:"Dz",ǅ:"Dz","Ⓔ":"E",Ｅ:"E",È:"E",É:"E",Ê:"E",Ề:"E",Ế:"E",Ễ:"E",Ể:"E",Ẽ:"E",Ē:"E",Ḕ:"E",Ḗ:"E",Ĕ:"E",Ė:"E",Ë:"E",Ẻ:"E",Ě:"E",Ȅ:"E",Ȇ:"E",Ẹ:"E",Ệ:"E",Ȩ:"E",Ḝ:"E",Ę:"E",Ḙ:"E",Ḛ:"E",Ɛ:"E",Ǝ:"E","Ⓕ":"F",Ｆ:"F",Ḟ:"F",Ƒ:"F",Ꝼ:"F","Ⓖ":"G",Ｇ:"G",Ǵ:"G",Ĝ:"G",Ḡ:"G",Ğ:"G",Ġ:"G",Ǧ:"G",Ģ:"G",Ǥ:"G",Ɠ:"G",Ꞡ:"G",Ᵹ:"G",Ꝿ:"G","Ⓗ":"H",Ｈ:"H",Ĥ:"H",Ḣ:"H",Ḧ:"H",Ȟ:"H",Ḥ:"H",Ḩ:"H",Ḫ:"H",Ħ:"H",Ⱨ:"H",Ⱶ:"H",Ɥ:"H","Ⓘ":"I",Ｉ:"I",Ì:"I",Í:"I",Î:"I",Ĩ:"I",Ī:"I",Ĭ:"I",İ:"I",Ï:"I",Ḯ:"I",Ỉ:"I",Ǐ:"I",Ȉ:"I",Ȋ:"I",Ị:"I",Į:"I",Ḭ:"I",Ɨ:"I","Ⓙ":"J",Ｊ:"J",Ĵ:"J",Ɉ:"J","Ⓚ":"K",Ｋ:"K",Ḱ:"K",Ǩ:"K",Ḳ:"K",Ķ:"K",Ḵ:"K",Ƙ:"K",Ⱪ:"K",Ꝁ:"K",Ꝃ:"K",Ꝅ:"K",Ꞣ:"K","Ⓛ":"L",Ｌ:"L",Ŀ:"L",Ĺ:"L",Ľ:"L",Ḷ:"L",Ḹ:"L",Ļ:"L",Ḽ:"L",Ḻ:"L",Ł:"L",Ƚ:"L",Ɫ:"L",Ⱡ:"L",Ꝉ:"L",Ꝇ:"L",Ꞁ:"L",Ǉ:"LJ",ǈ:"Lj","Ⓜ":"M",Ｍ:"M",Ḿ:"M",Ṁ:"M",Ṃ:"M",Ɱ:"M",Ɯ:"M","Ⓝ":"N",Ｎ:"N",Ǹ:"N",Ń:"N",Ñ:"N",Ṅ:"N",Ň:"N",Ṇ:"N",Ņ:"N",Ṋ:"N",Ṉ:"N",Ƞ:"N",Ɲ:"N",Ꞑ:"N",Ꞥ:"N",Ǌ:"NJ",ǋ:"Nj","Ⓞ":"O",Ｏ:"O",Ò:"O",Ó:"O",Ô:"O",Ồ:"O",Ố:"O",Ỗ:"O",Ổ:"O",Õ:"O",Ṍ:"O",Ȭ:"O",Ṏ:"O",Ō:"O",Ṑ:"O",Ṓ:"O",Ŏ:"O",Ȯ:"O",Ȱ:"O",Ö:"O",Ȫ:"O",Ỏ:"O",Ő:"O",Ǒ:"O",Ȍ:"O",Ȏ:"O",Ơ:"O",Ờ:"O",Ớ:"O",Ỡ:"O",Ở:"O",Ợ:"O",Ọ:"O",Ộ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Ɔ:"O",Ɵ:"O",Ꝋ:"O",Ꝍ:"O",Œ:"OE",Ƣ:"OI",Ꝏ:"OO",Ȣ:"OU","Ⓟ":"P",Ｐ:"P",Ṕ:"P",Ṗ:"P",Ƥ:"P",Ᵽ:"P",Ꝑ:"P",Ꝓ:"P",Ꝕ:"P","Ⓠ":"Q",Ｑ:"Q",Ꝗ:"Q",Ꝙ:"Q",Ɋ:"Q","Ⓡ":"R",Ｒ:"R",Ŕ:"R",Ṙ:"R",Ř:"R",Ȑ:"R",Ȓ:"R",Ṛ:"R",Ṝ:"R",Ŗ:"R",Ṟ:"R",Ɍ:"R",Ɽ:"R",Ꝛ:"R",Ꞧ:"R",Ꞃ:"R","Ⓢ":"S",Ｓ:"S",ẞ:"S",Ś:"S",Ṥ:"S",Ŝ:"S",Ṡ:"S",Š:"S",Ṧ:"S",Ṣ:"S",Ṩ:"S",Ș:"S",Ş:"S",Ȿ:"S",Ꞩ:"S",Ꞅ:"S","Ⓣ":"T",Ｔ:"T",Ṫ:"T",Ť:"T",Ṭ:"T",Ț:"T",Ţ:"T",Ṱ:"T",Ṯ:"T",Ŧ:"T",Ƭ:"T",Ʈ:"T",Ⱦ:"T",Ꞇ:"T",Ꜩ:"TZ","Ⓤ":"U",Ｕ:"U",Ù:"U",Ú:"U",Û:"U",Ũ:"U",Ṹ:"U",Ū:"U",Ṻ:"U",Ŭ:"U",Ü:"U",Ǜ:"U",Ǘ:"U",Ǖ:"U",Ǚ:"U",Ủ:"U",Ů:"U",Ű:"U",Ǔ:"U",Ȕ:"U",Ȗ:"U",Ư:"U",Ừ:"U",Ứ:"U",Ữ:"U",Ử:"U",Ự:"U",Ụ:"U",Ṳ:"U",Ų:"U",Ṷ:"U",Ṵ:"U",Ʉ:"U","Ⓥ":"V",Ｖ:"V",Ṽ:"V",Ṿ:"V",Ʋ:"V",Ꝟ:"V",Ʌ:"V",Ꝡ:"VY","Ⓦ":"W",Ｗ:"W",Ẁ:"W",Ẃ:"W",Ŵ:"W",Ẇ:"W",Ẅ:"W",Ẉ:"W",Ⱳ:"W","Ⓧ":"X",Ｘ:"X",Ẋ:"X",Ẍ:"X","Ⓨ":"Y",Ｙ:"Y",Ỳ:"Y",Ý:"Y",Ŷ:"Y",Ỹ:"Y",Ȳ:"Y",Ẏ:"Y",Ÿ:"Y",Ỷ:"Y",Ỵ:"Y",Ƴ:"Y",Ɏ:"Y",Ỿ:"Y","Ⓩ":"Z",Ｚ:"Z",Ź:"Z",Ẑ:"Z",Ż:"Z",Ž:"Z",Ẓ:"Z",Ẕ:"Z",Ƶ:"Z",Ȥ:"Z",Ɀ:"Z",Ⱬ:"Z",Ꝣ:"Z","ⓐ":"a",ａ:"a",ẚ:"a",à:"a",á:"a",â:"a",ầ:"a",ấ:"a",ẫ:"a",ẩ:"a",ã:"a",ā:"a",ă:"a",ằ:"a",ắ:"a",ẵ:"a",ẳ:"a",ȧ:"a",ǡ:"a",ä:"a",ǟ:"a",ả:"a",å:"a",ǻ:"a",ǎ:"a",ȁ:"a",ȃ:"a",ạ:"a",ậ:"a",ặ:"a",ḁ:"a",ą:"a",ⱥ:"a",ɐ:"a",ꜳ:"aa",æ:"ae",ǽ:"ae",ǣ:"ae",ꜵ:"ao",ꜷ:"au",ꜹ:"av",ꜻ:"av",ꜽ:"ay","ⓑ":"b",ｂ:"b",ḃ:"b",ḅ:"b",ḇ:"b",ƀ:"b",ƃ:"b",ɓ:"b","ⓒ":"c",ｃ:"c",ć:"c",ĉ:"c",ċ:"c",č:"c",ç:"c",ḉ:"c",ƈ:"c",ȼ:"c",ꜿ:"c",ↄ:"c","ⓓ":"d",ｄ:"d",ḋ:"d",ď:"d",ḍ:"d",ḑ:"d",ḓ:"d",ḏ:"d",đ:"d",ƌ:"d",ɖ:"d",ɗ:"d",ꝺ:"d",ǳ:"dz",ǆ:"dz","ⓔ":"e",ｅ:"e",è:"e",é:"e",ê:"e",ề:"e",ế:"e",ễ:"e",ể:"e",ẽ:"e",ē:"e",ḕ:"e",ḗ:"e",ĕ:"e",ė:"e",ë:"e",ẻ:"e",ě:"e",ȅ:"e",ȇ:"e",ẹ:"e",ệ:"e",ȩ:"e",ḝ:"e",ę:"e",ḙ:"e",ḛ:"e",ɇ:"e",ɛ:"e",ǝ:"e","ⓕ":"f",ｆ:"f",ḟ:"f",ƒ:"f",ꝼ:"f","ⓖ":"g",ｇ:"g",ǵ:"g",ĝ:"g",ḡ:"g",ğ:"g",ġ:"g",ǧ:"g",ģ:"g",ǥ:"g",ɠ:"g",ꞡ:"g",ᵹ:"g",ꝿ:"g","ⓗ":"h",ｈ:"h",ĥ:"h",ḣ:"h",ḧ:"h",ȟ:"h",ḥ:"h",ḩ:"h",ḫ:"h",ẖ:"h",ħ:"h",ⱨ:"h",ⱶ:"h",ɥ:"h",ƕ:"hv","ⓘ":"i",ｉ:"i",ì:"i",í:"i",î:"i",ĩ:"i",ī:"i",ĭ:"i",ï:"i",ḯ:"i",ỉ:"i",ǐ:"i",ȉ:"i",ȋ:"i",ị:"i",į:"i",ḭ:"i",ɨ:"i",ı:"i","ⓙ":"j",ｊ:"j",ĵ:"j",ǰ:"j",ɉ:"j","ⓚ":"k",ｋ:"k",ḱ:"k",ǩ:"k",ḳ:"k",ķ:"k",ḵ:"k",ƙ:"k",ⱪ:"k",ꝁ:"k",ꝃ:"k",ꝅ:"k",ꞣ:"k","ⓛ":"l",ｌ:"l",ŀ:"l",ĺ:"l",ľ:"l",ḷ:"l",ḹ:"l",ļ:"l",ḽ:"l",ḻ:"l",ſ:"l",ł:"l",ƚ:"l",ɫ:"l",ⱡ:"l",ꝉ:"l",ꞁ:"l",ꝇ:"l",ǉ:"lj","ⓜ":"m",ｍ:"m",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m",ɯ:"m","ⓝ":"n",ｎ:"n",ǹ:"n",ń:"n",ñ:"n",ṅ:"n",ň:"n",ṇ:"n",ņ:"n",ṋ:"n",ṉ:"n",ƞ:"n",ɲ:"n",ŉ:"n",ꞑ:"n",ꞥ:"n",ǌ:"nj","ⓞ":"o",ｏ:"o",ò:"o",ó:"o",ô:"o",ồ:"o",ố:"o",ỗ:"o",ổ:"o",õ:"o",ṍ:"o",ȭ:"o",ṏ:"o",ō:"o",ṑ:"o",ṓ:"o",ŏ:"o",ȯ:"o",ȱ:"o",ö:"o",ȫ:"o",ỏ:"o",ő:"o",ǒ:"o",ȍ:"o",ȏ:"o",ơ:"o",ờ:"o",ớ:"o",ỡ:"o",ở:"o",ợ:"o",ọ:"o",ộ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",ɔ:"o",ꝋ:"o",ꝍ:"o",ɵ:"o",œ:"oe",ƣ:"oi",ȣ:"ou",ꝏ:"oo","ⓟ":"p",ｐ:"p",ṕ:"p",ṗ:"p",ƥ:"p",ᵽ:"p",ꝑ:"p",ꝓ:"p",ꝕ:"p","ⓠ":"q",ｑ:"q",ɋ:"q",ꝗ:"q",ꝙ:"q","ⓡ":"r",ｒ:"r",ŕ:"r",ṙ:"r",ř:"r",ȑ:"r",ȓ:"r",ṛ:"r",ṝ:"r",ŗ:"r",ṟ:"r",ɍ:"r",ɽ:"r",ꝛ:"r",ꞧ:"r",ꞃ:"r","ⓢ":"s",ｓ:"s",ß:"s",ś:"s",ṥ:"s",ŝ:"s",ṡ:"s",š:"s",ṧ:"s",ṣ:"s",ṩ:"s",ș:"s",ş:"s",ȿ:"s",ꞩ:"s",ꞅ:"s",ẛ:"s","ⓣ":"t",ｔ:"t",ṫ:"t",ẗ:"t",ť:"t",ṭ:"t",ț:"t",ţ:"t",ṱ:"t",ṯ:"t",ŧ:"t",ƭ:"t",ʈ:"t",ⱦ:"t",ꞇ:"t",ꜩ:"tz","ⓤ":"u",ｕ:"u",ù:"u",ú:"u",û:"u",ũ:"u",ṹ:"u",ū:"u",ṻ:"u",ŭ:"u",ü:"u",ǜ:"u",ǘ:"u",ǖ:"u",ǚ:"u",ủ:"u",ů:"u",ű:"u",ǔ:"u",ȕ:"u",ȗ:"u",ư:"u",ừ:"u",ứ:"u",ữ:"u",ử:"u",ự:"u",ụ:"u",ṳ:"u",ų:"u",ṷ:"u",ṵ:"u",ʉ:"u","ⓥ":"v",ｖ:"v",ṽ:"v",ṿ:"v",ʋ:"v",ꝟ:"v",ʌ:"v",ꝡ:"vy","ⓦ":"w",ｗ:"w",ẁ:"w",ẃ:"w",ŵ:"w",ẇ:"w",ẅ:"w",ẘ:"w",ẉ:"w",ⱳ:"w","ⓧ":"x",ｘ:"x",ẋ:"x",ẍ:"x","ⓨ":"y",ｙ:"y",ỳ:"y",ý:"y",ŷ:"y",ỹ:"y",ȳ:"y",ẏ:"y",ÿ:"y",ỷ:"y",ẙ:"y",ỵ:"y",ƴ:"y",ɏ:"y",ỿ:"y","ⓩ":"z",ｚ:"z",ź:"z",ẑ:"z",ż:"z",ž:"z",ẓ:"z",ẕ:"z",ƶ:"z",ȥ:"z",ɀ:"z",ⱬ:"z",ꝣ:"z",Ά:"Α",Έ:"Ε",Ή:"Η",Ί:"Ι",Ϊ:"Ι",Ό:"Ο",Ύ:"Υ",Ϋ:"Υ",Ώ:"Ω",ά:"α",έ:"ε",ή:"η",ί:"ι",ϊ:"ι",ΐ:"ι",ό:"ο",ύ:"υ",ϋ:"υ",ΰ:"υ",ώ:"ω",ς:"σ","’":"'"}})),e.define("select2/data/base",["../utils"],(function(t){function e(t,n){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var i=e.id+"-result-";return i+=t.generateChars(4),null!=n.id?i+="-"+n.id.toString():i+="-"+t.generateChars(4),i},e})),e.define("select2/data/select",["./base","../utils","jquery"],(function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var e=this;t(Array.prototype.map.call(this.$element[0].querySelectorAll(":checked"),(function(t){return e.item(n(t))})))},i.prototype.select=function(t){var e=this;if(t.selected=!0,null!=t.element&&"option"===t.element.tagName.toLowerCase())return t.element.selected=!0,void this.$element.trigger("input").trigger("change");if(this.$element.prop("multiple"))this.current((function(n){var i=[];(t=[t]).push.apply(t,n);for(var o=0;o<t.length;o++){var r=t[o].id;-1===i.indexOf(r)&&i.push(r)}e.$element.val(i),e.$element.trigger("input").trigger("change")}));else{var n=t.id;this.$element.val(n),this.$element.trigger("input").trigger("change")}},i.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple")){if(t.selected=!1,null!=t.element&&"option"===t.element.tagName.toLowerCase())return t.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current((function(n){for(var i=[],o=0;o<n.length;o++){var r=n[o].id;r!==t.id&&-1===i.indexOf(r)&&i.push(r)}e.$element.val(i),e.$element.trigger("input").trigger("change")}))}},i.prototype.bind=function(t,e){var n=this;this.container=t,t.on("select",(function(t){n.select(t.data)})),t.on("unselect",(function(t){n.unselect(t.data)}))},i.prototype.destroy=function(){this.$element.find("*").each((function(){e.RemoveData(this)}))},i.prototype.query=function(t,e){var i=[],o=this;this.$element.children().each((function(){if("option"===this.tagName.toLowerCase()||"optgroup"===this.tagName.toLowerCase()){var e=n(this),r=o.item(e),a=o.matches(t,r);null!==a&&i.push(a)}})),e({results:i})},i.prototype.addOptions=function(t){this.$element.append(t)},i.prototype.option=function(t){var i;t.children?(i=document.createElement("optgroup")).label=t.text:void 0!==(i=document.createElement("option")).textContent?i.textContent=t.text:i.innerText=t.text,void 0!==t.id&&(i.value=t.id),t.disabled&&(i.disabled=!0),t.selected&&(i.selected=!0),t.title&&(i.title=t.title);var o=this._normalizeItem(t);return o.element=i,e.StoreData(i,"data",o),n(i)},i.prototype.item=function(t){var i={};if(null!=(i=e.GetData(t[0],"data")))return i;var o=t[0];if("option"===o.tagName.toLowerCase())i={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if("optgroup"===o.tagName.toLowerCase()){i={text:t.prop("label"),children:[],title:t.prop("title")};for(var r=t.children("option"),a=[],s=0;s<r.length;s++){var u=n(r[s]),c=this.item(u);a.push(c)}i.children=a}return(i=this._normalizeItem(i)).element=t[0],e.StoreData(t[0],"data",i),i},i.prototype._normalizeItem=function(t){t!==Object(t)&&(t={id:t,text:t});return null!=(t=n.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},{selected:!1,disabled:!1},t)},i.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},i})),e.define("select2/data/array",["./select","../utils","jquery"],(function(t,e,n){function i(t,e){this._dataToConvert=e.get("data")||[],i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype.bind=function(t,e){i.__super__.bind.call(this,t,e),this.addOptions(this.convertToOptions(this._dataToConvert))},i.prototype.select=function(t){var e=this.$element.find("option").filter((function(e,n){return n.value==t.id.toString()}));0===e.length&&(e=this.option(t),this.addOptions(e)),i.__super__.select.call(this,t)},i.prototype.convertToOptions=function(t){var e=this,i=this.$element.find("option"),o=i.map((function(){return e.item(n(this)).id})).get(),r=[];function a(t){return function(){return n(this).val()==t.id}}for(var s=0;s<t.length;s++){var u=this._normalizeItem(t[s]);if(o.indexOf(u.id)>=0){var c=i.filter(a(u)),l=this.item(c),d=n.extend(!0,{},u,l),p=this.option(d);c.replaceWith(p)}else{var f=this.option(u);if(u.children){var h=this.convertToOptions(u.children);f.append(h)}r.push(f)}}return r},i})),e.define("select2/data/ajax",["./array","../utils","jquery"],(function(t,e,n){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){var e={data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,i){var o=n.ajax(t);return o.then(e),o.fail(i),o}};return n.extend({},e,t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(t,e){var i=this;null!=this._request&&("function"==typeof this._request.abort&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);function r(){var n=o.transport(o,(function(n){var o=i.processResults(n,t);i.options.get("debug")&&window.console&&console.error&&(o&&o.results&&Array.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(o)}),(function(){(!("status"in n)||0!==n.status&&"0"!==n.status)&&i.trigger("results:message",{message:"errorLoading"})}));i._request=n}"function"==typeof o.url&&(o.url=o.url.call(this.$element,t)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(r,this.ajaxOptions.delay)):r()},i})),e.define("select2/data/tags",["jquery"],(function(t){function e(t,e,n){var i=n.get("tags"),o=n.get("createTag");void 0!==o&&(this.createTag=o);var r=n.get("insertTag");if(void 0!==r&&(this.insertTag=r),t.call(this,e,n),Array.isArray(i))for(var a=0;a<i.length;a++){var s=i[a],u=this._normalizeItem(s),c=this.option(u);this.$element.append(c)}}return e.prototype.query=function(t,e,n){var i=this;this._removeOldTags(),null!=e.term&&null==e.page?t.call(this,e,(function t(o,r){for(var a=o.results,s=0;s<a.length;s++){var u=a[s],c=null!=u.children&&!t({results:u.children},!0);if((u.text||"").toUpperCase()===(e.term||"").toUpperCase()||c)return!r&&(o.data=a,void n(o))}if(r)return!0;var l=i.createTag(e);if(null!=l){var d=i.option(l);d.attr("data-select2-tag","true"),i.addOptions([d]),i.insertTag(a,l)}o.results=a,n(o)})):t.call(this,e,n)},e.prototype.createTag=function(t,e){if(null==e.term)return null;var n=e.term.trim();return""===n?null:{id:n,text:n}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(e){this.$element.find("option[data-select2-tag]").each((function(){this.selected||t(this).remove()}))},e})),e.define("select2/data/tokenizer",["jquery"],(function(t){function e(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,n,i){var o=this;n.term=n.term||"";var r=this.tokenizer(n,this.options,(function(e){var n=o._normalizeItem(e);if(!o.$element.find("option").filter((function(){return t(this).val()===n.id})).length){var i=o.option(n);i.attr("data-select2-tag",!0),o._removeOldTags(),o.addOptions([i])}!function(t){o.trigger("select",{data:t})}(n)}));r.term!==n.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.trigger("focus")),n.term=r.term),e.call(this,n,i)},e.prototype.tokenizer=function(e,n,i,o){for(var r=i.get("tokenSeparators")||[],a=n.term,s=0,u=this.createTag||function(t){return{id:t.term,text:t.term}};s<a.length;){var c=a[s];if(-1!==r.indexOf(c)){var l=a.substr(0,s),d=u(t.extend({},n,{term:l}));null!=d?(o(d),a=a.substr(s+1)||"",s=0):s++}else s++}return{term:a}},e})),e.define("select2/data/minimumInputLength",[],(function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t})),e.define("select2/data/maximumInputLength",[],(function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t})),e.define("select2/data/maximumSelectionLength",[],(function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",(function(){i._checkIfMaximumSelected()}))},t.prototype.query=function(t,e,n){var i=this;this._checkIfMaximumSelected((function(){t.call(i,e,n)}))},t.prototype._checkIfMaximumSelected=function(t,e){var n=this;this.current((function(t){var i=null!=t?t.length:0;n.maximumSelectionLength>0&&i>=n.maximumSelectionLength?n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):e&&e()}))},t})),e.define("select2/dropdown",["jquery","./utils"],(function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},n.prototype.bind=function(){},n.prototype.position=function(t,e){},n.prototype.destroy=function(){this.$dropdown.remove()},n})),e.define("select2/dropdown/search",["jquery"],(function(t){function e(){}return e.prototype.render=function(e){var n=e.call(this),i=this.options.get("translations").get("search"),o=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=o,this.$search=o.find("input"),this.$search.prop("autocomplete",this.options.get("autocomplete")),this.$search.attr("aria-label",i()),n.prepend(o),n},e.prototype.bind=function(e,n,i){var o=this,r=n.id+"-results";e.call(this,n,i),this.$search.on("keydown",(function(t){o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented()})),this.$search.on("input",(function(e){t(this).off("keyup")})),this.$search.on("keyup input",(function(t){o.handleSearch(t)})),n.on("open",(function(){o.$search.attr("tabindex",0),o.$search.attr("aria-controls",r),o.$search.trigger("focus"),window.setTimeout((function(){o.$search.trigger("focus")}),0)})),n.on("close",(function(){o.$search.attr("tabindex",-1),o.$search.removeAttr("aria-controls"),o.$search.removeAttr("aria-activedescendant"),o.$search.val(""),o.$search.trigger("blur")})),n.on("focus",(function(){n.isOpen()||o.$search.trigger("focus")})),n.on("results:all",(function(t){null!=t.query.term&&""!==t.query.term||(o.showSearch(t)?o.$searchContainer[0].classList.remove("select2-search--hide"):o.$searchContainer[0].classList.add("select2-search--hide"))})),n.on("results:focus",(function(t){t.data._resultId?o.$search.attr("aria-activedescendant",t.data._resultId):o.$search.removeAttr("aria-activedescendant")}))},e.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},e.prototype.showSearch=function(t,e){return!0},e})),e.define("select2/dropdown/hidePlaceholder",[],(function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;i>=0;i--){var o=e[i];this.placeholder.id===o.id&&n.splice(i,1)}return n},t})),e.define("select2/dropdown/infiniteScroll",["jquery"],(function(t){function e(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},e.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("query",(function(t){i.lastParams=t,i.loading=!0})),e.on("query:append",(function(t){i.lastParams=t,i.loading=!0})),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},e.prototype.loadMoreIfNeeded=function(){var e=t.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&e&&this.$results.offset().top+this.$results.outerHeight(!1)+50>=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)&&this.loadMore()},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e})),e.define("select2/dropdown/attachBody",["jquery","../utils"],(function(t,e){function n(e,n,i){this.$dropdownParent=t(i.get("dropdownParent")||document.body),e.call(this,n,i)}return n.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("open",(function(){i._showDropdown(),i._attachPositioningHandler(e),i._bindContainerResultHandlers(e)})),e.on("close",(function(){i._hideDropdown(),i._detachPositioningHandler(e)})),this.$dropdownContainer.on("mousedown",(function(t){t.stopPropagation()}))},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e[0].classList.remove("select2"),e[0].classList.add("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),i=e.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},n.prototype._bindContainerResultHandlers=function(t,e){if(!this._containerResultsHandlersBound){var n=this;e.on("results:all",(function(){n._positionDropdown(),n._resizeDropdown()})),e.on("results:append",(function(){n._positionDropdown(),n._resizeDropdown()})),e.on("results:message",(function(){n._positionDropdown(),n._resizeDropdown()})),e.on("select",(function(){n._positionDropdown(),n._resizeDropdown()})),e.on("unselect",(function(){n._positionDropdown(),n._resizeDropdown()})),this._containerResultsHandlersBound=!0}},n.prototype._attachPositioningHandler=function(n,i){var o=this,r="scroll.select2."+i.id,a="resize.select2."+i.id,s="orientationchange.select2."+i.id,u=this.$container.parents().filter(e.hasScroll);u.each((function(){e.StoreData(this,"select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})})),u.on(r,(function(n){var i=e.GetData(this,"select2-scroll-position");t(this).scrollTop(i.y)})),t(window).on(r+" "+a+" "+s,(function(t){o._positionDropdown(),o._resizeDropdown()}))},n.prototype._detachPositioningHandler=function(n,i){var o="scroll.select2."+i.id,r="resize.select2."+i.id,a="orientationchange.select2."+i.id;this.$container.parents().filter(e.hasScroll).off(o),t(window).off(o+" "+r+" "+a)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown[0].classList.contains("select2-dropdown--above"),i=this.$dropdown[0].classList.contains("select2-dropdown--below"),o=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=r.top,a.bottom=r.top+a.height;var s=this.$dropdown.outerHeight(!1),u=e.scrollTop(),c=e.scrollTop()+e.height(),l=u<r.top-s,d=c>r.bottom+s,p={left:r.left,top:a.bottom},f=this.$dropdownParent;"static"===f.css("position")&&(f=f.offsetParent());var h={top:0,left:0};(t.contains(document.body,f[0])||f[0].isConnected)&&(h=f.offset()),p.top-=h.top,p.left-=h.left,n||i||(o="below"),d||!l||n?!l&&d&&n&&(o="below"):o="above",("above"==o||n&&"below"!==o)&&(p.top=a.top-h.top-s),null!=o&&(this.$dropdown[0].classList.remove("select2-dropdown--below"),this.$dropdown[0].classList.remove("select2-dropdown--above"),this.$dropdown[0].classList.add("select2-dropdown--"+o),this.$container[0].classList.remove("select2-container--below"),this.$container[0].classList.remove("select2-container--above"),this.$container[0].classList.add("select2-container--"+o)),this.$dropdownContainer.css(p)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n})),e.define("select2/dropdown/minimumResultsForSearch",[],(function(){function t(e){for(var n=0,i=0;i<e.length;i++){var o=e[i];o.children?n+=t(o.children):n++}return n}function e(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return e.prototype.showSearch=function(e,n){return!(t(n.data.results)<this.minimumResultsForSearch)&&e.call(this,n)},e})),e.define("select2/dropdown/selectOnClose",["../utils"],(function(t){function e(){}return e.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",(function(t){i._handleSelectOnClose(t)}))},e.prototype._handleSelectOnClose=function(e,n){if(n&&null!=n.originalSelect2Event){var i=n.originalSelect2Event;if("select"===i._type||"unselect"===i._type)return}var o=this.getHighlightedResults();if(!(o.length<1)){var r=t.GetData(o[0],"data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},e})),e.define("select2/dropdown/closeOnSelect",[],(function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",(function(t){i._selectTriggered(t)})),e.on("unselect",(function(t){i._selectTriggered(t)}))},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t})),e.define("select2/dropdown/dropdownCss",["../utils"],(function(t){function e(){}return e.prototype.render=function(e){var n=e.call(this),i=this.options.get("dropdownCssClass")||"";return-1!==i.indexOf(":all:")&&(i=i.replace(":all:",""),t.copyNonInternalCssClasses(n[0],this.$element[0])),n.addClass(i),n},e})),e.define("select2/dropdown/tagsSearchHighlight",["../utils"],(function(t){function e(){}return e.prototype.highlightFirstItem=function(e){var n=this.$results.find(".select2-results__option--selectable:not(.select2-results__option--selected)");if(n.length>0){var i=n.first(),o=t.GetData(i[0],"data").element;if(o&&o.getAttribute&&"true"===o.getAttribute("data-select2-tag"))return void i.trigger("mouseenter")}e.call(this)},e})),e.define("select2/i18n/en",[],(function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching…"},removeAllItems:function(){return"Remove all items"},removeItem:function(){return"Remove item"},search:function(){return"Search"}}})),e.define("select2/defaults",["jquery","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/selectionCss","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./dropdown/dropdownCss","./dropdown/tagsSearchHighlight","./i18n/en"],(function(t,e,n,i,o,r,a,s,u,c,l,d,p,f,h,m,y,g,_,v,b,w,A,k,T,E,D,M,C,x,L){function S(){this.reset()}return S.prototype.apply=function(l){if(null==(l=t.extend(!0,{},this.defaults,l)).dataAdapter&&(null!=l.ajax?l.dataAdapter=h:null!=l.data?l.dataAdapter=f:l.dataAdapter=p,l.minimumInputLength>0&&(l.dataAdapter=c.Decorate(l.dataAdapter,g)),l.maximumInputLength>0&&(l.dataAdapter=c.Decorate(l.dataAdapter,_)),l.maximumSelectionLength>0&&(l.dataAdapter=c.Decorate(l.dataAdapter,v)),l.tags&&(l.dataAdapter=c.Decorate(l.dataAdapter,m)),null==l.tokenSeparators&&null==l.tokenizer||(l.dataAdapter=c.Decorate(l.dataAdapter,y))),null==l.resultsAdapter&&(l.resultsAdapter=e,null!=l.ajax&&(l.resultsAdapter=c.Decorate(l.resultsAdapter,k)),null!=l.placeholder&&(l.resultsAdapter=c.Decorate(l.resultsAdapter,A)),l.selectOnClose&&(l.resultsAdapter=c.Decorate(l.resultsAdapter,D)),l.tags&&(l.resultsAdapter=c.Decorate(l.resultsAdapter,x))),null==l.dropdownAdapter){if(l.multiple)l.dropdownAdapter=b;else{var d=c.Decorate(b,w);l.dropdownAdapter=d}0!==l.minimumResultsForSearch&&(l.dropdownAdapter=c.Decorate(l.dropdownAdapter,E)),l.closeOnSelect&&(l.dropdownAdapter=c.Decorate(l.dropdownAdapter,M)),null!=l.dropdownCssClass&&(l.dropdownAdapter=c.Decorate(l.dropdownAdapter,C)),l.dropdownAdapter=c.Decorate(l.dropdownAdapter,T)}null==l.selectionAdapter&&(l.multiple?l.selectionAdapter=i:l.selectionAdapter=n,null!=l.placeholder&&(l.selectionAdapter=c.Decorate(l.selectionAdapter,o)),l.allowClear&&(l.selectionAdapter=c.Decorate(l.selectionAdapter,r)),l.multiple&&(l.selectionAdapter=c.Decorate(l.selectionAdapter,a)),null!=l.selectionCssClass&&(l.selectionAdapter=c.Decorate(l.selectionAdapter,s)),l.selectionAdapter=c.Decorate(l.selectionAdapter,u)),l.language=this._resolveLanguage(l.language),l.language.push("en");for(var L=[],S=0;S<l.language.length;S++){var I=l.language[S];-1===L.indexOf(I)&&L.push(I)}return l.language=L,l.translations=this._processTranslations(l.language,l.debug),l},S.prototype.reset=function(){function e(t){return t.replace(/[^\u0000-\u007E]/g,(function(t){return d[t]||t}))}this.defaults={amdLanguageBase:"./i18n/",autocomplete:"off",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:{},matcher:function n(i,o){if(null==i.term||""===i.term.trim())return o;if(o.children&&o.children.length>0){for(var r=t.extend(!0,{},o),a=o.children.length-1;a>=0;a--)null==n(i,o.children[a])&&r.children.splice(a,1);return r.children.length>0?r:n(i,r)}var s=e(o.text).toUpperCase(),u=e(i.term).toUpperCase();return s.indexOf(u)>-1?o:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},S.prototype.applyFromElement=function(t,e){var n=t.language,i=this.defaults.language,o=e.prop("lang"),r=e.closest("[lang]").prop("lang"),a=Array.prototype.concat.call(this._resolveLanguage(o),this._resolveLanguage(n),this._resolveLanguage(i),this._resolveLanguage(r));return t.language=a,t},S.prototype._resolveLanguage=function(e){if(!e)return[];if(t.isEmptyObject(e))return[];if(t.isPlainObject(e))return[e];var n;n=Array.isArray(e)?e:[e];for(var i=[],o=0;o<n.length;o++)if(i.push(n[o]),"string"==typeof n[o]&&n[o].indexOf("-")>0){var r=n[o].split("-")[0];i.push(r)}return i},S.prototype._processTranslations=function(e,n){for(var i=new l,o=0;o<e.length;o++){var r=new l,a=e[o];if("string"==typeof a)try{r=l.loadPath(a)}catch(t){try{a=this.defaults.amdLanguageBase+a,r=l.loadPath(a)}catch(t){n&&window.console&&console.warn&&console.warn('Select2: The language file for "'+a+'" could not be automatically loaded. A fallback will be used instead.')}}else r=t.isPlainObject(a)?new l(a):a;i.extend(r)}return i},S.prototype.set=function(e,n){var i={};i[t.camelCase(e)]=n;var o=c._convertData(i);t.extend(!0,this.defaults,o)},new S})),e.define("select2/options",["jquery","./defaults","./utils"],(function(t,e,n){function i(t,n){this.options=t,null!=n&&this.fromElement(n),null!=n&&(this.options=e.applyFromElement(this.options,n)),this.options=e.apply(this.options)}return i.prototype.fromElement=function(e){var i=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.autocomplete&&e.prop("autocomplete")&&(this.options.autocomplete=e.prop("autocomplete")),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),n.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),n.StoreData(e[0],"data",n.GetData(e[0],"select2Tags")),n.StoreData(e[0],"tags",!0)),n.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",n.GetData(e[0],"ajaxUrl")),n.StoreData(e[0],"ajax-Url",n.GetData(e[0],"ajaxUrl")));var o={};function r(t,e){return e.toUpperCase()}for(var a=0;a<e[0].attributes.length;a++){var s=e[0].attributes[a].name,u="data-";if(s.substr(0,5)==u){var c=s.substring(5),l=n.GetData(e[0],c);o[c.replace(/-([a-z])/g,r)]=l}}t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset&&(o=t.extend(!0,{},e[0].dataset,o));var d=t.extend(!0,{},n.GetData(e[0]),o);for(var p in d=n._convertData(d))i.indexOf(p)>-1||(t.isPlainObject(this.options[p])?t.extend(this.options[p],d[p]):this.options[p]=d[p]);return this},i.prototype.get=function(t){return this.options[t]},i.prototype.set=function(t,e){this.options[t]=e},i})),e.define("select2/core",["jquery","./options","./utils","./keys"],(function(t,e,n,i){var o=function(t,i){null!=n.GetData(t[0],"select2")&&n.GetData(t[0],"select2").destroy(),this.$element=t,this.id=this._generateId(t),i=i||{},this.options=new e(i,t),o.__super__.constructor.call(this);var r=t.attr("tabindex")||0;n.StoreData(t[0],"old-tabindex",r),t.attr("tabindex","-1");var a=this.options.get("dataAdapter");this.dataAdapter=new a(t,this.options);var s=this.render();this._placeContainer(s);var u=this.options.get("selectionAdapter");this.selection=new u(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var c=this.options.get("dropdownAdapter");this.dropdown=new c(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var l=this.options.get("resultsAdapter");this.results=new l(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current((function(t){d.trigger("selection:update",{data:t})})),t[0].classList.add("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),n.StoreData(t[0],"select2",this),t.data("select2",this)};return n.Extend(o,n.Observable),o.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},o.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},o.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var o=t.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"==e){var r=t.attr("style");if("string"!=typeof r)return null;for(var a=r.split(";"),s=0,u=a.length;s<u;s+=1){var c=a[s].replace(/\s/g,"").match(n);if(null!==c&&c.length>=1)return c[1]}return null}return"computedstyle"==e?window.getComputedStyle(t[0]).width:e},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",(function(){t.dataAdapter.current((function(e){t.trigger("selection:update",{data:e})}))})),this.$element.on("focus.select2",(function(e){t.trigger("focus",e)})),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this._observer=new window.MutationObserver((function(e){t._syncA(),t._syncS(e)})),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})},o.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",(function(e,n){t.trigger(e,n)}))},o.prototype._registerSelectionEvents=function(){var t=this,e=["toggle","focus"];this.selection.on("toggle",(function(){t.toggleDropdown()})),this.selection.on("focus",(function(e){t.focus(e)})),this.selection.on("*",(function(n,i){-1===e.indexOf(n)&&t.trigger(n,i)}))},o.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",(function(e,n){t.trigger(e,n)}))},o.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",(function(e,n){t.trigger(e,n)}))},o.prototype._registerEvents=function(){var t=this;this.on("open",(function(){t.$container[0].classList.add("select2-container--open")})),this.on("close",(function(){t.$container[0].classList.remove("select2-container--open")})),this.on("enable",(function(){t.$container[0].classList.remove("select2-container--disabled")})),this.on("disable",(function(){t.$container[0].classList.add("select2-container--disabled")})),this.on("blur",(function(){t.$container[0].classList.remove("select2-container--focus")})),this.on("query",(function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,(function(n){t.trigger("results:all",{data:n,query:e})}))})),this.on("query:append",(function(e){this.dataAdapter.query(e,(function(n){t.trigger("results:append",{data:n,query:e})}))})),this.on("keypress",(function(e){var n=e.which;t.isOpen()?n===i.ESC||n===i.UP&&e.altKey?(t.close(e),e.preventDefault()):n===i.ENTER||n===i.TAB?(t.trigger("results:select",{}),e.preventDefault()):n===i.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===i.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===i.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&e.altKey)&&(t.open(),e.preventDefault())}))},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype._isChangeMutation=function(t){var e=this;if(t.addedNodes&&t.addedNodes.length>0){for(var n=0;n<t.addedNodes.length;n++)if(t.addedNodes[n].selected)return!0}else{if(t.removedNodes&&t.removedNodes.length>0)return!0;if(Array.isArray(t))return t.some((function(t){return e._isChangeMutation(t)}))}return!1},o.prototype._syncSubtree=function(t){var e=this._isChangeMutation(t),n=this;e&&this.dataAdapter.current((function(t){n.trigger("selection:update",{data:t})}))},o.prototype.trigger=function(t,e){var n=o.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===e&&(e={}),t in i){var r=i[t],a={prevented:!1,name:t,args:e};if(n.call(this,r,a),a.prevented)return void(e.prevented=!0)}n.call(this,t,e)},o.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},o.prototype.close=function(t){this.isOpen()&&this.trigger("close",{originalEvent:t})},o.prototype.isEnabled=function(){return!this.isDisabled()},o.prototype.isDisabled=function(){return this.options.get("disabled")},o.prototype.isOpen=function(){return this.$container[0].classList.contains("select2-container--open")},o.prototype.hasFocus=function(){return this.$container[0].classList.contains("select2-container--focus")},o.prototype.focus=function(t){this.hasFocus()||(this.$container[0].classList.add("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},o.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current((function(e){t=e})),t},o.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var e=t[0];Array.isArray(e)&&(e=e.map((function(t){return t.toString()}))),this.$element.val(e).trigger("input").trigger("change")},o.prototype.destroy=function(){n.RemoveData(this.$container[0]),this.$container.remove(),this._observer.disconnect(),this._observer=null,this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",n.GetData(this.$element[0],"old-tabindex")),this.$element[0].classList.remove("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),n.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container[0].classList.add("select2-container--"+this.options.get("theme")),n.StoreData(e[0],"element",this.$element),e},o})),e.define("jquery-mousewheel",["jquery"],(function(t){return t})),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],(function(t,e,n,i,o){if(null==t.fn.select2){var r=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each((function(){var i=t.extend(!0,{},e);new n(t(this),i)})),this;if("string"==typeof e){var i,a=Array.prototype.slice.call(arguments,1);return this.each((function(){var t=o.GetData(this,"select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),i=t[e].apply(t,a)})),r.indexOf(e)>-1?this:i}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=i),n})),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n})?i.apply(e,o):i)||(t.exports=r)},7604:(t,e,n)=>{var i;!function(){"use strict";var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function r(t){return function(t,e){var n,i,a,s,u,c,l,d,p,f=1,h=t.length,m="";for(i=0;i<h;i++)if("string"==typeof t[i])m+=t[i];else if("object"==typeof t[i]){if((s=t[i]).keys)for(n=e[f],a=0;a<s.keys.length;a++){if(null==n)throw new Error(r('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[a],s.keys[a-1]));n=n[s.keys[a]]}else n=s.param_no?e[s.param_no]:e[f++];if(o.not_type.test(s.type)&&o.not_primitive.test(s.type)&&n instanceof Function&&(n=n()),o.numeric_arg.test(s.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(r("[sprintf] expecting number but found %T",n));switch(o.number.test(s.type)&&(d=n>=0),s.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,s.width?parseInt(s.width):0);break;case"e":n=s.precision?parseFloat(n).toExponential(s.precision):parseFloat(n).toExponential();break;case"f":n=s.precision?parseFloat(n).toFixed(s.precision):parseFloat(n);break;case"g":n=s.precision?String(Number(n.toPrecision(s.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=s.precision?n.substring(0,s.precision):n;break;case"t":n=String(!!n),n=s.precision?n.substring(0,s.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=s.precision?n.substring(0,s.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=s.precision?n.substring(0,s.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}o.json.test(s.type)?m+=n:(!o.number.test(s.type)||d&&!s.sign?p="":(p=d?"+":"-",n=n.toString().replace(o.sign,"")),c=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",l=s.width-(p+n).length,u=s.width&&l>0?c.repeat(l):"",m+=s.align?p+n+u:"0"===c?p+u+n:u+p+n)}return m}(function(t){if(s[t])return s[t];for(var e,n=t,i=[],r=0;n;){if(null!==(e=o.text.exec(n)))i.push(e[0]);else if(null!==(e=o.modulo.exec(n)))i.push("%");else{if(null===(e=o.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){r|=1;var a=[],u=e[2],c=[];if(null===(c=o.key.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(c[1]);""!==(u=u.substring(c[0].length));)if(null!==(c=o.key_access.exec(u)))a.push(c[1]);else{if(null===(c=o.index_access.exec(u)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(c[1])}e[2]=a}else r|=2;if(3===r)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}n=n.substring(e[0].length)}return s[t]=i}(t),arguments)}function a(t,e){return r.apply(null,[t].concat(e||[]))}var s=Object.create(null);"undefined"!=typeof window&&(window.sprintf=r,window.vsprintf=a,void 0===(i=function(){return{sprintf:r,vsprintf:a}}.call(e,n,e,t))||(t.exports=i))}()},4724:(t,e,n)=>{var i=n(936);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},9357:(t,e,n)=>{var i=n(4889);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},1099:(t,e,n)=>{var i=n(4135);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},2981:(t,e,n)=>{var i=n(8657);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},3646:(t,e,n)=>{var i=n(322);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},9562:(t,e,n)=>{var i=n(6366);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},6362:(t,e,n)=>{var i=n(2198);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},983:(t,e,n)=>{var i=n(9371);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},8079:(t,e,n)=>{var i=n(4139);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},4256:(t,e,n)=>{var i=n(8244);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},7099:(t,e,n)=>{var i=n(4551);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},8266:(t,e,n)=>{var i=n(8502);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},1792:(t,e,n)=>{var i=n(2796);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},3989:(t,e,n)=>{var i=n(5121);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},4339:(t,e,n)=>{var i=n(9439);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},8422:(t,e,n)=>{var i=n(1546);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},4821:(t,e,n)=>{var i=n(9313);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},79:(t,e,n)=>{var i=n(6387);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},4983:(t,e,n)=>{var i=n(5795);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},3118:(t,e,n)=>{var i=n(4130);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},4021:(t,e,n)=>{var i=n(8937);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},8491:(t,e,n)=>{var i=n(1079);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},967:(t,e,n)=>{var i=n(6219);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},2407:(t,e,n)=>{var i=n(243);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},8969:(t,e,n)=>{var i=n(3741);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},9764:(t,e,n)=>{var i=n(3232);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},5087:(t,e,n)=>{var i=n(2419);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},103:(t,e,n)=>{var i=n(6003);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},1141:(t,e,n)=>{var i=n(1809);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},8456:(t,e,n)=>{var i=n(4324);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},2997:(t,e,n)=>{var i=n(297);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},9886:(t,e,n)=>{var i=n(4250);i&&i.__esModule&&(i=i.default),t.exports="string"==typeof i?i:i.toString()},1669:t=>{"use strict";t.exports=jQuery},4633:(t,e,n)=>{var i=n(3738).default;function o(){"use strict";t.exports=o=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var e,n={},r=Object.prototype,a=r.hasOwnProperty,s=Object.defineProperty||function(t,e,n){t[e]=n.value},u="function"==typeof Symbol?Symbol:{},c=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",d=u.toStringTag||"@@toStringTag";function p(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{p({},"")}catch(e){p=function(t,e,n){return t[e]=n}}function f(t,e,n,i){var o=e&&e.prototype instanceof b?e:b,r=Object.create(o.prototype),a=new O(i||[]);return s(r,"_invoke",{value:x(t,n,a)}),r}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}n.wrap=f;var m="suspendedStart",y="suspendedYield",g="executing",_="completed",v={};function b(){}function w(){}function A(){}var k={};p(k,c,(function(){return this}));var T=Object.getPrototypeOf,E=T&&T(T(j([])));E&&E!==r&&a.call(E,c)&&(k=E);var D=A.prototype=b.prototype=Object.create(k);function M(t){["next","throw","return"].forEach((function(e){p(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function n(o,r,s,u){var c=h(t[o],t,r);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==i(d)&&a.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):e.resolve(d).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var o;s(this,"_invoke",{value:function(t,i){function r(){return new e((function(e,o){n(t,i,e,o)}))}return o=o?o.then(r,r):r()}})}function x(t,n,i){var o=m;return function(r,a){if(o===g)throw Error("Generator is already running");if(o===_){if("throw"===r)throw a;return{value:e,done:!0}}for(i.method=r,i.arg=a;;){var s=i.delegate;if(s){var u=L(s,i);if(u){if(u===v)continue;return u}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(o===m)throw o=_,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);o=g;var c=h(t,n,i);if("normal"===c.type){if(o=i.done?_:y,c.arg===v)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(o=_,i.method="throw",i.arg=c.arg)}}}function L(t,n){var i=n.method,o=t.iterator[i];if(o===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),v;var r=h(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function j(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function n(){for(;++o<t.length;)if(a.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(i(t)+" is not iterable")}return w.prototype=A,s(D,"constructor",{value:A,configurable:!0}),s(A,"constructor",{value:w,configurable:!0}),w.displayName=p(A,d,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,A):(t.__proto__=A,p(t,d,"GeneratorFunction")),t.prototype=Object.create(D),t},n.awrap=function(t){return{__await:t}},M(C.prototype),p(C.prototype,l,(function(){return this})),n.AsyncIterator=C,n.async=function(t,e,i,o,r){void 0===r&&(r=Promise);var a=new C(f(t,e,i,o),r);return n.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},M(D),p(D,d,"Generator"),p(D,c,(function(){return this})),p(D,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=Object(t),n=[];for(var i in e)n.push(i);return n.reverse(),function t(){for(;n.length;){var i=n.pop();if(i in e)return t.value=i,t.done=!1,t}return t.done=!0,t}},n.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(i,o){return s.type="throw",s.arg=t,n.next=i,o&&(n.method="next",n.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],s=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var u=a.call(r,"catchLoc"),c=a.call(r,"finallyLoc");if(u&&c){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(u){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=t,r.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:j(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),v}},n}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},3738:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},4756:(t,e,n)=>{var i=n(4633)();t.exports=i;try{regeneratorRuntime=i}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},3145:(t,e,n)=>{"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}n.d(e,{A:()=>i})},9417:(t,e,n)=>{"use strict";function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,{A:()=>i})},467:(t,e,n)=>{"use strict";function i(t,e,n,i,o,r,a){try{var s=t[r](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(i,o)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function s(t){i(a,o,r,s,u,"next",t)}function u(t){i(a,o,r,s,u,"throw",t)}s(void 0)}))}}n.d(e,{A:()=>o})},3029:(t,e,n)=>{"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,{A:()=>i})},2901:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var i=n(816);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(0,i.A)(o.key),o)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}},4467:(t,e,n)=>{"use strict";n.d(e,{A:()=>o});var i=n(816);function o(t,e,n){return(e=(0,i.A)(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},3954:(t,e,n)=>{"use strict";function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}n.d(e,{A:()=>i})},5361:(t,e,n)=>{"use strict";function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i(t,e)}n.d(e,{A:()=>o})},6822:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var i=n(2284),o=n(9417);function r(t,e){if(e&&("object"==(0,i.A)(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.A)(t)}},296:(t,e,n)=>{"use strict";n.d(e,{A:()=>o});var i=n(7800);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,o,r,a,s=[],u=!0,c=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=r.call(n)).done)&&(s.push(i.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||(0,i.A)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},7528:(t,e,n)=>{"use strict";function i(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}n.d(e,{A:()=>i})},5458:(t,e,n)=>{"use strict";n.d(e,{A:()=>r});var i=n(3145),o=n(7800);function r(t){return function(t){if(Array.isArray(t))return(0,i.A)(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,o.A)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},816:(t,e,n)=>{"use strict";n.d(e,{A:()=>o});var i=n(2284);function o(t){var e=function(t){if("object"!=(0,i.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,i.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,i.A)(e)?e:e+""}},2284:(t,e,n)=>{"use strict";function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}n.d(e,{A:()=>i})},7800:(t,e,n)=>{"use strict";n.d(e,{A:()=>o});var i=n(3145);function o(t,e){if(t){if("string"==typeof t)return(0,i.A)(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i.A)(t,e):void 0}}},842:(t,e,n)=>{"use strict";n.d(e,{mN:()=>D,AH:()=>c,W3:()=>k,Ec:()=>T,iz:()=>u});const i=globalThis,o=i.ShadowRoot&&(void 0===i.ShadyCSS||i.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,r=Symbol(),a=new WeakMap;class s{constructor(t,e,n){if(this._$cssResult$=!0,n!==r)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(o&&void 0===t){const n=void 0!==e&&1===e.length;n&&(t=a.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&a.set(e,t))}return t}toString(){return this.cssText}}const u=t=>new s("string"==typeof t?t:t+"",void 0,r),c=(t,...e)=>{const n=1===t.length?t[0]:e.reduce(((e,n,i)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+t[i+1]),t[0]);return new s(n,t,r)},l=(t,e)=>{if(o)t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const n of e){const e=document.createElement("style"),o=i.litNonce;void 0!==o&&e.setAttribute("nonce",o),e.textContent=n.cssText,t.appendChild(e)}},d=o?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const n of t.cssRules)e+=n.cssText;return u(e)})(t):t,{is:p,defineProperty:f,getOwnPropertyDescriptor:h,getOwnPropertyNames:m,getOwnPropertySymbols:y,getPrototypeOf:g}=Object,_=globalThis,v=_.trustedTypes,b=v?v.emptyScript:"",w=_.reactiveElementPolyfillSupport,A=(t,e)=>t,k={toAttribute(t,e){switch(e){case Boolean:t=t?b:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=null!==t;break;case Number:n=null===t?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(t){n=null}}return n}},T=(t,e)=>!p(t,e),E={attribute:!0,type:String,converter:k,reflect:!1,hasChanged:T};Symbol.metadata??=Symbol("metadata"),_.litPropertyMetadata??=new WeakMap;class D extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=E){if(e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(t,e),!e.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(t,n,e);void 0!==i&&f(this.prototype,t,i)}}static getPropertyDescriptor(t,e,n){const{get:i,set:o}=h(this.prototype,t)??{get(){return this[e]},set(t){this[e]=t}};return{get(){return i?.call(this)},set(e){const r=i?.call(this);o.call(this,e),this.requestUpdate(t,r,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??E}static _$Ei(){if(this.hasOwnProperty(A("elementProperties")))return;const t=g(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(A("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(A("properties"))){const t=this.properties,e=[...m(t),...y(t)];for(const n of e)this.createProperty(n,t[n])}const t=this[Symbol.metadata];if(null!==t){const e=litPropertyMetadata.get(t);if(void 0!==e)for(const[t,n]of e)this.elementProperties.set(t,n)}this._$Eh=new Map;for(const[t,e]of this.elementProperties){const n=this._$Eu(t,e);void 0!==n&&this._$Eh.set(n,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const t of n)e.unshift(d(t))}else void 0!==t&&e.push(d(t));return e}static _$Eu(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const n of e.keys())this.hasOwnProperty(n)&&(t.set(n,this[n]),delete this[n]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return l(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,e,n){this._$AK(t,n)}_$EC(t,e){const n=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,n);if(void 0!==i&&!0===n.reflect){const o=(void 0!==n.converter?.toAttribute?n.converter:k).toAttribute(e,n.type);this._$Em=t,null==o?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(t,e){const n=this.constructor,i=n._$Eh.get(t);if(void 0!==i&&this._$Em!==i){const t=n.getPropertyOptions(i),o="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:k;this._$Em=i,this[i]=o.fromAttribute(e,t.type),this._$Em=null}}requestUpdate(t,e,n){if(void 0!==t){if(n??=this.constructor.getPropertyOptions(t),!(n.hasChanged??T)(this[t],e))return;this.P(t,e,n)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(t,e,n){this._$AL.has(t)||this._$AL.set(t,e),!0===n.reflect&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,n]of t)!0!==n.wrapped||this._$AL.has(e)||void 0===this[e]||this.P(e,this[e],n)}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(e)):this._$EU()}catch(e){throw t=!1,this._$EU(),e}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach((t=>this._$EC(t,this[t]))),this._$EU()}updated(t){}firstUpdated(t){}}D.elementStyles=[],D.shadowRootOptions={mode:"open"},D[A("elementProperties")]=new Map,D[A("finalized")]=new Map,w?.({ReactiveElement:D}),(_.reactiveElementVersions??=[]).push("2.0.4")},6201:(t,e,n)=>{"use strict";n.d(e,{Kq:()=>d});var i=n(8504),o=n(7804);const r=(t,e)=>{const n=t._$AN;if(void 0===n)return!1;for(const t of n)t._$AO?.(e,!1),r(t,e);return!0},a=t=>{let e,n;do{if(void 0===(e=t._$AM))break;n=e._$AN,n.delete(t),t=e}while(0===n?.size)},s=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(void 0===n)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),l(e)}};function u(t){void 0!==this._$AN?(a(this),this._$AM=t,s(this)):this._$AM=t}function c(t,e=!1,n=0){const i=this._$AH,o=this._$AN;if(void 0!==o&&0!==o.size)if(e)if(Array.isArray(i))for(let t=n;t<i.length;t++)r(i[t],!1),a(i[t]);else null!=i&&(r(i,!1),a(i));else r(this,t)}const l=t=>{t.type==o.OA.CHILD&&(t._$AP??=c,t._$AQ??=u)};class d extends o.WL{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,n){super._$AT(t,e,n),s(this),this.isConnected=t._$AU}_$AO(t,e=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),e&&(r(this,t),a(this))}setValue(t){if((0,i.Rt)(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}},8504:(t,e,n)=>{"use strict";n.d(e,{Dx:()=>u,KO:()=>f,Rt:()=>a,cN:()=>p,lx:()=>c,mY:()=>d,sO:()=>r});var i=n(6752);const{I:o}=i.ge,r=t=>null===t||"object"!=typeof t&&"function"!=typeof t,a=t=>void 0===t.strings,s=()=>document.createComment(""),u=(t,e,n)=>{const i=t._$AA.parentNode,r=void 0===e?t._$AB:e._$AA;if(void 0===n){const e=i.insertBefore(s(),r),a=i.insertBefore(s(),r);n=new o(e,a,t,t.options)}else{const e=n._$AB.nextSibling,o=n._$AM,a=o!==t;if(a){let e;n._$AQ?.(t),n._$AM=t,void 0!==n._$AP&&(e=t._$AU)!==o._$AU&&n._$AP(e)}if(e!==r||a){let t=n._$AA;for(;t!==e;){const e=t.nextSibling;i.insertBefore(t,r),t=e}}}return n},c=(t,e,n=t)=>(t._$AI(e,n),t),l={},d=(t,e=l)=>t._$AH=e,p=t=>t._$AH,f=t=>{t._$AP?.(!1,!0);let e=t._$AA;const n=t._$AB.nextSibling;for(;e!==n;){const t=e.nextSibling;e.remove(),e=t}}},7804:(t,e,n)=>{"use strict";n.d(e,{OA:()=>i,WL:()=>r,u$:()=>o});const i={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},o=t=>(...e)=>({_$litDirective$:t,values:e});class r{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,n){this._$Ct=t,this._$AM=e,this._$Ci=n}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}},6752:(t,e,n)=>{"use strict";n.d(e,{XX:()=>V,c0:()=>E,ge:()=>R,qy:()=>T,s6:()=>D});const i=globalThis,o=i.trustedTypes,r=o?o.createPolicy("lit-html",{createHTML:t=>t}):void 0,a="$lit$",s=`lit$${Math.random().toFixed(9).slice(2)}$`,u="?"+s,c=`<${u}>`,l=document,d=()=>l.createComment(""),p=t=>null===t||"object"!=typeof t&&"function"!=typeof t,f=Array.isArray,h=t=>f(t)||"function"==typeof t?.[Symbol.iterator],m="[ \t\n\f\r]",y=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,g=/-->/g,_=/>/g,v=RegExp(`>|${m}(?:([^\\s"'>=/]+)(${m}*=${m}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),b=/'/g,w=/"/g,A=/^(?:script|style|textarea|title)$/i,k=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),T=k(1),E=(k(2),Symbol.for("lit-noChange")),D=Symbol.for("lit-nothing"),M=new WeakMap,C=l.createTreeWalker(l,129);function x(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==r?r.createHTML(e):e}const L=(t,e)=>{const n=t.length-1,i=[];let o,r=2===e?"<svg>":"",u=y;for(let e=0;e<n;e++){const n=t[e];let l,d,p=-1,f=0;for(;f<n.length&&(u.lastIndex=f,d=u.exec(n),null!==d);)f=u.lastIndex,u===y?"!--"===d[1]?u=g:void 0!==d[1]?u=_:void 0!==d[2]?(A.test(d[2])&&(o=RegExp("</"+d[2],"g")),u=v):void 0!==d[3]&&(u=v):u===v?">"===d[0]?(u=o??y,p=-1):void 0===d[1]?p=-2:(p=u.lastIndex-d[2].length,l=d[1],u=void 0===d[3]?v:'"'===d[3]?w:b):u===w||u===b?u=v:u===g||u===_?u=y:(u=v,o=void 0);const h=u===v&&t[e+1].startsWith("/>")?" ":"";r+=u===y?n+c:p>=0?(i.push(l),n.slice(0,p)+a+n.slice(p)+s+h):n+s+(-2===p?e:h)}return[x(t,r+(t[n]||"<?>")+(2===e?"</svg>":"")),i]};class S{constructor({strings:t,_$litType$:e},n){let i;this.parts=[];let r=0,c=0;const l=t.length-1,p=this.parts,[f,h]=L(t,e);if(this.el=S.createElement(f,n),C.currentNode=this.el.content,2===e){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(i=C.nextNode())&&p.length<l;){if(1===i.nodeType){if(i.hasAttributes())for(const t of i.getAttributeNames())if(t.endsWith(a)){const e=h[c++],n=i.getAttribute(t).split(s),o=/([.?@])?(.*)/.exec(e);p.push({type:1,index:r,name:o[2],strings:n,ctor:"."===o[1]?P:"?"===o[1]?H:"@"===o[1]?F:U}),i.removeAttribute(t)}else t.startsWith(s)&&(p.push({type:6,index:r}),i.removeAttribute(t));if(A.test(i.tagName)){const t=i.textContent.split(s),e=t.length-1;if(e>0){i.textContent=o?o.emptyScript:"";for(let n=0;n<e;n++)i.append(t[n],d()),C.nextNode(),p.push({type:2,index:++r});i.append(t[e],d())}}}else if(8===i.nodeType)if(i.data===u)p.push({type:2,index:r});else{let t=-1;for(;-1!==(t=i.data.indexOf(s,t+1));)p.push({type:7,index:r}),t+=s.length-1}r++}}static createElement(t,e){const n=l.createElement("template");return n.innerHTML=t,n}}function I(t,e,n=t,i){if(e===E)return e;let o=void 0!==i?n._$Co?.[i]:n._$Cl;const r=p(e)?void 0:e._$litDirective$;return o?.constructor!==r&&(o?._$AO?.(!1),void 0===r?o=void 0:(o=new r(t),o._$AT(t,n,i)),void 0!==i?(n._$Co??=[])[i]=o:n._$Cl=o),void 0!==o&&(e=I(t,o._$AS(t,e.values),o,i)),e}class O{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:n}=this._$AD,i=(t?.creationScope??l).importNode(e,!0);C.currentNode=i;let o=C.nextNode(),r=0,a=0,s=n[0];for(;void 0!==s;){if(r===s.index){let e;2===s.type?e=new j(o,o.nextSibling,this,t):1===s.type?e=new s.ctor(o,s.name,s.strings,this,t):6===s.type&&(e=new $(o,this,t)),this._$AV.push(e),s=n[++a]}r!==s?.index&&(o=C.nextNode(),r++)}return C.currentNode=l,i}p(t){let e=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(t,n,e),e+=n.strings.length-2):n._$AI(t[e])),e++}}class j{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,n,i){this.type=2,this._$AH=D,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=I(this,t,e),p(t)?t===D||null==t||""===t?(this._$AH!==D&&this._$AR(),this._$AH=D):t!==this._$AH&&t!==E&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):h(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==D&&p(this._$AH)?this._$AA.nextSibling.data=t:this.T(l.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:n}=t,i="number"==typeof n?this._$AC(t):(void 0===n.el&&(n.el=S.createElement(x(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===i)this._$AH.p(e);else{const t=new O(i,this),n=t.u(this.options);t.p(e),this.T(n),this._$AH=t}}_$AC(t){let e=M.get(t.strings);return void 0===e&&M.set(t.strings,e=new S(t)),e}k(t){f(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let n,i=0;for(const o of t)i===e.length?e.push(n=new j(this.S(d()),this.S(d()),this,this.options)):n=e[i],n._$AI(o),i++;i<e.length&&(this._$AR(n&&n._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class U{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,n,i,o){this.type=1,this._$AH=D,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=o,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=D}_$AI(t,e=this,n,i){const o=this.strings;let r=!1;if(void 0===o)t=I(this,t,e,0),r=!p(t)||t!==this._$AH&&t!==E,r&&(this._$AH=t);else{const i=t;let a,s;for(t=o[0],a=0;a<o.length-1;a++)s=I(this,i[n+a],e,a),s===E&&(s=this._$AH[a]),r||=!p(s)||s!==this._$AH[a],s===D?t=D:t!==D&&(t+=(s??"")+o[a+1]),this._$AH[a]=s}r&&!i&&this.j(t)}j(t){t===D?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class P extends U{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===D?void 0:t}}class H extends U{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==D)}}class F extends U{constructor(t,e,n,i,o){super(t,e,n,i,o),this.type=5}_$AI(t,e=this){if((t=I(this,t,e,0)??D)===E)return;const n=this._$AH,i=t===D&&n!==D||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,o=t!==D&&(n===D||i);i&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class ${constructor(t,e,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){I(this,t)}}const R={P:a,A:s,C:u,M:1,L,R:O,D:h,V:I,I:j,H:U,N:H,U:F,B:P,F:$},q=i.litHtmlPolyfillSupport;q?.(S,j),(i.litHtmlVersions??=[]).push("3.1.4");const V=(t,e,n)=>{const i=n?.renderBefore??e;let o=i._$litPart$;if(void 0===o){const t=n?.renderBefore??null;i._$litPart$=o=new j(e.insertBefore(d(),t),t,void 0,n??{})}return o._$AI(t),o}},2777:(t,e,n)=>{"use strict";n.d(e,{EM:()=>i,MZ:()=>s,P:()=>l,wk:()=>u});const i=t=>(e,n)=>{void 0!==n?n.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)};var o=n(842);const r={attribute:!0,type:String,converter:o.W3,reflect:!1,hasChanged:o.Ec},a=(t=r,e,n)=>{const{kind:i,metadata:o}=n;let a=globalThis.litPropertyMetadata.get(o);if(void 0===a&&globalThis.litPropertyMetadata.set(o,a=new Map),a.set(n.name,t),"accessor"===i){const{name:i}=n;return{set(n){const o=e.get.call(this);e.set.call(this,n),this.requestUpdate(i,o,t)},init(e){return void 0!==e&&this.P(i,void 0,t),e}}}if("setter"===i){const{name:i}=n;return function(n){const o=this[i];e.call(this,n),this.requestUpdate(i,o,t)}}throw Error("Unsupported decorator location: "+i)};function s(t){return(e,n)=>"object"==typeof n?a(t,e,n):((t,e,n)=>{const i=e.hasOwnProperty(n);return e.constructor.createProperty(n,i?{...t,wrapped:!0}:t),i?Object.getOwnPropertyDescriptor(e,n):void 0})(t,e,n)}function u(t){return s({...t,state:!0,attribute:!1})}const c=(t,e,n)=>(n.configurable=!0,n.enumerable=!0,Reflect.decorate&&"object"!=typeof e&&Object.defineProperty(t,e,n),n);function l(t,e){return(n,i,o)=>{const r=e=>e.renderRoot?.querySelector(t)??null;if(e){const{get:t,set:e}="object"==typeof i?n:o??(()=>{const t=Symbol();return{get(){return this[t]},set(e){this[t]=e}}})();return c(n,i,{get(){let n=t.call(this);return void 0===n&&(n=r(this),(null!==n||this.hasUpdated)&&e.call(this,n)),n}})}return c(n,i,{get(){return r(this)}})}}},7610:(t,e,n)=>{"use strict";n.d(e,{_:()=>a,K:()=>c});var i=n(6752),o=n(6201),r=n(7804);const a=()=>new s;class s{}const u=new WeakMap,c=(0,r.u$)(class extends o.Kq{render(t){return i.s6}update(t,[e]){const n=e!==this.Y;return n&&void 0!==this.Y&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.Y=e,this.ht=t.options?.host,this.rt(this.ct=t.element)),i.s6}rt(t){if(this.isConnected||(t=void 0),"function"==typeof this.Y){const e=this.ht??globalThis;let n=u.get(e);void 0===n&&(n=new WeakMap,u.set(e,n)),void 0!==n.get(this.Y)&&this.Y.call(this.ht,void 0),n.set(this.Y,t),void 0!==t&&this.Y.call(this.ht,t)}else this.Y.value=t}get lt(){return"function"==typeof this.Y?u.get(this.ht??globalThis)?.get(this.Y):this.Y?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}})},6214:(t,e,n)=>{"use strict";n.d(e,{u:()=>s});var i=n(6752),o=n(7804),r=n(8504);const a=(t,e,n)=>{const i=new Map;for(let o=e;o<=n;o++)i.set(t[o],o);return i},s=(0,o.u$)(class extends o.WL{constructor(t){if(super(t),t.type!==o.OA.CHILD)throw Error("repeat() can only be used in text expressions")}dt(t,e,n){let i;void 0===n?n=e:void 0!==e&&(i=e);const o=[],r=[];let a=0;for(const e of t)o[a]=i?i(e,a):a,r[a]=n(e,a),a++;return{values:r,keys:o}}render(t,e,n){return this.dt(t,e,n).values}update(t,[e,n,o]){const s=(0,r.cN)(t),{values:u,keys:c}=this.dt(e,n,o);if(!Array.isArray(s))return this.ut=c,u;const l=this.ut??=[],d=[];let p,f,h=0,m=s.length-1,y=0,g=u.length-1;for(;h<=m&&y<=g;)if(null===s[h])h++;else if(null===s[m])m--;else if(l[h]===c[y])d[y]=(0,r.lx)(s[h],u[y]),h++,y++;else if(l[m]===c[g])d[g]=(0,r.lx)(s[m],u[g]),m--,g--;else if(l[h]===c[g])d[g]=(0,r.lx)(s[h],u[g]),(0,r.Dx)(t,d[g+1],s[h]),h++,g--;else if(l[m]===c[y])d[y]=(0,r.lx)(s[m],u[y]),(0,r.Dx)(t,s[h],s[m]),m--,y++;else if(void 0===p&&(p=a(c,y,g),f=a(l,h,m)),p.has(l[h]))if(p.has(l[m])){const e=f.get(c[y]),n=void 0!==e?s[e]:null;if(null===n){const e=(0,r.Dx)(t,s[h]);(0,r.lx)(e,u[y]),d[y]=e}else d[y]=(0,r.lx)(n,u[y]),(0,r.Dx)(t,s[h],n),s[e]=null;y++}else(0,r.KO)(s[m]),m--;else(0,r.KO)(s[h]),h++;for(;y<=g;){const e=(0,r.Dx)(t,d[g+1]);(0,r.lx)(e,u[y]),d[y++]=e}for(;h<=m;){const t=s[h++];null!==t&&(0,r.KO)(t)}return this.ut=c,(0,r.mY)(t,d),i.c0}})},2618:(t,e,n)=>{"use strict";n.d(e,{WF:()=>r,AH:()=>i.AH,qy:()=>o.qy,XX:()=>o.XX,iz:()=>i.iz});var i=n(842),o=n(6752);class r extends i.mN{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=(0,o.XX)(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return o.c0}}r._$litElement$=!0,r.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:r});const a=globalThis.litElementPolyfillSupport;a?.({LitElement:r}),(globalThis.litElementVersions??=[]).push("4.0.6")}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,exports:{}};return __webpack_modules__[t](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;__webpack_require__.g.importScripts&&(t=__webpack_require__.g.location+"");var e=__webpack_require__.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&(!t||!/^http(s?):/.test(t));)t=n[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=t})();var __webpack_exports__={};(()=>{"use strict";var t={};__webpack_require__.r(t),__webpack_require__.d(t,{hasLoopFilters:()=>f,hasUniversalTokens:()=>m,isAvailable:()=>y});var e={};__webpack_require__.r(e),__webpack_require__.d(e,{_filters:()=>t,filterIntegrations:()=>b,getIntegration:()=>_});var n={};__webpack_require__.r(n),__webpack_require__.d(n,{getUniversalToken:()=>O});var i={};__webpack_require__.r(i),__webpack_require__.d(i,{getItem:()=>E,getItemAction:()=>T,getItemTrigger:()=>A,getLoop:()=>x,getLoopFilter:()=>S,token:()=>n});var o={};__webpack_require__.r(o),__webpack_require__.d(o,{integrations:()=>e,items:()=>i});var r={};__webpack_require__.r(r),__webpack_require__.d(r,{removeSchedule:()=>q,setSchedule:()=>$});var a={};__webpack_require__.r(a),__webpack_require__.d(a,{updateFilters:()=>V});var s={};__webpack_require__.r(s),__webpack_require__.d(s,{createLoop:()=>W,createLoopFilter:()=>z,deleteLoop:()=>X,deleteLoopFilter:()=>et,getLoop:()=>it,getLoopFilter:()=>rt,getParentLoop:()=>st,isItemInsideUserLoop:()=>ut,updateLoop:()=>dt,updateLoopFilter:()=>ft});var u={};__webpack_require__.r(u),__webpack_require__.d(u,{actionSchedule:()=>r,createItem:()=>ht,deleteItem:()=>vt,duplicateAction:()=>wt,filter:()=>a,getItem:()=>kt,getItemsActions:()=>Lt,getItemsActionsFlowPath:()=>xt,getItemsTriggers:()=>St,loop:()=>s,setStatusItem:()=>Pt,setTriggerLogic:()=>Ft});var c={};__webpack_require__.r(c),__webpack_require__.d(c,{evaluateRecipeRequiresUserData:()=>$t,setRequiresUserSelector:()=>qt});var l={};__webpack_require__.r(l),__webpack_require__.d(l,{getCurrentWalkthrough:()=>Vt,setWalkthroughProgress:()=>Nt,shouldShowWalkthrough:()=>Wt});var d={};__webpack_require__.r(d),__webpack_require__.d(d,{getRecipeSetting:()=>Bt,getRecipeValidityState:()=>Xt,item:()=>u,runRecipe:()=>Jt,setRecipeNotes:()=>Qt,setRecipeSetting:()=>te,setRecipeStatus:()=>ie,setRecipeTitle:()=>oe,setRecipeType:()=>re,userSelector:()=>c,walkthrough:()=>l});var p=_uo.utility.isEmpty;const f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"users";return!p(t.loop_filters)&&(!!p(e)||Object.values(t.loop_filters).some((function(t){return t.loop_type===e})))};var h=_uo.utility.isEmpty;const m=function(t){return!h(t.tokens)},y=function(t){return t.is_available};var g=_uo.utility.isEmpty;const _=function(t){if(g(t))throw new Error("getIntegration: integrationCode must be defined");return UncannyAutomator._integrations[t]};var v=__webpack_require__(296);const b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=Object.entries(UncannyAutomator._integrations).filter((function(e){var n=(0,v.A)(e,2),i=(n[0],n[1]);return t.every((function(t){return t(i)}))}));return Object.fromEntries(e)};var w=_uo.utility.isEmpty;const A=function(t,e){if(w(t))throw new Error("directory/getItem: The integration code must be defined");if(w(e))throw new Error("directory/getItem: The item code must be defined");var n=_(t);if(!w(n)&&!w(n.triggers.available)&&!w(n.triggers.available[e]))return n.triggers.available[e]};var k=_uo.utility.isEmpty;const T=function(t,e){if(k(t))throw new Error("directory/getItem: The integration code must be defined");if(k(e))throw new Error("directory/getItem: The item code must be defined");var n=_(t);if(!k(n)&&!k(n.actions.available)&&!k(n.actions.available[e]))return n.actions.available[e]},E=function(t,e,n){if(t&&e&&n)return"trigger"===e?A(t,n):"action"===e?T(t,n):void 0};var D,M=__webpack_require__(7528),C=__webpack_require__(2618);const x=function(t){return{token:{fields:[{option_code:"TOKEN",type:"text",label:_uo.utility.escHTML(wp.i18n.__("Token","uncanny-automator")),required:!0,supports_tokens:!0,only_loopable_tokens:!0,show_label_in_sentence:!1,clear_when_adding_token:!0}],sentence:_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("{{Token:%1$s}}","uncanny-automator")),"TOKEN"),dialog_helper:(0,C.qy)(D||(D=(0,M.A)(["\n\t\t\t\t",' <a href="','" target="_blank">',' <uo-icon id="external-link"></uo-icon></a>\n\t\t\t'])),_uo.utility.escHTML(wp.i18n.__("Loop through tokens that contain multiple items, such as Woo products, LearnDash courses, BuddyBoss memberships, and more.","uncanny-automator")),_uo.utility.addParametersUTM("https://automatorplugin.com/knowledge-base/token-loops/",{medium:"token_loop_dialog",content:"learn_more"}),_uo.utility.escHTML(wp.i18n.__("Learn more","uncanny-automator")))}}[t]||{}};var L=_uo.utility.isEmpty;const S=function(t,e){if(L(t))throw new Error("directory/getLoopFilter: The integration code must be defined");if(L(e))throw new Error("directory/getLoopFilter: The loop filter code must be defined");var n=_(t);if(!L(n)&&!L(n.loop_filters[e]))return n.loop_filters[e]};var I=_uo.utility.isEmpty;const O=function(t,e){if(I(t))throw new Error("directory/getUniversalToken: The integration code must be defined");if(I(e))throw new Error("directory/getUniversalToken: The token code must be defined");var n=UncannyAutomator._core.directory.integrations.getIntegration(t);if(I(n))throw new Error('directory/getUniversalToken: The integration with the code "'.concat(t,'" does not exist'));var i=n.tokens.find((function(n){return n.id==="UT:".concat(t,":").concat(e)}));if(I(i))throw new Error('directory/getUniversalToken: The token with the code "'.concat(e,'" does not exist'));return i};var j=__webpack_require__(467),U=__webpack_require__(4756),P=__webpack_require__.n(U),H=__webpack_require__(9622),F=_uo.utility.isEmpty;const $=function(){var t=(0,j.A)(P().mark((function t(e){var n,i,o,r=arguments;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:{},i="uap/builder/core/item/action-schedule/set-schedule",o=UncannyAutomator._core.recipe.item.getItem("action",e),!F(o)){t.next=5;break}throw new Error("setSchedule: The action ".concat(e," doesn't exist"));case 5:return t.abrupt("return",(0,H.s)({eventName:i,endpoint:"schedule_action",method:"POST",data:Object.assign({recipeId:UncannyAutomator._recipe.recipe_id,actionId:e},n),snackbar:{loading:"delay"===n.asyncMode?_uo.utility.escHTML(wp.i18n.__("Saving delay","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("Saving schedule date","uncanny-automator")),success:"delay"===n.asyncMode?_uo.utility.escHTML(wp.i18n.__("Delay saved successfully","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("Schedule date saved successfully","uncanny-automator"))}}).then((function(t){return t.success&&document.dispatchEvent(new CustomEvent(i,{detail:{actionID:e,fields:n}})),t})));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var R=_uo.utility.isEmpty;const q=function(){var t=(0,j.A)(P().mark((function t(e,n){var i,o;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i="uap/builder/core/item/action-schedule/remove-schedule",o=UncannyAutomator._core.recipe.item.getItem("action",e),!R(o)){t.next=4;break}throw new Error("removeSchedule: The action ".concat(e," doesn't exist"));case 4:if(!R(n)){t.next=6;break}throw new Error("removeSchedule: mode must be defined");case 6:return t.abrupt("return",(0,H.s)({eventName:i,endpoint:"remove_schedule",method:"POST",data:{recipeId:UncannyAutomator._recipe.recipe_id,actionId:e},snackbar:{loading:"delay"===n?_uo.utility.escHTML(wp.i18n.__("Removing delay","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("Removing schedule date","uncanny-automator")),success:"delay"===n?_uo.utility.escHTML(wp.i18n.__("Delay removed successfully","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("Schedule date removed successfully","uncanny-automator"))}}).then((function(t){return t.success&&document.dispatchEvent(new CustomEvent(i,{detail:{actionID:e}})),t})));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="uap/builder/core/item/filter/update-filters";return(0,H.s)({eventName:e,endpoint:"actions_conditions_update",method:"POST",data:{recipe_id:UncannyAutomator._recipe.recipe_id,actions_conditions:t},snackbar:{loading:_uo.utility.escHTML(wp.i18n.__("Updating filters","uncanny-automator")),success:_uo.utility.escHTML(wp.i18n.__("Filters updated successfully","uncanny-automator"))}}).then((function(n){return n.success&&document.dispatchEvent(new CustomEvent(e,{detail:{actionsConditions:t}})),n}))};var N=_uo.utility.isEmpty;const W=function(){var t=(0,j.A)(P().mark((function t(e){var n;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n="uap/builder/core/item/loop/create-loop",!N(e)){t.next=3;break}throw new Error("createLoop: The iterable expression must be defined");case 3:return t.abrupt("return",(0,H.s)({eventName:n,endpoint:"loop/".concat(UncannyAutomator._recipe.recipe_id),method:"POST",data:{action:"add_loop_block",iterable_expression:e},snackbar:{loading:_uo.utility.escHTML(wp.i18n.__("Adding new loop","uncanny-automator")),success:_uo.utility.escHTML(wp.i18n.__("Loop added successfully","uncanny-automator"))}}).then((function(t){return t.success&&document.dispatchEvent(new CustomEvent(n,{detail:{iterableExpression:e}})),t})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var B=_uo.utility.isEmpty;const z=function(t,e,n,i,o){if(B(e))throw new Error("createLoopFilter: integrationCode must be defined");if(B(n))throw new Error("createLoopFilter: loopFilterCode must be defined");var r=UncannyAutomator._core.recipe.item.loop.getLoop(t);if(B(r))throw new Error("createLoopFilter: The loop ".concat(t," doesn't exist"));return(0,H.s)({endpoint:"loop/".concat(UncannyAutomator._recipe.recipe_id),method:"POST",data:{action:"add_filter",loop_id:t,loop_filter_integration_code:e,loop_filter_code:n,fields:i,backup:o},snackbar:{loading:_uo.utility.escHTML(wp.i18n.__("Adding new filter loop","uncanny-automator")),success:_uo.utility.escHTML(wp.i18n.__("Filter loop added successfully","uncanny-automator"))}}).then((function(r){return r.success&&document.dispatchEvent(new CustomEvent("uap/builder/core/item/loop/create-loop-filter",{detail:{loopID:t,loopFilterIntegrationCode:e,loopFilterCode:n,fields:i,backup:o}})),r}))};var G,Y=_uo.utility,K=Y.confirm,Z=Y.isEmpty;const X=function(){var t=(0,j.A)(P().mark((function t(e){var n,i,o;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n="uap/builder/core/item/loop/delete-loop",i=UncannyAutomator._core.recipe.item.loop.getLoop(e),!Z(i)){t.next=4;break}throw new Error("deleteLoop: The loop ".concat(e," doesn't exist"));case 4:if(o=function t(e){return e.some((function(e){return e.items?t(e.items):e.is_item_on}))},!UncannyAutomator._recipe.is_recipe_on||!o(i.items)){t.next=10;break}return t.next=8,K({content:(0,C.qy)(G||(G=(0,M.A)(['\n\t\t\t\t<uo-alert type="warning">\n\t\t\t\t\t',"\n\t\t\t\t</uo-alert>\n\t\t\t"])),_uo.utility.escHTML(wp.i18n.__("Deleting a loop from an active recipe might lead to unexpected behaviors, so all actions inside will be switched to draft upon deletion.","uncanny-automator"))),confirmButtonLabel:_uo.utility.escHTML(wp.i18n.__("Delete loop","uncanny-automator"))});case 8:t.next=12;break;case 10:return t.next=12,K({content:_uo.utility.escHTML(wp.i18n.__("This action cannot be undone. Actions within the loop will be moved outside of the loop.","uncanny-automator")),confirmButtonLabel:_uo.utility.escHTML(wp.i18n.__("Delete loop","uncanny-automator"))});case 12:return t.abrupt("return",(0,H.s)({eventName:n,endpoint:"loop/".concat(UncannyAutomator._recipe.recipe_id),method:"POST",data:{action:"delete_loop_block",loop_id:e},snackbar:{loading:_uo.utility.escHTML(wp.i18n.__("Deleting loop","uncanny-automator")),success:_uo.utility.escHTML(wp.i18n.__("Loop deleted successfully","uncanny-automator"))}}).then((function(t){return t.success&&document.dispatchEvent(new CustomEvent(n,{detail:{loopID:e}})),t})));case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var J=_uo.utility,Q=J.confirm,tt=J.isEmpty;const et=function(){var t=(0,j.A)(P().mark((function t(e,n){var i,o;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i="uap/builder/core/item/loop/delete-loop-filter",o=UncannyAutomator._core.recipe.item.loop.getLoopFilter(e,n),!tt(o)){t.next=4;break}throw new Error("deleteLoopFilter: The filter ".concat(n," doesn't exist"));case 4:return t.next=6,Q({content:_uo.utility.escHTML(wp.i18n.__("This action cannot be undone.","uncanny-automator")),confirmButtonLabel:_uo.utility.escHTML(wp.i18n.__("Delete loop filter","uncanny-automator"))});case 6:return t.abrupt("return",(0,H.s)({eventName:i,endpoint:"loop/".concat(UncannyAutomator._recipe.recipe_id),method:"POST",data:{action:"delete_filter",loop_id:e,loop_filter_id:n},snackbar:{loading:_uo.utility.escHTML(wp.i18n.__("Deleting loop filter","uncanny-automator")),success:_uo.utility.escHTML(wp.i18n.__("Loop filter deleted successfully","uncanny-automator"))}}).then((function(t){return t.success&&document.dispatchEvent(new CustomEvent(i,{detail:{loopID:e,loopFilterID:n}})),t})));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();var nt=_uo.utility.isEmpty;const it=function(t){var e;if(nt(t))throw new Error("getLoop: loopID must be defined");var n=UncannyAutomator._recipe.actions.items.find((function(e){return e.id===t}));if(nt(n))throw new Error("getLoop: loop with ID ".concat(t," not found"));if("token"!==(null===(e=n=structuredClone(n))||void 0===e||null===(e=e.iterable_expression)||void 0===e?void 0:e.type))return n;try{n.iterable_expression.fields=JSON.parse(n.iterable_expression.fields)}catch(t){}try{n.iterable_expression.backup=JSON.parse(n.iterable_expression.backup)}catch(t){}return n};var ot=_uo.utility.isEmpty;const rt=function(t,e){var n=UncannyAutomator._core.recipe.item.loop.getLoop(t);if(ot(n))throw new Error("getLoopFilter: The loop ".concat(t," doesn't exist"));return n.filters.find((function(t){return t.id===e}))};function at(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}const st=function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:UncannyAutomator._recipe.actions.items,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return at(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?at(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,r=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}(i);try{for(r.s();!(n=r.n()).done;){var a=n.value,s="loop"===a.type?a:o;if(a.id===e&&s)return s;if(a.filters&&a.filters.some((function(t){return t.id===e})))return s;if(a.items){var u=t(e,a.items,s);if(u)return u}}}catch(t){r.e(t)}finally{r.f()}},ut=function(t){var e,n=st(t);return Boolean("users"===(null==n||null===(e=n.iterable_expression)||void 0===e?void 0:e.type))};var ct=__webpack_require__(4467),lt=_uo.utility.isEmpty;const dt=function(){var t=(0,j.A)(P().mark((function t(e,n){var i,o;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o="uap/builder/core/item/loop/update-loop",!lt(n)){t.next=3;break}throw new Error("updateLoop: The iterable expression must be defined");case 3:return t.abrupt("return",(0,H.s)((i={eventName:o},(0,ct.A)(i,"eventName",o),(0,ct.A)(i,"endpoint","loop/".concat(UncannyAutomator._recipe.recipe_id)),(0,ct.A)(i,"method","POST"),(0,ct.A)(i,"data",{action:"update_loop_block",loop_id:e,iterable_expression:n}),(0,ct.A)(i,"snackbar",{loading:_uo.utility.escHTML(wp.i18n.__("Updating loop","uncanny-automator")),success:_uo.utility.escHTML(wp.i18n.__("Loop updated successfully","uncanny-automator"))}),i)).then((function(t){return t.success&&document.dispatchEvent(new CustomEvent(o,{detail:{loopID:e,iterableExpression:n}})),t})));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();var pt=_uo.utility.isEmpty;const ft=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o="uap/builder/core/item/loop/update-loop-filter",r=UncannyAutomator._core.recipe.item.loop.getLoopFilter(t,e);if(pt(r))throw new Error("updateLoopFilter: The filter ".concat(e," doesn't exist"));return(0,H.s)({eventName:o,endpoint:"loop/".concat(UncannyAutomator._recipe.recipe_id),method:"POST",data:{action:"update_filter",loop_id:t,loop_filter_id:e,fields:n,backup:i},snackbar:{loading:_uo.utility.escHTML(wp.i18n.__("Updating loop filter","uncanny-automator")),success:_uo.utility.escHTML(wp.i18n.__("Loop filter updated successfully","uncanny-automator"))}}).then((function(r){return r.success&&document.dispatchEvent(new CustomEvent(o,{detail:{loopID:t,loopFilterID:e,fields:n,backup:i}})),r}))},ht=function(t,e){var n,i,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.parentID,s=void 0===a?UncannyAutomator._recipe.recipe_id:a,u=r.actionsOrder,c=r.defaultMeta,l="uap/builder/core/item/create-item";if(!["trigger","action","closure"].includes(t))throw new Error('Invalid item type provided. Expected "trigger", "action" or "closure".');if("string"!=typeof e)throw new Error("Invalid item code provided. Expected a string.");return"trigger"===t?(n="add-new-trigger",i=_uo.utility.escHTML(wp.i18n.__("Adding trigger","uncanny-automator")),o=_uo.utility.escHTML(wp.i18n.__("Trigger added successfully","uncanny-automator"))):"action"===t?(n="add-new-action",i=_uo.utility.escHTML(wp.i18n.__("Adding action","uncanny-automator")),o=_uo.utility.escHTML(wp.i18n.__("Action added successfully","uncanny-automator"))):(n="add-new-closure",i=_uo.utility.escHTML(wp.i18n.__("Adding action","uncanny-automator")),o=_uo.utility.escHTML(wp.i18n.__("Action added successfully","uncanny-automator"))),(0,H.s)({eventName:l,endpoint:"add",method:"POST",data:{recipePostID:UncannyAutomator._recipe.recipe_id,item_code:e,action:n,parent_id:s,actions_order:u,default_meta:c},snackbar:{loading:i,success:o}}).then((function(t){return t.success&&document.dispatchEvent(new CustomEvent(l,{detail:{itemCode:e,action:n,parentID:s,actionsOrder:u,defaultMeta:c}})),t}))};var mt,yt=_uo.utility,gt=yt.confirm,_t=yt.isEmpty;const vt=function(){var t=(0,j.A)(P().mark((function t(e,n){var i,o,r,a=arguments;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=a.length>2&&void 0!==a[2]?a[2]:{},o="uap/builder/core/item/delete-item",r=UncannyAutomator._core.recipe.item.getItem(e,n),!_t(r)){t.next=5;break}throw new Error("deleteItem: The item ".concat(e," ").concat(n," doesn't exist"));case 5:if(i.__deprecated__ignoreValidation||!UncannyAutomator._recipe.is_recipe_on||!r.is_item_on){t.next=8;break}return t.next=8,gt({content:(0,C.qy)(mt||(mt=(0,M.A)(['\n\t\t\t\t<uo-alert type="warning">\n\t\t\t\t\t',"\n\t\t\t\t</uo-alert>\n\t\t\t"])),_uo.utility.escHTML(wp.i18n.__("Deleting items in a live recipe can lead to unexpected behaviors.","uncanny-automator")))});case 8:return t.abrupt("return",(0,H.s)({eventName:o,endpoint:"delete",method:"POST",data:{recipe_id:UncannyAutomator._recipe.recipe_id,ID:n},snackbar:{loading:"trigger"===e?_uo.utility.escHTML(wp.i18n.__("Deleting trigger","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("Deleting action","uncanny-automator")),success:"trigger"===e?_uo.utility.escHTML(wp.i18n.__("Trigger deleted successfully","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("Action deleted successfully","uncanny-automator"))}}).then((function(t){return t.success&&document.dispatchEvent(new CustomEvent(o,{detail:{itemID:n}})),t})));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();var bt=_uo.utility.isEmpty;const wt=function(t){var e="uap/builder/core/item/duplicate-action",n=UncannyAutomator._core.recipe.item.getItem("action",t);if(bt(n))throw new Error("duplicateAction: The action ".concat(t," doesn't exist"));return(0,H.s)({eventName:e,endpoint:"duplicate_action",method:"POST",data:{recipe_id:UncannyAutomator._recipe.recipe_id,action_id:t},snackbar:{loading:_uo.utility.escHTML(wp.i18n.__("Duplicating item","uncanny-automator")),success:_uo.utility.escHTML(wp.i18n.__("Item duplicated successfully","uncanny-automator"))}}).then((function(n){return n.success&&document.dispatchEvent(new CustomEvent(e,{detail:{actionID:t}})),n}))},At=function t(e,n){return e.reduce((function(e,i){if(e)return e;if(i.id===n)return i;if("filter"===i.type&&Array.isArray(i.conditions)){var o=t(i.conditions,n);if(o)return o}if("loop"===i.type&&Array.isArray(i.filters)){var r=t(i.filters,n);if(r)return r}return Array.isArray(i.items)?t(i.items,n):void 0}),void 0)},kt=function(t,e){return e=parseInt(e),"trigger"===t?function(t){return UncannyAutomator._recipe.triggers.items.find((function(e){return e.id===t}))}(e):"action"===t?function(t){return At(UncannyAutomator._recipe.actions.items,t)}(e):"closure"===t?function(t){return UncannyAutomator._recipe.actions.items.find((function(e){return parseInt(e.id)===t}))}(e):"filter"===t||"filter-condition"===t?function(t){return At(UncannyAutomator._recipe.actions.items,t)}(e):void 0};var Tt=__webpack_require__(5458);function Et(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}var Dt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e=structuredClone(e);var n=[];if(!e.some((function(e){return e.id===t})))return n;var i=e.filter((function(t){var e;return"schedule"===(null===(e=t.miscellaneous)||void 0===e||null===(e=e.delay_schedule)||void 0===e||null===(e=e.MODE)||void 0===e?void 0:e.value)}));return e.every((function(e){var o;if(e.id!==t)return"loop"===e.type&&(e.items=[]),n.push(e),!0;if("delay"===(null===(o=e.miscellaneous)||void 0===o||null===(o=o.delay_schedule)||void 0===o||null===(o=o.MODE)||void 0===o?void 0:o.value)){var r=n.findIndex((function(t){var e;return"delay"===(null===(e=t.miscellaneous)||void 0===e||null===(e=e.delay_schedule)||void 0===e||null===(e=e.MODE)||void 0===e?void 0:e.value)}));-1===r?n.push.apply(n,(0,Tt.A)(i)):n.splice.apply(n,[r,0].concat((0,Tt.A)(i)))}return n.push(e),!1})),n},Mt=function(t,e,n,i){var o,r,a=Ct(t,e[n]);return a&&a.found?(e[n]=a.modifiedItems,"loop-filter"===(null===(o=a.item)||void 0===o?void 0:o.type)&&(e.items=[]),"filter-condition"===(null===(r=a.item)||void 0===r?void 0:r.type)&&(e.items=[]),{found:!0,modifiedItems:Dt(e.id,i)}):null},Ct=function(t,e){var n,i=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Et(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Et(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,r=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw r}}}}(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.id===t)return o.items&&(o.items=[]),o.conditions&&(o.conditions=[]),o.filters&&(o.filters=[]),{found:!0,modifiedItems:Dt(t,e),item:o};if(o.items&&o.items.length>0){var r=Mt(t,o,"items",e);if(r)return r}if("filter"===o.type&&o.conditions&&o.conditions.length>0){var a=Mt(t,o,"conditions",e);if(a)return a}if("loop"===o.type&&o.filters&&o.filters.length>0){var s=Mt(t,o,"filters",e);if(s)return s}}}catch(t){i.e(t)}finally{i.f()}return{found:!1,modifiedItems:e}};const xt=function(t){var e=structuredClone(UncannyAutomator._recipe.actions.items);return Ct(t,e).modifiedItems},Lt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.beforeActionID,n=t.exclude,i=void 0===n?[]:n,o=t.includeClosure,r=void 0===o||o,a=structuredClone(UncannyAutomator._recipe.actions.items);return e&&(a=xt(e,a)),(a=_uo.utility.flattenObjectsByKey(a,"items")).filter((function(t){var e="action"===t.type,n=r&&"closure"===t.type,o=!i.includes(t.id);return(e||n)&&o}))},St=function(){return UncannyAutomator._recipe.triggers.items};var It,Ot=_uo.utility,jt=Ot.confirm,Ut=Ot.isEmpty;const Pt=function(){var t=(0,j.A)(P().mark((function t(e,n,i){var o,r;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o="uap/builder/core/item/set-status-item",r=UncannyAutomator._core.recipe.item.getItem(e,n),!Ut(r)){t.next=4;break}throw new Error("setStatusItem: The item ".concat(e," ").concat(n," doesn't exist"));case 4:if(r.is_item_on!==i){t.next=6;break}return t.abrupt("return",!0);case 6:if(i||!UncannyAutomator._recipe.is_recipe_on){t.next=9;break}return t.next=9,jt({content:(0,C.qy)(It||(It=(0,M.A)(['\n\t\t\t\t<uo-alert type="warning">\n\t\t\t\t\t',"\n\t\t\t\t</uo-alert>\n\t\t\t"])),_uo.utility.escHTML(wp.i18n.__("Setting items to draft in a live recipe can lead to unexpected behaviors.","uncanny-automator")))});case 9:return t.abrupt("return",(0,H.s)({eventName:o,endpoint:"change_post_status",method:"POST",data:{post_ID:n,post_status:i?"publish":"draft",sentence_human_readable_html:""},snackbar:{loading:i?_uo.utility.escHTML(wp.i18n.__("Switching item on","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("Switching item off","uncanny-automator")),success:i?_uo.utility.escHTML(wp.i18n.__("Item switched on successfully","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("Item switched off successfully","uncanny-automator"))}}).then((function(t){return t.success&&document.dispatchEvent(new CustomEvent(o,{detail:{postID:n,postStatus:i?"publish":"draft"}})),t})));case 10:case"end":return t.stop()}}),t)})));return function(e,n,i){return t.apply(this,arguments)}}();var Ht=_uo.utility.isEmpty;const Ft=function(t){var e="uap/builder/core/item/set-trigger-logic";if(Ht(t))throw new Error("setTriggerLogic: The trigger logic can't be empty");return(0,H.s)({eventName:e,endpoint:"triggers_change_logic",method:"POST",data:{recipe_id:UncannyAutomator._recipe.recipe_id,trigger_logic:t},snackbar:{loading:_uo.utility.escHTML(wp.i18n.__("Updating trigger logic","uncanny-automator")),success:_uo.utility.escHTML(wp.i18n.__("Trigger logic updated successfully","uncanny-automator"))}}).then((function(n){return n.success&&document.dispatchEvent(new CustomEvent(e,{detail:{triggerLogic:t}})),n}))},$t=function(){return!1};var Rt;const qt=function(){var t=(0,j.A)(P().mark((function t(e){var n;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n="uap/builder/core/user-selector/set-requires-user-selector",_uo.utility.isDefined(e)){t.next=3;break}throw new Error("setRequiresUserSelector: requiresUserSelector can't be empty");case 3:if(e){t.next=6;break}return t.next=6,_uo.utility.confirm({content:(0,C.qy)(Rt||(Rt=(0,M.A)(['\n\t\t\t\t<uo-alert type="warning">\n\t\t\t\t\t',"\n\t\t\t\t</uo-alert>\n\t\t\t"])),_uo.utility.escHTML(wp.i18n.__("Removing the user selector may result in unexpected behavior if any actions or tokens require user data.","uncanny-automator")))});case 6:return t.abrupt("return",(0,H.s)({eventName:n,endpoint:"set_recipe_requires_user",method:"POST",data:{recipePostID:UncannyAutomator._recipe.recipe_id,requiresUser:e},snackbar:{loading:_uo.utility.escHTML(wp.i18n.__("Removing user selector","uncanny-automator")),success:_uo.utility.escHTML(wp.i18n.__("User selector removed successfully","uncanny-automator"))}}).then((function(t){return t.success&&document.dispatchEvent(new CustomEvent(n,{detail:{requiresUserSelector:e}})),t})));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Vt=function(){var t,e=null===(t=_uo)||void 0===t||null===(t=t.utility)||void 0===t||null===(t=t.walkthrough)||void 0===t?void 0:t.activeTour;if(e)return e},Nt=function(){var t=(0,j.A)(P().mark((function t(e,n){var i,o,r,a,s,u,c;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.closeRequested,o=void 0!==i&&i,r=n.stepID,a=void 0===r?"":r,s=n.progressPercentage,u=void 0===s?0:s,c="uap/builder/core/walkthrough/update-walkthrough",t.abrupt("return",(0,H.s)({eventName:c,endpoint:"set_walkthrough_progress",method:"POST",data:{id:e,close_requested:o,step_id:a,progress_percentage:u},snackbar:{loading:o?_uo.utility.escHTML(wp.i18n.__("Closing walkthrough","uncanny-automator")):void 0,success:o?_uo.utility.escHTML(wp.i18n.__("Walkthrough closed","uncanny-automator")):void 0}}).then((function(t){return t.success&&document.dispatchEvent(new CustomEvent(c,{detail:{id:e,close_requested:o,step_id:a,progress_percentage:u}})),t})));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Wt=function(t){if(!t||"string"!=typeof t)throw new Error("Invalid or missing walkthroughID");var e=UncannyAutomator._site.walkthroughs;if(!e||0===e.length)return!1;var n=e[t];if(!n)throw new Error("Walkthrough with ID ".concat(t," does not exist"));return n.show},Bt=function(t){switch(t){case"recipe_throttle":return UncannyAutomator._recipe.miscellaneous.recipe_throttle;case"recipe_total_times":return UncannyAutomator._recipe.miscellaneous.recipe_total_times;case"recipe_times_per_user":return UncannyAutomator._recipe.miscellaneous.limit_per_user;case"recipe_user_type":return{USER_TYPE:{value:UncannyAutomator._recipe.recipe_type}};case"recipe_created_on":return{CREATED_ON:{value:UncannyAutomator._recipe.miscellaneous.created_on_date}};case"recipe_completed_runs":return{COMPLETED_RUNS:{value:UncannyAutomator._recipe.stats.total_runs}}}};var zt=function(){return St().length>0},Gt=function(){return St().some((function(t){return t.is_item_on}))},Yt=function(){return"user"===UncannyAutomator._recipe.recipe_type||!UncannyAutomator.recipe.requiresUserData||UncannyAutomator.recipe.userSelector.isValid},Kt=function(){return Lt().length>0},Zt=function(){return Lt().some((function(t){return t.is_item_on}))};const Xt=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=zt()?Gt()?Yt()?Kt()?Zt()?{isValid:!0}:{isValid:!1,message:_uo.utility.escHTML(wp.i18n.__("Set an action to live to activate this recipe","uncanny-automator"))}:{isValid:!1,message:_uo.utility.escHTML(wp.i18n.__("Add an action to activate this recipe","uncanny-automator"))}:{isValid:!1,message:_uo.utility.escHTML(wp.i18n.__("Specify the user the actions will be run on","uncanny-automator"))}:{isValid:!1,message:_uo.utility.escHTML(wp.i18n.__("Set a trigger to live to activate this recipe","uncanny-automator"))}:{isValid:!1,message:_uo.utility.escHTML(wp.i18n.__("Add a trigger to activate this recipe","uncanny-automator"))};return!e.isValid&&t&&(0,H.Q)(e.message),e},Jt=function(){var t="uap/builder/core/run-recipe";return(0,H.s)({eventName:t,endpoint:"run-now/start/".concat(UncannyAutomator._recipe.recipe_id),method:"POST",snackbar:{loading:_uo.utility.escHTML(wp.i18n.__("Starting recipe","uncanny-automator")),success:_uo.utility.escHTML(wp.i18n.__("Recipe started successfully","uncanny-automator"))}}).then((function(e){return e.success&&document.dispatchEvent(new CustomEvent(t)),e}))},Qt=function(t){var e="uap/builder/core/set-recipe-notes";return(0,H.s)({eventName:e,endpoint:"change_recipe_notes",method:"POST",data:{post_ID:UncannyAutomator._recipe.recipe_id,notes:t},snackbar:{loading:_uo.utility.escHTML(wp.i18n.__("Updating recipe notes","uncanny-automator")),success:_uo.utility.escHTML(wp.i18n.__("Recipe notes updated successfully","uncanny-automator"))}}).then((function(n){return n.success&&document.dispatchEvent(new CustomEvent(e,{detail:{recipeNotes:t}})),n}))},te=function(){var t=(0,j.A)(P().mark((function t(e,n){var i;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="uap/builder/core/set-recipe-setting",t.abrupt("return",(0,H.s)({eventName:i,endpoint:"recipe_update_setting",method:"POST",data:{recipe_id:UncannyAutomator._recipe.recipe_id,setting_id:e,fields:n},snackbar:{loading:_uo.utility.escHTML(wp.i18n.__("Updating setting","uncanny-automator")),success:_uo.utility.escHTML(wp.i18n.__("Setting updated successfully","uncanny-automator"))}}).then((function(t){return t.success&&document.dispatchEvent(new CustomEvent(i,{detail:{settingID:e,fields:n}})),t})));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();var ee,ne=_uo.utility.confirm;const ie=function(){var t=(0,j.A)(P().mark((function t(e){var n,i,o=arguments;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!(o.length>1&&void 0!==o[1])||o[1],i="uap/builder/core/recipe/set-status",!e||Xt().isValid){t.next=4;break}return t.abrupt("return");case 4:if(e||!n){t.next=7;break}return t.next=7,ne({content:(0,C.qy)(ee||(ee=(0,M.A)(['\n\t\t\t\t<uo-alert type="warning">\n\t\t\t\t\t',"\n\t\t\t\t</uo-alert>\n\t\t\t"])),_uo.utility.escHTML(wp.i18n.__("Are you sure you want to set this recipe to draft? This will stop it from being triggered.","uncanny-automator")))});case 7:return t.abrupt("return",(0,H.s)({eventName:i,endpoint:"change_post_status",method:"POST",data:{recipe_id:UncannyAutomator._recipe.recipe_id,post_ID:UncannyAutomator._recipe.recipe_id,post_status:e?"publish":"draft"},snackbar:{loading:e?_uo.utility.escHTML(wp.i18n.__("Setting recipe to Live","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("Setting recipe to Draft","uncanny-automator")),success:e?_uo.utility.escHTML(wp.i18n.__("Recipe set to Live successfully","uncanny-automator")):_uo.utility.escHTML(wp.i18n.__("Recipe set to Draft successfully","uncanny-automator"))}}).then((function(t){return t.success&&document.dispatchEvent(new CustomEvent(i,{detail:{isRecipeOn:e}})),t})));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),oe=function(t){var e="uap/builder/core/set-recipe-title";return(0,H.s)({eventName:e,endpoint:"change_post_title",method:"POST",data:{post_ID:UncannyAutomator._recipe.recipe_id,post_title:t},snackbar:{loading:_uo.utility.escHTML(wp.i18n.__("Updating recipe title","uncanny-automator")),success:_uo.utility.escHTML(wp.i18n.__("Recipe title updated successfully","uncanny-automator"))}}).then((function(n){return n.success&&document.dispatchEvent(new CustomEvent(e,{detail:{recipeTitle:t}})),n}))},re=function(t){var e="uap/builder/core/set-recipe-type";if(["user","anonymous"].includes(t))return(0,H.s)({eventName:e,endpoint:"change_post_recipe_type",method:"POST",data:{post_ID:UncannyAutomator._recipe.recipe_id,recipe_type:t},snackbar:{loading:_uo.utility.escHTML(wp.i18n.__("Setting recipe type","uncanny-automator")),success:_uo.utility.escHTML(wp.i18n.__("Recipe type set successfully","uncanny-automator"))}}).then((function(n){return n.success&&document.dispatchEvent(new CustomEvent(e,{detail:{recipeType:t}})),n}))};UncannyAutomator._core={},UncannyAutomator._core.directory=o,UncannyAutomator._core.recipe=d;var ae=__webpack_require__(2284),se=__webpack_require__(3029),ue=__webpack_require__(2901),ce=__webpack_require__(9417),le=__webpack_require__(5361),de=__webpack_require__(6822),pe=__webpack_require__(3954),fe=__webpack_require__(2777),he=__webpack_require__(6752);const me=t=>t??he.s6;var ye,ge,_e,ve,be,we,Ae,ke,Te,Ee,De,Me,Ce,xe,Le,Se,Ie,Oe,je,Ue=__webpack_require__(2450),Pe=__webpack_require__(4724),He=__webpack_require__.n(Pe);function Fe(t){var e=$e();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function $e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return($e=function(){return!!t})()}function Re(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function qe(t,e,n){return t.set(Ne(t,e),n),n}function Ve(t,e){return t.get(Ne(t,e))}function Ne(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function We(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Be(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function ze(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function Ge(t){return t}new(_e=new WeakMap,ve=new WeakMap,be=new WeakMap,Ae=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Be((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Be(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:We(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return ze(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(ge=function(t){(0,le.A)(n,t);var e=Fe(n);function n(){var t;return(0,se.A)(this,n),t=e.call(this),Re((0,ce.A)(t),_e,Me((0,ce.A)(t))),Re((0,ce.A)(t),ve,(Ce((0,ce.A)(t)),xe((0,ce.A)(t),"regular"))),Re((0,ce.A)(t),be,(Le((0,ce.A)(t)),Se((0,ce.A)(t)))),(0,ce.A)(t),Ie((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"code",get:function(){return Ve(_e,this)},set:function(t){qe(_e,this,t)}},{key:"size",get:function(){return Ve(ve,this)},set:function(t){qe(ve,this,t)}},{key:"plain",get:function(){return Ve(be,this)},set:function(t){qe(be,this,t)}},{key:"render",value:function(){return(0,C.qy)(we||(we=(0,M.A)(['\n\t\t\t<div \n\t\t\t\tclass="icon"\n\t\t\t\tsize=',"\n\t\t\t\tplain=",'\n\t\t\t>\n\t\t\t\t<img src="','">\n\t\t\t</div>\n\t\t'])),this.size,me(this.plain),(0,Ue.A)({integrationCode:this.code}))}}]),n}(C.WF),[(0,fe.EM)("ua-builder-integration-icon")],[[(0,fe.MZ)({type:String}),1,"code"],[(0,fe.MZ)({type:String}),1,"size"],[(0,fe.MZ)({type:Boolean}),1,"plain"]],0,0,C.WF),ke=(0,v.A)(Ae.e,6),Me=ke[0],Ce=ke[1],xe=ke[2],Le=ke[3],Se=ke[4],Ie=ke[5],Te=(0,v.A)(Ae.c,2),je=Te[0],De=Te[1],Oe=ge,(ye=function(t){(0,le.A)(n,t);var e=Fe(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,je)).styles=(0,C.AH)(Ee||(Ee=(0,M.A)(["",""])),(0,C.iz)(He())),(0,ce.A)(t),De(),t}return(0,ue.A)(n)}(Ge))[Oe]=void 0,ye);var Ye,Ke,Ze,Xe,Je,Qe,tn,en,nn,on,rn,an,sn,un,cn=__webpack_require__(127),ln=__webpack_require__(7079),dn=__webpack_require__(6214);function pn(t){var e=fn();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function fn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(fn=function(){return!!t})()}function hn(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function mn(t,e,n){return t.set(gn(t,e),n),n}function yn(t,e){return t.get(gn(t,e))}function gn(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function _n(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function vn(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function bn(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}var wn=new WeakMap,An=new WeakMap,kn=new WeakMap,Tn=new WeakMap,En=new WeakMap,Dn=new WeakMap,Mn=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:vn((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||vn(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:_n(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return bn(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(function(t){(0,le.A)(n,t);var e=pn(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),hn((0,ce.A)(t),wn,Ze((0,ce.A)(t))),hn((0,ce.A)(t),An,(Xe((0,ce.A)(t)),Je((0,ce.A)(t)))),hn((0,ce.A)(t),kn,(Qe((0,ce.A)(t)),tn((0,ce.A)(t)))),hn((0,ce.A)(t),Tn,(en((0,ce.A)(t)),nn((0,ce.A)(t)))),hn((0,ce.A)(t),En,(on((0,ce.A)(t)),rn((0,ce.A)(t)))),hn((0,ce.A)(t),Dn,(an((0,ce.A)(t)),sn((0,ce.A)(t),"legacy-meta"))),t.triggerChangeEvent=(un((0,ce.A)(t)),function(){t.dispatchEvent(new CustomEvent("uap-builder-legacy-form-change",{detail:{unsavedFieldValues:t.unsavedFieldValues}}))}),t}return(0,ue.A)(n,[{key:"parentID",get:function(){return yn(wn,this)},set:function(t){mn(wn,this,t)}},{key:"itemID",get:function(){return yn(An,this)},set:function(t){mn(An,this,t)}},{key:"itemType",get:function(){return yn(kn,this)},set:function(t){mn(kn,this,t)}},{key:"fieldsDirectory",get:function(){return yn(Tn,this)},set:function(t){mn(Tn,this,t)}},{key:"fieldsValues",get:function(){return yn(En,this)},set:function(t){mn(En,this,t)}},{key:"returnFormat",get:function(){return yn(Dn,this)},set:function(t){mn(Dn,this,t)}},{key:"createRenderRoot",value:function(){return this}},{key:"render",value:function(){var t=this;return(0,C.qy)(Ye||(Ye=(0,M.A)(['\n            <div class="uap uap-legacy-form">\n\t\t\t\t',"\n\t\t\t</div>\n        "])),(0,dn.u)(Object.values(this.fields),(function(t){return t.id}),(function(e){return e.formElement.off("automator:field:change.legacy-form").on("automator:field:change.legacy-form",_uo.utility.debounce(t.triggerChangeEvent.bind(t))),(0,C.qy)(Ke||(Ke=(0,M.A)(["",""])),e.$wrapper.get(0))})))}},{key:"fields",get:function(){var t=this;return _uo.utility.isDefined(this._fields)?this._fields:_uo.utility.isDefined(this.fieldsDirectory)?(this._fields={},this.fieldsDirectory.forEach((function(e){var n,i=Object.assign({fieldType:e.type,supportsTokens:!0,itemType:t.itemType},(0,ln.A)(e));i.itemId=t.itemID,i.parentID=t.parentID;var o=null===(n=t.fieldsValues)||void 0===n?void 0:n[e.option_code||e.optionCode];_uo.utility.isDefined(o)&&(i.currentValue=o.value,"automator_custom_value"===i.currentValue&&(i.customValue=o.custom));var r=new cn.A(i.fieldType,i,!1);t._fields[i.optionCode]=r})),Object.entries(this._fields).forEach((function(t){var e=(0,v.A)(t,2),n=(e[0],e[1]);n.createFormElement(),n.initTokenSelector(),n.initFlatpickr(),n.initCodeMirror()})),this._fields):null}},{key:"unsavedFieldValues",get:function(){var t=this,e={};return Object.entries(this.fields).forEach((function(n){var i=(0,v.A)(n,2),o=i[0],r=i[1];r.attributes.isRequired&&_uo.utility.isEmpty(r.value)||["loop","token","standard"].includes(t.returnFormat)&&(e[o]=r.valueStandardFormat)})),e}},{key:"areFieldsValid",get:function(){return Object.values(this.fields).every((function(t){return t.validate().isValid}))}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-legacy-form")],[[(0,fe.MZ)({type:Number,attribute:"parent-id"}),1,"parentID"],[(0,fe.MZ)({type:Number,attribute:"item-id"}),1,"itemID"],[(0,fe.MZ)({type:String,attribute:"item-type"}),1,"itemType"],[(0,fe.MZ)({type:Array,attribute:!1}),1,"fieldsDirectory"],[(0,fe.MZ)({type:Array,attribute:!1}),1,"fieldsValues"],[(0,fe.MZ)({type:String,attribute:"return-format"}),1,"returnFormat"]],0,0,C.WF),Cn=(0,v.A)(Mn.e,12);Ze=Cn[0],Xe=Cn[1],Je=Cn[2],Qe=Cn[3],tn=Cn[4],en=Cn[5],nn=Cn[6],on=Cn[7],rn=Cn[8],an=Cn[9],sn=Cn[10],un=Cn[11];var xn,Ln,Sn,In,On,jn,Un=(0,v.A)(Mn.c,2);function Pn(t){var e=Hn();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function Hn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Hn=function(){return!!t})()}function Fn(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function $n(t,e,n){return t.set(qn(t,e),n),n}function Rn(t,e){return t.get(qn(t,e))}function qn(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Vn(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Nn(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function Wn(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}Un[0],(0,Un[1])();var Bn=new WeakMap,zn=new WeakMap,Gn=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Nn((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Nn(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:Vn(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return Wn(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(function(t){(0,le.A)(n,t);var e=Pn(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),Fn((0,ce.A)(t),Bn,Sn((0,ce.A)(t),[])),Fn((0,ce.A)(t),zn,(In((0,ce.A)(t)),On((0,ce.A)(t),[]))),jn((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"runOn",get:function(){return Rn(Bn,this)},set:function(t){$n(Bn,this,t)}},{key:"items",get:function(){return Rn(zn,this)},set:function(t){$n(zn,this,t)}},{key:"createRenderRoot",value:function(){return this}},{key:"render",value:function(){return(0,C.qy)(xn||(xn=(0,M.A)(["\n\t\t\t<div>\n\t\t\t\t","\n\t\t\t</div>\n\t\t"])),(0,dn.u)(this.items,(function(t){return t.id}),(function(t){var e;if("loop"===t.type)return(0,C.qy)(Ln||(Ln=(0,M.A)(["\n\t\t\t\t\t\t\t\t<uap-builder-item-loop\n\t\t\t\t\t\t\t\t\tparent-id=","\n\t\t\t\t\t\t\t\t\tloop-id=","\n\t\t\t\t\t\t\t\t\tloop-logic=","\n\n\t\t\t\t\t\t\t\t\t.loopFilters=","\n\t\t\t\t\t\t\t\t\t.items=","\n\n\t\t\t\t\t\t\t\t\t.iterableExpression=","\n\t\t\t\t\t\t\t\t\t.runOn=","\n\t\t\t\t\t\t\t\t></uap-builder-item-loop>\n\t\t\t\t\t\t\t"])),(null===(e=t.miscellaneous)||void 0===e?void 0:e.parent_id)||UncannyAutomator._recipe.recipe_id,t.id,t.logic,t.filters,t.items,t.iterable_expression,t.run_on)})))}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-action-list")],[[(0,fe.MZ)({type:Array,attribute:!1}),1,"runOn"],[(0,fe.MZ)({type:Array,attribute:!1}),1,"items"]],0,0,C.WF),Yn=(0,v.A)(Gn.e,4);Sn=Yn[0],In=Yn[1],On=Yn[2],jn=Yn[3];var Kn=(0,v.A)(Gn.c,2);Kn[0],(0,Kn[1])();var Zn,Xn,Jn,Qn,ti,ei,ni,ii,oi,ri,ai,si,ui,ci=__webpack_require__(2981),li=__webpack_require__.n(ci);function di(t){var e=pi();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function pi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(pi=function(){return!!t})()}function fi(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function hi(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function mi(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function yi(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function gi(t){return t}new(Jn=new WeakMap,ti=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:mi((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||mi(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:hi(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return yi(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(Xn=function(t){(0,le.A)(n,t);var e=di(n);function n(){var t,i,o,r;(0,se.A)(this,n);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return t=e.call.apply(e,[this].concat(s)),i=(0,ce.A)(t),o=Jn,r=ri((0,ce.A)(t)),function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(i,o),o.set(i,r),ai((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"itemID",get:function(){return(t=Jn).get(fi(t,this));var t},set:function(t){var e,n;n=t,(e=Jn).set(fi(e,this),n)}},{key:"render",value:function(){return(0,C.qy)(Qn||(Qn=(0,M.A)(['\n\t\t\t<uo-button\n\t\t\t\tcolor="transparent"\n\t\t\t\t@click=',"\n\t\t\t>\n\t\t\t\t","\n\t\t\t</uo-button>\n\t\t"])),this.handleDuplicateItem,_uo.utility.escHTML(wp.i18n._x("Duplicate","Verb","uncanny-automator")))}},{key:"handleDuplicateItem",value:function(){UncannyAutomator._core.recipe.item.duplicateAction(this.itemID)}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-action-menu-button-duplicate")],[[(0,fe.MZ)({type:Number,attribute:"item-id"}),1,"itemID"]],0,0,C.WF),ei=(0,v.A)(ti.e,2),ri=ei[0],ai=ei[1],ni=(0,v.A)(ti.c,2),ui=ni[0],oi=ni[1],si=Xn,Zn=function(t){(0,le.A)(n,t);var e=di(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,ui)).styles=(0,C.AH)(ii||(ii=(0,M.A)(["",""])),(0,C.iz)(li())),(0,ce.A)(t),oi(),t}return(0,ue.A)(n)}(gi),Zn[si]=void 0,Zn);var _i,vi,bi,wi,Ai,ki,Ti,Ei,Di,Mi,Ci,xi,Li,Si,Ii,Oi,ji,Ui,Pi,Hi=__webpack_require__(3661),Fi=__webpack_require__(3646),$i=__webpack_require__.n(Fi);function Ri(t){var e=qi();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function qi(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(qi=function(){return!!t})()}function Vi(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function Ni(t,e,n){return t.set(Bi(t,e),n),n}function Wi(t,e){return t.get(Bi(t,e))}function Bi(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function zi(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Gi(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function Yi(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function Ki(t){return t}new(bi=new WeakMap,wi=new WeakMap,Ai=new WeakMap,Ti=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Gi((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Gi(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:zi(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return Yi(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(vi=function(t){(0,le.A)(n,t);var e=Ri(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),Vi((0,ce.A)(t),bi,xi((0,ce.A)(t))),Vi((0,ce.A)(t),wi,(Li((0,ce.A)(t)),Si((0,ce.A)(t)))),Vi((0,ce.A)(t),Ai,(Ii((0,ce.A)(t)),Oi((0,ce.A)(t)))),ji((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"itemID",get:function(){return Wi(bi,this)},set:function(t){Ni(bi,this,t)}},{key:"code",get:function(){return Wi(wi,this)},set:function(t){Ni(wi,this,t)}},{key:"integrationCode",get:function(){return Wi(Ai,this)},set:function(t){Ni(Ai,this,t)}},{key:"render",value:function(){var t=new Hi.A("action",this.integrationCode,this.itemCode,this.itemID);if(t.shouldAddButton())return(0,C.qy)(ki||(ki=(0,M.A)(["",""])),t.$button)}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-action-quick-delay")],[[(0,fe.MZ)({type:Number,attribute:"item-id"}),1,"itemID"],[(0,fe.MZ)({type:String,attribute:"item-code"}),1,"code"],[(0,fe.MZ)({type:String,attribute:"integration-code"}),1,"integrationCode"]],0,0,C.WF),Ei=(0,v.A)(Ti.e,6),xi=Ei[0],Li=Ei[1],Si=Ei[2],Ii=Ei[3],Oi=Ei[4],ji=Ei[5],Di=(0,v.A)(Ti.c,2),Pi=Di[0],Ci=Di[1],Ui=vi,_i=function(t){(0,le.A)(n,t);var e=Ri(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,Pi)).styles=(0,C.AH)(Mi||(Mi=(0,M.A)(["",""])),(0,C.iz)($i())),(0,ce.A)(t),Ci(),t}return(0,ue.A)(n)}(Ki),_i[Ui]=void 0,_i);var Zi,Xi,Ji,Qi,to,eo,no,io,oo,ro,ao,so,uo,co,lo,po,fo=__webpack_require__(9357),ho=__webpack_require__.n(fo);function mo(t){var e=yo();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function yo(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yo=function(){return!!t})()}function go(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function _o(t,e,n){return t.set(bo(t,e),n),n}function vo(t,e){return t.get(bo(t,e))}function bo(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function wo(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Ao(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function ko(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function To(t){return t}new(Ji=new WeakMap,Qi=new WeakMap,eo=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Ao((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Ao(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:wo(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return ko(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(Xi=function(t){(0,le.A)(n,t);var e=mo(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),go((0,ce.A)(t),Ji,ao((0,ce.A)(t))),go((0,ce.A)(t),Qi,(so((0,ce.A)(t)),uo((0,ce.A)(t)))),co((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"itemType",get:function(){return vo(Ji,this)},set:function(t){_o(Ji,this,t)}},{key:"itemID",get:function(){return vo(Qi,this)},set:function(t){_o(Qi,this,t)}},{key:"render",value:function(){return(0,C.qy)(to||(to=(0,M.A)(['\n\t\t\t<uo-button\n\t\t\t\tcolor="transparent"\n\t\t\t\t@click=',"\n\t\t\t>\n\t\t\t\t","\n\t\t\t</uo-button>\n\t\t"])),this.handleItemDelete,_uo.utility.escHTML(wp.i18n.__("Delete","uncanny-automator")))}},{key:"handleItemDelete",value:function(){UncannyAutomator._core.recipe.item.deleteItem(this.itemType,this.itemID).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-menu-button-delete")],[[(0,fe.MZ)({type:String,attribute:"item-type"}),1,"itemType"],[(0,fe.MZ)({type:Number,attribute:"item-id"}),1,"itemID"]],0,0,C.WF),no=(0,v.A)(eo.e,4),ao=no[0],so=no[1],uo=no[2],co=no[3],io=(0,v.A)(eo.c,2),po=io[0],ro=io[1],lo=Xi,Zi=function(t){(0,le.A)(n,t);var e=mo(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,po)).styles=(0,C.AH)(oo||(oo=(0,M.A)(["",""])),(0,C.iz)(ho())),(0,ce.A)(t),ro(),t}return(0,ue.A)(n)}(To),Zi[lo]=void 0,Zi);var Eo,Do,Mo,Co,xo,Lo,So,Io,Oo,jo,Uo,Po,Ho=__webpack_require__(1099),Fo=__webpack_require__.n(Ho);function $o(t){var e=Ro();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function Ro(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ro=function(){return!!t})()}function qo(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Vo(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function No(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function Wo(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function Bo(t){return t}var zo,Go,Yo,Ko,Zo,Xo,Jo,Qo,tr,er,nr,ir,or,rr,ar,sr,ur=_uo.utility.isEmpty;function cr(t){var e=lr();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function lr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(lr=function(){return!!t})()}function dr(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function pr(t,e,n){return t.set(hr(t,e),n),n}function fr(t,e){return t.get(hr(t,e))}function hr(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function mr(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function yr(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function gr(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}new(Mo=new WeakMap,xo=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:No((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||No(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:Vo(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return Wo(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(Do=function(t){(0,le.A)(n,t);var e=$o(n);function n(){var t,i,o,r;(0,se.A)(this,n);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return t=e.call.apply(e,[this].concat(s)),i=(0,ce.A)(t),o=Mo,r=jo((0,ce.A)(t)),function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(i,o),o.set(i,r),Uo((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"supportURL",get:function(){return(t=Mo).get(qo(t,this));var t},set:function(t){var e,n;n=t,(e=Mo).set(qo(e,this),n)}},{key:"render",value:function(){if(!ur(this.supportURL))return(0,C.qy)(Co||(Co=(0,M.A)(['\n\t\t\t<uo-button\n\t\t\t\tcolor="transparent"\n\t\t\t\thref=','\n\t\t\t\ttarget="_blank"\n\t\t\t>\n\t\t\t\t',"\n\t\t\t</uo-button>\n\t\t"])),this.supportURL,_uo.utility.escHTML(wp.i18n._x("Support","Noun","uncanny-automator")))}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-menu-button-support")],[[(0,fe.MZ)({type:String,attribute:"support-url"}),1,"supportURL"]],0,0,C.WF),Lo=(0,v.A)(xo.e,2),jo=Lo[0],Uo=Lo[1],So=(0,v.A)(xo.c,2),zo=So[0],Oo=So[1],Po=Do,Eo=function(t){(0,le.A)(n,t);var e=$o(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,zo)).styles=(0,C.AH)(Io||(Io=(0,M.A)(["",""])),(0,C.iz)(Fo())),(0,ce.A)(t),Oo(),t}return(0,ue.A)(n)}(Bo),Eo[Po]=void 0,Eo);var _r=_uo.utility.isEmpty,vr=new WeakMap,br=new WeakMap,wr=new WeakMap,Ar=new WeakMap,kr=new WeakMap,Tr=new WeakMap,Er=new WeakMap,Dr=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:yr((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||yr(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:mr(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return gr(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(function(t){(0,le.A)(n,t);var e=cr(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),dr((0,ce.A)(t),vr,Yo((0,ce.A)(t))),dr((0,ce.A)(t),br,(Ko((0,ce.A)(t)),Zo((0,ce.A)(t)))),dr((0,ce.A)(t),wr,(Xo((0,ce.A)(t)),Jo((0,ce.A)(t)))),dr((0,ce.A)(t),Ar,(Qo((0,ce.A)(t)),tr((0,ce.A)(t)))),dr((0,ce.A)(t),kr,(er((0,ce.A)(t)),nr((0,ce.A)(t)))),dr((0,ce.A)(t),Tr,(ir((0,ce.A)(t)),or((0,ce.A)(t)))),dr((0,ce.A)(t),Er,(rr((0,ce.A)(t)),ar((0,ce.A)(t),[]))),sr((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"parentID",get:function(){return fr(vr,this)},set:function(t){pr(vr,this,t)}},{key:"itemID",get:function(){return fr(br,this)},set:function(t){pr(br,this,t)}},{key:"itemCode",get:function(){return fr(wr,this)},set:function(t){pr(wr,this,t)}},{key:"integrationCode",get:function(){return fr(Ar,this)},set:function(t){pr(Ar,this,t)}},{key:"itemType",get:function(){return fr(kr,this)},set:function(t){pr(kr,this,t)}},{key:"optionsGroupCode",get:function(){return fr(Tr,this)},set:function(t){pr(Tr,this,t)}},{key:"fieldsValues",get:function(){return fr(Er,this)},set:function(t){pr(Er,this,t)}},{key:"render",value:function(){return(0,C.qy)(Go||(Go=(0,M.A)(["\n\t\t\t<uap-builder-item-legacy-form\n\t\t\t\tparent-id=","\n\t\t\t\titem-id=","\n\n\t\t\t\t.fieldsDirectory=","\n\t\t\t\t.fieldsValues=",'\n\n\t\t\t\treturn-format="legacy-meta"\n\t\t\t></uap-builder-item-legacy-form>\n\t\t'])),this.parentID,this.itemID,this.fieldsDirectory,this.fieldsValues)}},{key:"fieldsDirectory",get:function(){var t=UncannyAutomator._core.directory.items.getItem(this.integrationCode,this.itemType,this.itemCode);return _r(t.fields)||_r(t.fields[this.optionsGroupCode])?[]:t.fields[this.optionsGroupCode]}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-options")],[[(0,fe.MZ)({type:Number,attribute:"parent-id"}),1,"parentID"],[(0,fe.MZ)({type:Number,attribute:"item-id"}),1,"itemID"],[(0,fe.MZ)({type:String,attribute:"item-code"}),1,"itemCode"],[(0,fe.MZ)({type:String,attribute:"integration-code"}),1,"integrationCode"],[(0,fe.MZ)({type:String,attribute:"item-type"}),1,"itemType"],[(0,fe.MZ)({type:String,attribute:"options-group-code"}),1,"optionsGroupCode"],[(0,fe.MZ)({type:Array,attribute:!1}),1,"fieldsValues"]],0,0,C.WF),Mr=(0,v.A)(Dr.e,14);Yo=Mr[0],Ko=Mr[1],Zo=Mr[2],Xo=Mr[3],Jo=Mr[4],Qo=Mr[5],tr=Mr[6],er=Mr[7],nr=Mr[8],ir=Mr[9],or=Mr[10],rr=Mr[11],ar=Mr[12],sr=Mr[13];var Cr,xr,Lr,Sr,Ir,Or,jr,Ur=(0,v.A)(Dr.c,2);function Pr(t){var e=Hr();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function Hr(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Hr=function(){return!!t})()}function Fr(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function $r(t,e,n){return t.set(qr(t,e),n),n}function Rr(t,e){return t.get(qr(t,e))}function qr(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Vr(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Nr(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function Wr(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}Ur[0],(0,Ur[1])();var Br=new WeakMap,zr=new WeakMap,Gr=new WeakMap,Yr=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Nr((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Nr(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:Vr(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return Wr(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(function(t){(0,le.A)(n,t);var e=Pr(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),Fr((0,ce.A)(t),Br,xr((0,ce.A)(t))),Fr((0,ce.A)(t),zr,(Lr((0,ce.A)(t)),Sr((0,ce.A)(t)))),Fr((0,ce.A)(t),Gr,(Ir((0,ce.A)(t)),Or((0,ce.A)(t)))),jr((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"itemType",get:function(){return Rr(Br,this)},set:function(t){$r(Br,this,t)}},{key:"itemID",get:function(){return Rr(zr,this)},set:function(t){$r(zr,this,t)}},{key:"isOn",get:function(){return Rr(Gr,this)},set:function(t){$r(Gr,this,t)}},{key:"render",value:function(){return(0,C.qy)(Cr||(Cr=(0,M.A)(["\n\t\t\t<uo-switch\n\t\t\t\t?checked=","\n\t\t\t\tstatus-label=",'\n\t\t\t\tstatus-label-position="left"\n\n\t\t\t\t@change=',"\n\t\t\t></uo-switch>\n\t\t"])),this.isOn,"".concat(_uo.utility.escHTML(wp.i18n.__("Live","uncanny-automator")),",").concat(_uo.utility.escHTML(wp.i18n.__("Draft","uncanny-automator"))),this.handleSwitchStatus)}},{key:"handleSwitchStatus",value:function(t){UncannyAutomator._core.recipe.item.setStatusItem(this.itemType,this.itemID,t.target.checked).catch((function(t){console.log(t)}))}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-status-switch")],[[(0,fe.MZ)({type:String,attribute:"item-type"}),1,"itemType"],[(0,fe.MZ)({type:Number,attribute:"item-id"}),1,"itemID"],[(0,fe.MZ)({type:Boolean,attribute:"is-item-on"}),1,"isOn"]],0,0,C.WF),Kr=(0,v.A)(Yr.e,6);xr=Kr[0],Lr=Kr[1],Sr=Kr[2],Ir=Kr[3],Or=Kr[4],jr=Kr[5];var Zr,Xr,Jr,Qr,ta,ea,na,ia,oa,ra,aa,sa,ua=(0,v.A)(Yr.c,2);function ca(t){var e=la();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function la(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(la=function(){return!!t})()}function da(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function pa(t,e,n){return t.set(ha(t,e),n),n}function fa(t,e){return t.get(ha(t,e))}function ha(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function ma(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function ya(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function ga(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}ua[0],(0,ua[1])();var _a,va,ba,wa,Aa,ka,Ta,Ea,Da,Ma=function(t){var e,n,i,o,r,a,s,u,c,l,d,p,f,h,m,y,g,_,b,w,A,k,T,E,D,x,L,S,I,O,j,U;return n=new WeakMap,i=new WeakMap,o=new WeakMap,r=new WeakMap,a=new WeakMap,s=new WeakMap,u=new WeakMap,c=new WeakMap,l=new WeakMap,d=new WeakMap,e=function(t){(0,le.A)(p,t);var e=ca(p);function p(){var t;(0,se.A)(this,p);for(var v=arguments.length,M=new Array(v),C=0;C<v;C++)M[C]=arguments[C];return t=e.call.apply(e,[this].concat(M)),da((0,ce.A)(t),n,f((0,ce.A)(t))),da((0,ce.A)(t),i,(h((0,ce.A)(t)),m((0,ce.A)(t)))),da((0,ce.A)(t),o,(y((0,ce.A)(t)),g((0,ce.A)(t)))),da((0,ce.A)(t),r,(_((0,ce.A)(t)),b((0,ce.A)(t)))),da((0,ce.A)(t),a,(w((0,ce.A)(t)),A((0,ce.A)(t)))),da((0,ce.A)(t),s,(k((0,ce.A)(t)),T((0,ce.A)(t)))),da((0,ce.A)(t),u,(E((0,ce.A)(t)),D((0,ce.A)(t),[]))),da((0,ce.A)(t),c,(x((0,ce.A)(t)),L((0,ce.A)(t),[]))),da((0,ce.A)(t),l,(S((0,ce.A)(t)),I((0,ce.A)(t),[]))),da((0,ce.A)(t),d,(O((0,ce.A)(t)),j((0,ce.A)(t)))),U((0,ce.A)(t)),t}return(0,ue.A)(p,[{key:"parentID",get:function(){return fa(n,this)},set:function(t){pa(n,this,t)}},{key:"id",get:function(){return fa(i,this)},set:function(t){pa(i,this,t)}},{key:"code",get:function(){return fa(o,this)},set:function(t){pa(o,this,t)}},{key:"integrationCode",get:function(){return fa(r,this)},set:function(t){pa(r,this,t)}},{key:"isOn",get:function(){return fa(a,this)},set:function(t){pa(a,this,t)}},{key:"usesCredit",get:function(){return fa(s,this)},set:function(t){pa(s,this,t)}},{key:"fields",get:function(){return fa(u,this)},set:function(t){pa(u,this,t)}},{key:"tokens",get:function(){return fa(c,this)},set:function(t){pa(c,this,t)}},{key:"backup",get:function(){return fa(l,this)},set:function(t){pa(l,this,t)}},{key:"optionsOpenCode",get:function(){return fa(d,this)},set:function(t){pa(d,this,t)}},{key:"render",value:function(){return _uo.utility.isDefined(this.directoryItemData)?(0,C.qy)(Zr||(Zr=(0,M.A)(['\n\t\t\t<div class="item">\n\t\t\t\t',"\n\t\t\t\t","\n\t\t\t\t","\n\t\t\t\t","\n\t\t\t\t","\n\t\t\t\t","\n\t\t\t</div>\n\t\t"])),this._templateSentence,this._templateIcon,this._templateTags,this._templateTopRight,this._templateSwitch,this._templateOptions):this._templateItemMissing}},{key:"_templateItemMissing",get:function(){return(0,C.qy)(Xr||(Xr=(0,M.A)(["\n\t\t\tMissing ","\n\t\t"])),this.id)}},{key:"_templateIcon",get:function(){return(0,C.qy)(Jr||(Jr=(0,M.A)(['\n\t\t\t<div class="item-icon">\n\t\t\t\t<uap-log-integration-icon size="24" integration-id="','"></uap-log-integration-icon>\n\t\t\t</div>\n\t\t'])),this.integrationCode)}},{key:"_templateTags",get:function(){return(0,C.qy)(Qr||(Qr=(0,M.A)(['\n\t\t\t<div class="item-tags">\n\t\t\t\t<uo-chip size="small" variant="pill" filled>\n\t\t\t\t\t','\n\t\t\t\t</uo-chip>\n\n\t\t\t\t<uo-chip size="small" color="transparent" variant="pill" filled>\n\t\t\t\t\t#',"\n\t\t\t\t</uo-chip>\n\t\t\t</div>\n\t\t"])),UncannyAutomator._integrations[this.integrationCode].name,this.id)}},{key:"_templateTopRight",get:function(){if(!_uo.utility.isEmpty(this.quickActions)||!_uo.utility.isEmpty(this.menuItems))return(0,C.qy)(ta||(ta=(0,M.A)(['\n\t\t\t<div class="item-top-right">\n\t\t\t\t',"\n\t\t\t\t","\n\t\t\t</div>\n\t\t"])),this._templateQuickActions,this._templateMenu)}},{key:"_templateQuickActions",get:function(){if(!_uo.utility.isEmpty(this.quickActions))return(0,C.qy)(ea||(ea=(0,M.A)(['\n\t\t\t<div class="item-quick-actions">\n\t\t\t\t',"\n\t\t\t</div>\n\t\t"])),(0,dn.u)(this.quickActions,(function(t,e){return e}),(function(t){return t})))}},{key:"_templateMenu",get:function(){if(!_uo.utility.isEmpty(this.menuItems))return(0,C.qy)(na||(na=(0,M.A)(['\n\t\t\t<div class="item-menu">\n\t\t\t\t<uo-button-dropdown reverse-direction>\n\t\t\t\t\t<uo-button \n\t\t\t\t\t\tslot="target" \n\t\t\t\t\t\tcolor="transparent"\n\t\t\t\t\t\tsize="small"\n\t\t\t\t\t>\n\t\t\t\t\t\t<uo-icon id="ellipsis-vertical"></uo-icon>\n\t\t\t\t\t</uo-button>\n\n\t\t\t\t\t',"\n\n\t\t\t\t</uo-button-dropdown>\n\t\t\t</div>\n\t\t"])),(0,dn.u)(this.menuItems,(function(t,e){return e}),(function(t){return t})))}},{key:"_templateSentence",get:function(){var t=this;return(0,C.qy)(ia||(ia=(0,M.A)(['\n\t\t\t<div class="item-sentence">\n\t\t\t\t<uap-builder-item-sentence\n\t\t\t\t\titem-id=',"\n\t\t\t\t\t.sentence=","\n\t\t\t\t\t.fields=","\n\n\t\t\t\t\t@uap-builder-sentence-pill-click=","\n\t\t\t\t></uap-builder-item-sentence>\n\t\t\t</div>\n\t\t"])),this.id,this.directoryItemData.sentence.dynamic,this.fields,(function(e){return t.optionsOpenCode=e.detail.optionsCode}))}},{key:"_templateOptions",get:function(){if(!_uo.utility.isEmpty(this.optionsOpenCode))return(0,C.qy)(oa||(oa=(0,M.A)(['\n\t\t\t<div class="item-options">\n\t\t\t\t<uap-builder-item-options\n\t\t\t\t\tparent-id=',"\n\t\t\t\t\titem-type=","\n\t\t\t\t\titem-id=","\n\t\t\t\t\titem-code=","\n\n\t\t\t\t\tintegration-code=","\n\n\t\t\t\t\toptions-group-code=","\n\n\t\t\t\t\t.fieldsValues=","\n\t\t\t\t></uap-builder-item-options>\n\t\t\t</div>\n\t\t"])),this.parentID,this.type,this.id,this.code,this.integrationCode,this.optionsOpenCode,this.fields)}},{key:"_templateSwitch",get:function(){return(0,C.qy)(ra||(ra=(0,M.A)(['\n\t\t\t<div class="item-switch">\n\t\t\t\t<uap-builder-item-status-switch\n\t\t\t\t\titem-type=',"\n\t\t\t\t\titem-id=","\n\t\t\t\t\t?is-item-on=","\n\t\t\t\t></uap-builder-item-status-switch>\n\t\t\t</div>\n\t\t"])),this.type,this.id,this.isOn)}},{key:"_templateMenuButtonDelete",get:function(){return(0,C.qy)(aa||(aa=(0,M.A)(["\n\t\t\t<uap-builder-item-menu-button-delete \n\t\t\t\titem-type=","\n\t\t\t\titem-id=","\n\t\t\t></uap-builder-item-menu-button-delete>\n\t\t"])),this.type,this.id)}},{key:"_templateMenuButtonSupport",get:function(){return(0,C.qy)(sa||(sa=(0,M.A)(["\n\t\t\t<uap-builder-item-menu-button-support\n\t\t\t\tsupport-url=","\n\t\t\t></uap-builder-item-menu-button-support>\n\t\t"])),this.directoryItemData.miscellaneous.url_support)}},{key:"directoryItemData",get:function(){return UncannyAutomator._core.directory.items.getItem(this.integrationCode,this.type,this.code)}}]),p}(t),p=(0,v.A)(function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:ya((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||ya(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:ma(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return ga(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(e,[],[[(0,fe.MZ)({type:Number,attribute:"parent-id"}),1,"parentID"],[(0,fe.MZ)({type:Number,attribute:"item-id"}),1,"id"],[(0,fe.MZ)({type:String,attribute:"item-code"}),1,"code"],[(0,fe.MZ)({type:String,attribute:"integration-code"}),1,"integrationCode"],[(0,fe.MZ)({type:Boolean,attribute:"is-item-on"}),1,"isOn"],[(0,fe.MZ)({type:Boolean,attribute:"uses-credit"}),1,"usesCredit"],[(0,fe.MZ)({type:Array,attribute:!1}),1,"fields"],[(0,fe.MZ)({type:Array,attribute:!1}),1,"tokens"],[(0,fe.MZ)({type:Array,attribute:!1}),1,"backup"],[(0,fe.MZ)({type:String,attribute:!1}),1,"optionsOpenCode"]],0,0,t).e,20),f=p[0],h=p[1],m=p[2],y=p[3],g=p[4],_=p[5],b=p[6],w=p[7],A=p[8],k=p[9],T=p[10],E=p[11],D=p[12],x=p[13],L=p[14],S=p[15],I=p[16],O=p[17],j=p[18],U=p[19],e}(C.WF),Ca=__webpack_require__(9562),xa=__webpack_require__.n(Ca);function La(t){var e=Sa();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function Sa(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Sa=function(){return!!t})()}function Ia(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Oa(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function ja(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function Ua(t){return t}new(va=function(t){(0,le.A)(n,t);var e=La(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).type="action",t}return(0,ue.A)(n,[{key:"quickActions",get:function(){return[this._templateQuickActionDelay]}},{key:"menuItems",get:function(){return[this._templateMenuButtonDelete,this._templateMenuButtonDuplicate,this._templateMenuButtonSupport]}},{key:"_templateQuickActionDelay",get:function(){return(0,C.qy)(ba||(ba=(0,M.A)(["\n\t\t\t<uap-builder-item-action-quick-delay\n\t\t\t\titem-id=","\n\t\t\t></uap-builder-item-action-quick-delay>\n\t\t"])),this.id)}},{key:"_templateMenuButtonDuplicate",get:function(){return(0,C.qy)(wa||(wa=(0,M.A)(["\n\t\t\t<uap-builder-item-action-menu-button-duplicate\n\t\t\t\titem-id=","\n\t\t\t\titem-code=","\n\t\t\t\tintegration-code=","\n\t\t\t></uap-builder-item-action-menu-button-duplicate>\n\t\t"])),this.id,this.code,this.integrationCode)}}]),n}(Ma),Aa=(0,v.A)(function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Oa((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Oa(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:Ia(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return ja(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(va,[(0,fe.EM)("uap-builder-item-action")],[],0,0,Ma).c,2),Da=Aa[0],Ta=Aa[1],Ea=va,_a=function(t){(0,le.A)(n,t);var e=La(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,Da)).styles=(0,C.AH)(ka||(ka=(0,M.A)(["",""])),(0,C.iz)(xa())),(0,ce.A)(t),Ta(),t}return(0,ue.A)(n)}(Ua),_a[Ea]=void 0,_a);var Pa,Ha,Fa,$a,Ra,qa,Va,Na,Wa,Ba,za,Ga,Ya,Ka,Za,Xa,Ja,Qa,ts,es,ns,is,os=__webpack_require__(6362),rs=__webpack_require__.n(os);function as(t){var e=ss();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function ss(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ss=function(){return!!t})()}function us(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function cs(t,e,n){return t.set(ds(t,e),n),n}function ls(t,e){return t.get(ds(t,e))}function ds(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function ps(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function fs(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function hs(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function ms(t){return t}new(Fa=new WeakMap,$a=new WeakMap,Ra=new WeakMap,qa=new WeakMap,Na=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:fs((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||fs(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:ps(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return hs(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(Ha=function(t){(0,le.A)(n,t);var e=as(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),us((0,ce.A)(t),Fa,Ya((0,ce.A)(t))),us((0,ce.A)(t),$a,(Ka((0,ce.A)(t)),Za((0,ce.A)(t)))),us((0,ce.A)(t),Ra,(Xa((0,ce.A)(t)),Ja((0,ce.A)(t)))),us((0,ce.A)(t),qa,(Qa((0,ce.A)(t)),ts((0,ce.A)(t)))),es((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"id",get:function(){return ls(Fa,this)},set:function(t){cs(Fa,this,t)}},{key:"logic",get:function(){return ls($a,this)},set:function(t){cs($a,this,t)}},{key:"conditions",get:function(){return ls(Ra,this)},set:function(t){cs(Ra,this,t)}},{key:"items",get:function(){return ls(qa,this)},set:function(t){cs(qa,this,t)}},{key:"render",value:function(){return(0,C.qy)(Va||(Va=(0,M.A)(['\n\t\t\t<div class="filter">\n\t\t\t\t<div class="filter-header">\n\t\t\t\t\t<div class="filter-logic">\n\t\t\t\t\t\t<div class="filter-logic-info">\n\t\t\t\t\t\t\t<div class="filter-logic-icon">\n\t\t\t\t\t\t\t\t<uo-icon id="code-merge"></uo-icon>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="filter-logic-name">\n\t\t\t\t\t\t\t\tRun if\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="filter-logic-field">\n\t\t\t\t\t\t\t\t<uo-button-dropdown>\n\t\t\t\t\t\t\t\t\t<uo-button \n\t\t\t\t\t\t\t\t\t\tslot="target"\n\t\t\t\t\t\t\t\t\t\tcolor="secondary"\n\t\t\t\t\t\t\t\t\t\tsize="small"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tAny <uo-icon id="angle-down"></uo-icon>\n\t\t\t\t\t\t\t\t\t</uo-button>\n\n\t\t\t\t\t\t\t\t\t<uo-button color="secondary" size="small">\n\t\t\t\t\t\t\t\t\t\tAny\n\t\t\t\t\t\t\t\t\t</uo-button>\n\t\t\t\t\t\t\t\t\t<uo-button color="secondary" size="small">\n\t\t\t\t\t\t\t\t\t\tAll\n\t\t\t\t\t\t\t\t\t</uo-button>\n\n\t\t\t\t\t\t\t\t</uo-button-dropdown>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="filter-logic-sentence">\n\t\t\t\t\t\t\t\tof the following conditions is met\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="filter-logic-actions">\n\t\t\t\t\t\t\t<uo-button class="filter-logic-remove" color="transparent" size="small">\n\t\t\t\t\t\t\t\t<uo-icon id="ellipsis"></uo-icon>\n\t\t\t\t\t\t\t</uo-button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="filter-conditions">\n\t\t\t\t\t\t<div class="filter-condition">\n\t\t\t\t\t\t\t<div class="filter-condition-icon">\n\t\t\t\t\t\t\t\t<uo-icon integration="WP"></uo-icon>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="filter-condition-sentence">\n\t\t\t\t\t\t\t\tPost type is <strong>Products</strong>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="filter-condition-buttons">\n\t\t\t\t\t\t\t\t<uo-button class="filter-condition-edit" color="transparent" size="small">\n\t\t\t\t\t\t\t\t\t<uo-icon id="pencil"></uo-icon>\n\t\t\t\t\t\t\t\t</uo-button>\n\t\t\t\t\t\t\t\t<uo-button class="filter-condition-remove" color="transparent" size="small">\n\t\t\t\t\t\t\t\t\t<uo-icon id="trash"></uo-icon>\n\t\t\t\t\t\t\t\t</uo-button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="filter-condition">\n\t\t\t\t\t\t\t<div class="filter-condition-icon">\n\t\t\t\t\t\t\t\t<uo-icon integration="WP"></uo-icon>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="filter-condition-sentence">\n\t\t\t\t\t\t\t\tPost type is <strong>Products</strong>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="filter-condition-buttons">\n\t\t\t\t\t\t\t\t<uo-button class="filter-condition-edit" color="transparent" size="small">\n\t\t\t\t\t\t\t\t\t<uo-icon id="pencil"></uo-icon>\n\t\t\t\t\t\t\t\t</uo-button>\n\t\t\t\t\t\t\t\t<uo-button class="filter-condition-remove" color="transparent" size="small">\n\t\t\t\t\t\t\t\t\t<uo-icon id="trash"></uo-icon>\n\t\t\t\t\t\t\t\t</uo-button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="filter-header-actions">\n\t\t\t\t\t\t<uo-button color="secondary" size="extra-small">Add condition</uo-button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="filter-items">\n\t\t\t\t\t<div class="filter-item-action"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="filter-actions">\n\t\t\t\t\t<uo-button color="secondary" size="small">Add action</uo-button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'])))}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-filter")],[[(0,fe.MZ)({type:String,attribute:"filter-id"}),1,"id"],[(0,fe.MZ)({type:String,attribute:"filter-logic"}),1,"logic"],[(0,fe.MZ)({type:Array,attribute:!1}),1,"conditions"],[(0,fe.MZ)({type:Array,attribute:!1}),1,"items"]],0,0,C.WF),Wa=(0,v.A)(Na.e,8),Ya=Wa[0],Ka=Wa[1],Za=Wa[2],Xa=Wa[3],Ja=Wa[4],Qa=Wa[5],ts=Wa[6],es=Wa[7],Ba=(0,v.A)(Na.c,2),is=Ba[0],Ga=Ba[1],ns=Ha,Pa=function(t){(0,le.A)(n,t);var e=as(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,is)).styles=(0,C.AH)(za||(za=(0,M.A)(["",""])),(0,C.iz)(rs())),(0,ce.A)(t),Ga(),t}return(0,ue.A)(n)}(ms),Pa[ns]=void 0,Pa);var ys,gs,_s,vs,bs,ws=__webpack_require__(8064);function As(t){var e=ks();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function ks(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ks=function(){return!!t})()}function Ts(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function Es(t,e,n){return t.set(Ms(t,e),n),n}function Ds(t,e){return t.get(Ms(t,e))}function Ms(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Cs(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function xs(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function Ls(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}var Ss=new WeakMap,Is=new WeakMap,Os=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:xs((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||xs(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:Cs(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return Ls(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(function(t){(0,le.A)(n,t);var e=As(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),Ts((0,ce.A)(t),Ss,gs((0,ce.A)(t))),Ts((0,ce.A)(t),Is,(_s((0,ce.A)(t)),vs((0,ce.A)(t)))),bs((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"loopID",get:function(){return Ds(Ss,this)},set:function(t){Es(Ss,this,t)}},{key:"$wrapper",get:function(){return Ds(Is,this)},set:function(t){Es(Is,this,t)}},{key:"createRenderRoot",value:function(){return this}},{key:"render",value:function(){return(0,C.qy)(ys||(ys=(0,M.A)(['\n\t\t\t<div class="uap-item-loop-new-action-wrapper"></div>\n        '])))}},{key:"firstUpdated",value:function(){new ws.A("action",this.$wrapper,{parentID:this.loopID})}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-loop-add-action")],[[(0,fe.MZ)({type:Number,attribute:"loop-id"}),1,"loopID"],[(0,fe.P)(".uap-item-loop-new-action-wrapper"),1,"$wrapper"]],0,0,C.WF),js=(0,v.A)(Os.e,4);gs=js[0],_s=js[1],vs=js[2],bs=js[3];var Us=(0,v.A)(Os.c,2);Us[0],(0,Us[1])();var Ps=__webpack_require__(6393),Hs=__webpack_require__(8514),Fs=__webpack_require__(2696);const $s=__webpack_require__.p+"img/post-loop-banner.svg";var Rs,qs,Vs,Ns,Ws,Bs,zs,Gs;function Ys(t){var e=Ks();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function Ks(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ks=function(){return!!t})()}function Zs(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function Xs(t,e,n){return t.set(Qs(t,e),n),n}function Js(t,e){return t.get(Qs(t,e))}function Qs(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function tu(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function eu(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function nu(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}var iu=new WeakMap,ou=new WeakMap,ru=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:eu((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||eu(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:tu(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return nu(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(function(t){(0,le.A)(n,t);var e=Ys(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),Zs((0,ce.A)(t),iu,Ws((0,ce.A)(t))),Zs((0,ce.A)(t),ou,(Bs((0,ce.A)(t)),zs((0,ce.A)(t),"secondary"))),Gs((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"size",get:function(){return Js(iu,this)},set:function(t){Xs(iu,this,t)}},{key:"color",get:function(){return Js(ou,this)},set:function(t){Xs(ou,this,t)}},{key:"render",value:function(){if(this.shouldRender())return(0,C.qy)(Rs||(Rs=(0,M.A)(["\n\t\t\t<uo-button\n\t\t\t\tsize=","\n\t\t\t\tcolor=","\n\t\t\t\t@click=","\n\t\t\t>\n\t\t\t\t","\n\t\t\t</uo-button>\n\t\t"])),this.size,this.color,this.handleClick,this._templateLabel)}},{key:"_templateLabel",get:function(){return UncannyAutomatorBackend._site.automator.is_pro_active?(0,C.qy)(qs||(qs=(0,M.A)(["",""])),_uo.utility.escHTML(wp.i18n.__("Post loop","uncanny-automator"))):(0,C.qy)(Vs||(Vs=(0,M.A)(["\n\t\t\t"," <uo-pro-tag size=","></uo-pro-tag>\n\t\t"])),_uo.utility.escHTML(wp.i18n.__("Post loop","uncanny-automator")),me(this.size))}},{key:"handleClick",value:function(){UncannyAutomatorBackend._site.automator.is_pro_active?this.handleAddPostLoop():this.handleCreateUpsellDialog()}},{key:"handleAddPostLoop",value:function(){UncannyAutomator._core.recipe.item.loop.createLoop({type:"posts"})}},{key:"handleCreateUpsellDialog",value:function(){var t=document.createElement("div");document.body.append(t),(0,C.XX)((0,C.qy)(Ns||(Ns=(0,M.A)(["\n\t\t\t\t<uo-dialog\n\t\t\t\t\theading=","\n\t\t\t\t\tfeatured-image=",'\n\t\t\t\t\tfeatured-image-position="center bottom"\n\t\t\t\t\tsize="large"\n\t\t\t\t\topen\n\t\t\t\t>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t',"\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<p>\n\t\t\t\t\t\t",'\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\tslot="primary-action"\n\n\t\t\t\t\t\thref=','\n\t\t\t\t\t\ttarget="_blank"\n\n\t\t\t\t\t\tdialog-action="close"\n\t\t\t\t\t>\n\t\t\t\t\t\t','\n\t\t\t\t\t</uo-button>\n\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\tslot="secondary-action"\n\t\t\t\t\t\tdialog-action="close"\n\t\t\t\t\t\tcolor="secondary"\n\t\t\t\t\t>\n\t\t\t\t\t\t',"\n\t\t\t\t\t</uo-button>\n\t\t\t\t</uo-dialog>\n\t\t\t"])),_uo.utility.escHTML(wp.i18n.__("Post loop","uncanny-automator")),$s,_uo.utility.escHTML(wp.i18n.__("Post loops let you perform bulk actions on posts that meet specific criteria.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Here are a few examples of what you can do with post loops:","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Export **all blog posts, products or courses in a category** to a Google Sheet, AirTable or Notion.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Change **all posts of written by one author** to another author.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Update meta values on all **posts that match a specific meta value**.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Automatically generate SEO descriptions with OpenAI for **all blog posts that don't have a meta description**.","uncanny-automator")),this.upsaleURL,_uo.utility.escHTML(wp.i18n.__("Get Post loops","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator"))),t)}},{key:"upsaleURL",get:function(){return _uo.utility.addParametersToURL(_uo.utility.addParametersUTM("https://automatorplugin.com/pricing/",{medium:"recipe_creator",content:"add_post_loop_button"}),{uap_bpro_context:"post_loop"})}},{key:"shouldRender",value:function(){return!UncannyAutomatorBackend._site.automator.is_pro_active||_uo.utility.versionCompare(UncannyAutomator._site.automator.version_pro,"5.3",">=")}}]),n}(C.WF),[(0,fe.EM)("uap-builder-loop-add-post-loop")],[[(0,fe.MZ)({type:String}),1,"size"],[(0,fe.MZ)({type:String}),1,"color"]],0,0,C.WF),au=(0,v.A)(ru.e,4);Ws=au[0],Bs=au[1],zs=au[2],Gs=au[3];var su=(0,v.A)(ru.c,2);su[0],(0,su[1])();const uu=__webpack_require__.p+"img/token-loop-banner.svg";var cu,lu,du,pu,fu,hu,mu,yu,gu,_u,vu;function bu(t){var e=wu();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function wu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(wu=function(){return!!t})()}function Au(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function ku(t,e,n){return t.set(Eu(t,e),n),n}function Tu(t,e){return t.get(Eu(t,e))}function Eu(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Du(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Mu(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function Cu(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}var xu=new WeakMap,Lu=new WeakMap,Su=new WeakMap,Iu=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Mu((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Mu(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:Du(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return Cu(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(function(t){(0,le.A)(n,t);var e=bu(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),Au((0,ce.A)(t),xu,hu((0,ce.A)(t))),Au((0,ce.A)(t),Lu,(mu((0,ce.A)(t)),yu((0,ce.A)(t)))),Au((0,ce.A)(t),Su,(gu((0,ce.A)(t)),_u((0,ce.A)(t),"secondary"))),vu((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"parentID",get:function(){return Tu(xu,this)},set:function(t){ku(xu,this,t)}},{key:"size",get:function(){return Tu(Lu,this)},set:function(t){ku(Lu,this,t)}},{key:"color",get:function(){return Tu(Su,this)},set:function(t){ku(Su,this,t)}},{key:"render",value:function(){if(this.shouldRender())return(0,C.qy)(cu||(cu=(0,M.A)(["\n\t\t\t<uo-button\n\t\t\t\tsize=","\n\t\t\t\tcolor=","\n\t\t\t\t@click=","\n\t\t\t>\n\t\t\t\t","\n\t\t\t</uo-button>\n\t\t"])),this.size,this.color,this.handleClick,this._templateLabel)}},{key:"_templateLabel",get:function(){return UncannyAutomatorBackend._site.automator.is_pro_active?(0,C.qy)(lu||(lu=(0,M.A)(["",""])),_uo.utility.escHTML(wp.i18n.__("Token loop","uncanny-automator"))):(0,C.qy)(du||(du=(0,M.A)(["\n\t\t\t"," <uo-pro-tag size=","></uo-pro-tag>\n\t\t"])),_uo.utility.escHTML(wp.i18n.__("Token loop","uncanny-automator")),me(this.size))}},{key:"handleClick",value:function(){UncannyAutomatorBackend._site.automator.is_pro_active?this.handleAddTokenLoop():this.handleCreateUpsellDialog()}},{key:"handleAddTokenLoop",value:function(){this.createEditFieldsDialog()}},{key:"createEditFieldsDialog",value:function(){var t=document.createElement("div");document.body.append(t),(0,C.XX)((0,C.qy)(pu||(pu=(0,M.A)(["\n\t\t\t\t<uap-builder-item-loop-edit-dialog \n\t\t\t\t\tparent-id=",'\n\t\t\t\t\ttype="token"\n\t\t\t\t></uap-builder-item-loop-edit-dialog>\n\t\t\t'])),this.parentID),t)}},{key:"handleCreateUpsellDialog",value:function(){var t=document.createElement("div");document.body.append(t),(0,C.XX)((0,C.qy)(fu||(fu=(0,M.A)(["\n\t\t\t\t<uo-dialog\n\t\t\t\t\theading=","\n\t\t\t\t\tfeatured-image=",'\n\t\t\t\t\tfeatured-image-position="center bottom"\n\t\t\t\t\tsize="large"\n\t\t\t\t\topen\n\t\t\t\t>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\tallowed-tags="em"\n\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\tslot="primary-action"\n\n\t\t\t\t\t\thref=','\n\t\t\t\t\t\ttarget="_blank"\n\n\t\t\t\t\t\tdialog-action="close"\n\t\t\t\t\t>\n\t\t\t\t\t\t','\n\t\t\t\t\t</uo-button>\n\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\tslot="secondary-action"\n\t\t\t\t\t\tdialog-action="close"\n\t\t\t\t\t\tcolor="secondary"\n\t\t\t\t\t>\n\t\t\t\t\t\t',"\n\t\t\t\t\t</uo-button>\n\t\t\t\t</uo-dialog>\n\t\t\t"])),_uo.utility.escHTML(wp.i18n.__("Token loop","uncanny-automator")),uu,_uo.utility.escHTML(wp.i18n.__("Token loops let you perform bulk actions on special *loopable tokens*. Here are a few examples:","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("When a user purchases a specific product, **loop over their previously purchased products** and if a complementary product is found, send an email with special instructions or a coupon code.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Every Friday, **loop over all orders in the past week** and export them to a Google sheet.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("When a user completes a course, **loop over their previously completed courses** and if a corequisite course is found, enroll the user in a new course or issue a certificate of completion.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("When a user purchases a subscription, **loop over their active subscriptions** and if a complementary subscription is found, award an achievement or store credit.","uncanny-automator")),this.upsaleURL,_uo.utility.escHTML(wp.i18n.__("Get Token loops","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator"))),t)}},{key:"upsaleURL",get:function(){return _uo.utility.addParametersToURL(_uo.utility.addParametersUTM("https://automatorplugin.com/pricing/",{medium:"recipe_creator",content:"add_token_loop_button"}),{uap_bpro_context:"token_loop"})}},{key:"shouldRender",value:function(){return!UncannyAutomatorBackend._site.automator.is_pro_active||_uo.utility.versionCompare(UncannyAutomator._site.automator.version_pro,"5.10",">=")}}]),n}(C.WF),[(0,fe.EM)("uap-builder-loop-add-token-loop")],[[(0,fe.MZ)({type:Number,attribute:"parent-id"}),1,"parentID"],[(0,fe.MZ)({type:String}),1,"size"],[(0,fe.MZ)({type:String}),1,"color"]],0,0,C.WF),Ou=(0,v.A)(Iu.e,6);hu=Ou[0],mu=Ou[1],yu=Ou[2],gu=Ou[3],_u=Ou[4],vu=Ou[5];var ju=(0,v.A)(Iu.c,2);ju[0],(0,ju[1])();const Uu=__webpack_require__.p+"img/user-loop-banner.svg";var Pu,Hu,Fu,$u,Ru,qu,Vu,Nu;function Wu(t){var e=Bu();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function Bu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Bu=function(){return!!t})()}function zu(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function Gu(t,e,n){return t.set(Ku(t,e),n),n}function Yu(t,e){return t.get(Ku(t,e))}function Ku(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Zu(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Xu(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function Ju(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}var Qu=new WeakMap,tc=new WeakMap,ec=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Xu((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Xu(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:Zu(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return Ju(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(function(t){(0,le.A)(n,t);var e=Wu(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),zu((0,ce.A)(t),Qu,Ru((0,ce.A)(t))),zu((0,ce.A)(t),tc,(qu((0,ce.A)(t)),Vu((0,ce.A)(t),"secondary"))),Nu((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"size",get:function(){return Yu(Qu,this)},set:function(t){Gu(Qu,this,t)}},{key:"color",get:function(){return Yu(tc,this)},set:function(t){Gu(tc,this,t)}},{key:"render",value:function(){if(this.shouldRender())return(0,C.qy)(Pu||(Pu=(0,M.A)(["\n\t\t\t<uo-button\n\t\t\t\tsize=","\n\t\t\t\tcolor=","\n\t\t\t\t@click=","\n\t\t\t>\n\t\t\t\t","\n\t\t\t</uo-button>\n\t\t"])),this.size,this.color,this.handleClick,this._templateLabel)}},{key:"_templateLabel",get:function(){return UncannyAutomatorBackend._site.automator.is_pro_active?(0,C.qy)(Hu||(Hu=(0,M.A)(["",""])),_uo.utility.escHTML(wp.i18n.__("User loop","uncanny-automator"))):(0,C.qy)(Fu||(Fu=(0,M.A)(["\n\t\t\t"," <uo-pro-tag size=","></uo-pro-tag>\n\t\t"])),_uo.utility.escHTML(wp.i18n.__("User loop","uncanny-automator")),me(this.size))}},{key:"handleClick",value:function(){UncannyAutomatorBackend._site.automator.is_pro_active?this.handleAddUserLoop():this.handleCreateUpsellDialog()}},{key:"handleAddUserLoop",value:function(){UncannyAutomator._core.recipe.item.loop.createLoop({type:"users"})}},{key:"handleCreateUpsellDialog",value:function(){var t=document.createElement("div");document.body.append(t),(0,C.XX)((0,C.qy)($u||($u=(0,M.A)(["\n\t\t\t\t<uo-dialog\n\t\t\t\t\theading=","\n\t\t\t\t\tfeatured-image=",'\n\t\t\t\t\tfeatured-image-position="center bottom"\n\t\t\t\t\tsize="large"\n\t\t\t\t\topen\n\t\t\t\t>\n\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t.content=',">\n\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<p>\n\t\t\t\t\t\t",'\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\tslot="primary-action"\n\n\t\t\t\t\t\thref=','\n\t\t\t\t\t\ttarget="_blank"\n\n\t\t\t\t\t\tdialog-action="close"\n\t\t\t\t\t>\n\t\t\t\t\t\t','\n\t\t\t\t\t</uo-button>\n\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\tslot="secondary-action"\n\t\t\t\t\t\tdialog-action="close"\n\t\t\t\t\t\tcolor="secondary"\n\t\t\t\t\t>\n\t\t\t\t\t\t',"\n\t\t\t\t\t</uo-button>\n\t\t\t\t</uo-dialog>\n\t\t\t"])),_uo.utility.escHTML(wp.i18n.__("User loop","uncanny-automator")),Uu,_uo.utility.escHTML(wp.i18n.__("A powerful admin tool, user loops let you perform **bulk actions** on any set of **users that meet specific criteria**.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Here are a few examples of what is possible with user loops:","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Send an email or coupon code to all users that **purchased a specific product** or are a **member of a specific group**.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Add a role to **users with a specific role** or **with a specific membership/access level**.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Export a list of **users matching specific profile criteria** to Google Sheets, AirTable or Notion.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Perform actions in bulk on **users with specific usermeta**.","uncanny-automator")),this.upsaleURL,_uo.utility.escHTML(wp.i18n.__("Get User loops","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator"))),t)}},{key:"upsaleURL",get:function(){return _uo.utility.addParametersToURL(_uo.utility.addParametersUTM("https://automatorplugin.com/pricing/",{medium:"recipe_creator",content:"add_user_loop_button"}),{uap_bpro_context:"user_loop"})}},{key:"shouldRender",value:function(){return!UncannyAutomatorBackend._site.automator.is_pro_active||_uo.utility.versionCompare(UncannyAutomator._site.automator.version_pro,"5.3",">=")}}]),n}(C.WF),[(0,fe.EM)("uap-builder-loop-add-user-loop")],[[(0,fe.MZ)({type:String}),1,"size"],[(0,fe.MZ)({type:String}),1,"color"]],0,0,C.WF),nc=(0,v.A)(ec.e,4);Ru=nc[0],qu=nc[1],Vu=nc[2],Nu=nc[3];var ic,oc,rc,ac,sc,uc,cc,lc,dc,pc,fc,hc,mc,yc,gc=(0,v.A)(ec.c,2);function _c(t){var e=vc();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function vc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vc=function(){return!!t})()}function bc(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function wc(t,e,n){return t.set(kc(t,e),n),n}function Ac(t,e){return t.get(kc(t,e))}function kc(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Tc(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Ec(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function Dc(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}gc[0],(0,gc[1])();var Mc=_uo.utility.isEmpty,Cc=new WeakMap,xc=new WeakMap,Lc=new WeakMap,Sc=new WeakMap,Ic=new WeakMap,Oc=new WeakMap,jc=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Ec((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Ec(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:Tc(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return Dc(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(function(t){(0,le.A)(i,t);var e,n=_c(i);function i(){var t;(0,se.A)(this,i);for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return t=n.call.apply(n,[this].concat(o)),bc((0,ce.A)(t),Cc,rc((0,ce.A)(t))),bc((0,ce.A)(t),xc,(ac((0,ce.A)(t)),sc((0,ce.A)(t)))),bc((0,ce.A)(t),Lc,(uc((0,ce.A)(t)),cc((0,ce.A)(t)))),bc((0,ce.A)(t),Sc,(lc((0,ce.A)(t)),dc((0,ce.A)(t),{}))),bc((0,ce.A)(t),Ic,(pc((0,ce.A)(t)),fc((0,ce.A)(t)))),bc((0,ce.A)(t),Oc,(hc((0,ce.A)(t)),mc((0,ce.A)(t)))),yc((0,ce.A)(t)),t}return(0,ue.A)(i,[{key:"parentID",get:function(){return Ac(Cc,this)},set:function(t){wc(Cc,this,t)}},{key:"loopID",get:function(){return Ac(xc,this)},set:function(t){wc(xc,this,t)}},{key:"type",get:function(){return Ac(Lc,this)},set:function(t){wc(Lc,this,t)}},{key:"fields",get:function(){return Ac(Sc,this)},set:function(t){wc(Sc,this,t)}},{key:"$sentence",get:function(){return Ac(Ic,this)},set:function(t){wc(Ic,this,t)}},{key:"$optionsForm",get:function(){return Ac(Oc,this)},set:function(t){wc(Oc,this,t)}},{key:"createRenderRoot",value:function(){return this}},{key:"render",value:function(){var t=this;return(0,C.qy)(ic||(ic=(0,M.A)(["\n\t\t\t<uo-dialog\n\t\t\t\theading=","\n\n\t\t\t\tforce-manual-close\n\t\t\t\topen\n\n\t\t\t\t@uap-dialog-close=",'\n\t\t\t>\n\t\t\t\t<div class="uap-loop-edit-dialog-header">\n\t\t\t\t\t<uap-builder-item-sentence\n\t\t\t\t\t\titem-id=',"\n\t\t\t\t\t\t.sentence=","\n\t\t\t\t\t\t.fields=","\n\t\t\t\t\t></uap-builder-item-sentence>\n\t\t\t\t</div>\n\n\t\t\t\t<uap-builder-item-legacy-form\n\t\t\t\t\tparent-id=","\n\t\t\t\t\titem-id=",'\n\t\t\t\t\titem-type="loop"\n\n\t\t\t\t\t.fieldsDirectory=',"\n\t\t\t\t\t.fieldsValues=",'\n\n\t\t\t\t\treturn-format="loop"\n\n\t\t\t\t\t@uap-builder-legacy-form-change=',"\n\t\t\t\t></uap-builder-item-legacy-form>\n\n\t\t\t\t",'\n\n\t\t\t\t<uo-button\n\t\t\t\t\tslot="primary-action"\n\n\t\t\t\t\t@click=',"\n\t\t\t\t>\n\t\t\t\t\t",'\n\t\t\t\t</uo-button>\n\n\t\t\t\t<uo-button\n\t\t\t\t\tslot="secondary-action"\n\t\t\t\t\tdialog-action="close"\n\t\t\t\t\tcolor="secondary"\n\t\t\t\t>\n\t\t\t\t\t',"\n\t\t\t\t</uo-button>\n\t\t\t</uo-dialog>\n\t\t"])),_uo.utility.escHTML(wp.i18n.__("Set data","uncanny-automator")),this.handleDialogClose,this.loopID,this.directoryLoopData.sentence,this.fields,this.loopID,me(this.loopID),this.directoryLoopData.fields,this.fields,(function(e){t.fields=e.detail.unsavedFieldValues}),this._templateDialogHelper,this.handleConfirmEdit,_uo.utility.escHTML(wp.i18n._x("Confirm","Verb","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator")))}},{key:"_templateDialogHelper",get:function(){if(this.directoryLoopData.dialog_helper)return(0,C.qy)(oc||(oc=(0,M.A)(['\n\t\t\t<div class="uap-loop-edit-dialog-helper">\n\t\t\t\t',"\n\t\t\t</div>\n\t\t"])),this.directoryLoopData.dialog_helper)}},{key:"handleConfirmEdit",value:(e=(0,j.A)(P().mark((function t(){var e=this;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Mc(this.$optionsForm)){t.next=2;break}return t.abrupt("return");case 2:if(this.$optionsForm.areFieldsValid){t.next=4;break}return t.abrupt("return");case 4:if("edit"!==this.mode){t.next=6;break}return t.abrupt("return",UncannyAutomator._core.recipe.item.loop.updateLoop(this.loopID,{type:this.type,fields:this.fieldsForRemote,backup:this.backupForRemote}).then((function(t){e.handleDialogClose()})));case 6:if("create"!==this.mode){t.next=8;break}return t.abrupt("return",UncannyAutomator._core.recipe.item.loop.createLoop({type:this.type,fields:this.fieldsForRemote,backup:this.backupForRemote}).then((function(t){e.handleDialogClose()})));case 8:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"directoryLoopData",get:function(){return UncannyAutomator._core.directory.items.getLoop(this.type)}},{key:"fieldsForRemote",get:function(){if(!Mc(this.$optionsForm))return JSON.stringify(this.$optionsForm.unsavedFieldValues)}},{key:"backupForRemote",get:function(){return JSON.stringify({sentence:this.directoryLoopData.sentence,sentence_html:_uo.utility.htmlEntities.encode(this.$sentence.outputForLogs)})}},{key:"mode",get:function(){return Mc(this.loopID)?"create":"edit"}},{key:"handleDialogClose",value:function(){this.remove()}}]),i}(C.WF),[(0,fe.EM)("uap-builder-item-loop-edit-dialog")],[[(0,fe.MZ)({type:Number,attribute:"parent-id"}),1,"parentID"],[(0,fe.MZ)({type:Number,attribute:"loop-id"}),1,"loopID"],[(0,fe.MZ)({type:String}),1,"type"],[(0,fe.MZ)({type:Object,attribute:!1}),1,"fields"],[(0,fe.P)("uap-builder-item-sentence"),1,"$sentence"],[(0,fe.P)("uap-builder-item-legacy-form"),1,"$optionsForm"]],0,0,C.WF),Uc=(0,v.A)(jc.e,12);rc=Uc[0],ac=Uc[1],sc=Uc[2],uc=Uc[3],cc=Uc[4],lc=Uc[5],dc=Uc[6],pc=Uc[7],fc=Uc[8],hc=Uc[9],mc=Uc[10],yc=Uc[11];var Pc,Hc,Fc=(0,v.A)(jc.c,2);Fc[0],(0,Fc[1])();var $c=_uo.utility,Rc=$c.isEmpty,qc=$c.htmlEntities;var Vc,Nc,Wc,Bc,zc,Gc,Yc,Kc,Zc,Xc,Jc,Qc,tl,el,nl,il,ol,rl,al,sl=__webpack_require__(983),ul=__webpack_require__.n(sl);function cl(t){var e=ll();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function ll(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ll=function(){return!!t})()}function dl(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function pl(t,e,n){return t.set(hl(t,e),n),n}function fl(t,e){return t.get(hl(t,e))}function hl(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function ml(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function yl(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function gl(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function _l(t){return t}var vl,bl=_uo.utility.sortArray;new(Wc=new WeakMap,Bc=new WeakMap,Xc=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:yl((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||yl(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:ml(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return gl(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(Nc=function(t){(0,le.A)(n,t);var e=cl(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),dl((0,ce.A)(t),Wc,nl((0,ce.A)(t))),dl((0,ce.A)(t),Bc,(il((0,ce.A)(t)),ol((0,ce.A)(t)))),rl((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"loopID",get:function(){return fl(Wc,this)},set:function(t){pl(Wc,this,t)}},{key:"iterableExpression",get:function(){return fl(Bc,this)},set:function(t){pl(Bc,this,t)}},{key:"render",value:function(){return(0,C.qy)(zc||(zc=(0,M.A)(['\n\t\t\t<div class="filter-directory">\n\t\t\t\t',"\n\t\t\t\t","\n\t\t\t</div>\n\t\t"])),this._templateInstructions,this._templateFilterList)}},{key:"_templateInstructions",get:function(){if("users"===this.iterableExpression.type)return(0,C.qy)(Gc||(Gc=(0,M.A)(['\n\t\t\t<uo-alert \n\t\t\t\ttype="info"\n\t\t\t\theading=',"\n\t\t\t>\n\t\t\t\t","\n\t\t\t</uo-alert>\n\t\t"])),_uo.utility.escHTML(wp.i18n.__("What's a loop filter?","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Loop filters decide which users will be included in the loop. Action filters within the block, on the other hand, choose what actions are performed for each individual user.","uncanny-automator")))}},{key:"_templateFilterList",get:function(){return(0,C.qy)(Yc||(Yc=(0,M.A)(['\n\t\t\t<uo-accordion\n\t\t\t\tlist-search\n\t\t\t\t\n\t\t\t\t.searchPlaceholder="','"\n\t\t\t\t.noResultsText="','"\n\t\t\t>\n\t\t\t\t',"\n\t\t\t</uo-accordion>\n\t\t"])),_uo.utility.escHTML(wp.i18n.__("Search loop filters","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("No results found","uncanny-automator")),this._templateFilterListItems)}},{key:"_templateFilterListItems",get:function(){var t=this;return(0,dn.u)(bl.alphabetically(Object.entries(this.integrationsWithLoopFilters),"[1].name"),(function(t){var e=(0,v.A)(t,2),n=e[0];return e[1],n}),(function(e){var n=(0,v.A)(e,2),i=n[0],o=n[1];return(0,C.qy)(Kc||(Kc=(0,M.A)(['\n\t\t\t\t<uo-accordion-item>\n\t\t\t\t\t<div slot="summary">\n\t\t\t\t\t\t<div class="filter-directory-integration">\n\t\t\t\t\t\t\t<uo-icon integration=',"></uo-icon> ","\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t","\n\n\t\t\t\t</uo-accordion-item>\n\t\t\t"])),i,o.name,(0,dn.u)(bl.alphabetically(Object.entries(o.loop_filters),"[1].sentence_readable"),(function(t){var e=(0,v.A)(t,2),n=e[0];return e[1],n}),(function(e){var n=(0,v.A)(e,2),o=n[0],r=n[1];if(r.loop_type===t.iterableExpression.type)return(0,C.qy)(Zc||(Zc=(0,M.A)(["\n\t\t\t\t\t\t\t\t<uo-accordion-item-li\n\t\t\t\t\t\t\t\t\t@click=","\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t\t</uo-accordion-item-li>\n\t\t\t\t\t\t\t"])),(function(e){return t.selectLoopFilter(i,o)}),function(t){if(!Rc(t)){var e=qc.decode(t).split("{{");return(0,C.qy)(Pc||(Pc=(0,M.A)(["\n\t\t<span>\n\t\t\t","\n\t\t</span>\n\t"])),e.map((function(t){var e=t.split("}}");return 1===e.length?e[0]:(0,C.qy)(Hc||(Hc=(0,M.A)(["<strong>","</strong>",""])),e[0],e[1])})))}}(r.sentence))})))}))}},{key:"selectLoopFilter",value:function(t,e){this.dispatchEvent(new CustomEvent("uap-builder-loop-filter-directory-selected",{detail:{loopID:this.loopID,integrationCode:t,loopFilterCode:e}}))}},{key:"integrationsWithLoopFilters",get:function(){var t=this;return UncannyAutomator._core.directory.integrations.filterIntegrations([UncannyAutomator._core.directory.integrations._filters.isAvailable,function(e){return UncannyAutomator._core.directory.integrations._filters.hasLoopFilters(e,t.iterableExpression.type)}])}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-loop-filter-directory")],[[(0,fe.MZ)({type:Number,attribute:"loop-id"}),1,"loopID"],[(0,fe.MZ)({type:Object,attribute:!1}),1,"iterableExpression"]],0,0,C.WF),Jc=(0,v.A)(Xc.e,4),nl=Jc[0],il=Jc[1],ol=Jc[2],rl=Jc[3],Qc=(0,v.A)(Xc.c,2),vl=Qc[0],el=Qc[1],al=Nc,Vc=function(t){(0,le.A)(n,t);var e=cl(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,vl)).styles=(0,C.AH)(tl||(tl=(0,M.A)(["",""])),(0,C.iz)(ul())),(0,ce.A)(t),el(),t}return(0,ue.A)(n)}(_l),Vc[al]=void 0,Vc);var wl,Al,kl,Tl,El,Dl,Ml,Cl=__webpack_require__(7610);function xl(t){var e=Ll();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function Ll(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ll=function(){return!!t})()}function Sl(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function Il(t,e,n){return t.set(jl(t,e),n),n}function Ol(t,e){return t.get(jl(t,e))}function jl(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Ul(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Pl(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function Hl(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}var Fl=new WeakMap,$l=new WeakMap,Rl=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Pl((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Pl(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:Ul(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return Hl(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(function(t){(0,le.A)(n,t);var e=xl(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),Sl((0,ce.A)(t),Fl,Tl((0,ce.A)(t))),Sl((0,ce.A)(t),$l,(El((0,ce.A)(t)),Dl((0,ce.A)(t)))),t.$filterListDialog=(Ml((0,ce.A)(t)),(0,Cl._)()),t}return(0,ue.A)(n,[{key:"loopID",get:function(){return Ol(Fl,this)},set:function(t){Il(Fl,this,t)}},{key:"iterableExpression",get:function(){return Ol($l,this)},set:function(t){Il($l,this,t)}},{key:"render",value:function(){return(0,C.qy)(wl||(wl=(0,M.A)(['\n\t\t\t<div class="filters-actions">\n\t\t\t\t<uo-button\n\t\t\t\t\tcolor="secondary" \n\t\t\t\t\tsize="extra-small"\n\t\t\t\t\t@click=',"\n\t\t\t\t>","</uo-button>\n\t\t\t</div>\n\t\t"])),this.createFilterListDialog,this.addFilterButtonLabel)}},{key:"createFilterListDialog",value:function(){var t=document.createElement("div");document.body.append(t),(0,C.XX)((0,C.qy)(Al||(Al=(0,M.A)(["\n\t\t\t\t<uo-dialog\n\t\t\t\t\theading=",'\n\n\t\t\t\t\tsize="large"\n\t\t\t\t\tforce-manual-close\n\t\t\t\t\topen\n\n\t\t\t\t\t',"\n\t\t\t\t>\n\t\t\t\t\t<uap-builder-item-loop-filter-directory\n\t\t\t\t\t\tloop-id=","\n\t\t\t\t\t\t.iterableExpression=","\n\t\t\t\t\t\t\n\t\t\t\t\t\t@uap-builder-loop-filter-directory-selected=",'\n\t\t\t\t\t></uap-builder-item-loop-filter-directory>\n\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\tslot="secondary-action"\n\t\t\t\t\t\tdialog-action="close"\n\t\t\t\t\t\tcolor="secondary"\n\t\t\t\t\t>\n\t\t\t\t\t\t',"\n\t\t\t\t\t</uo-button>\n\t\t\t\t</uo-dialog>\n\t\t\t"])),this.dialogHeading,(0,Cl.K)(this.$filterListDialog),this.loopID,this.iterableExpression,this.handleFilterSelected,_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator"))),t,{host:this})}},{key:"handleFilterSelected",value:function(t){this.$filterListDialog.value.close(),this.createEditFieldsDialog(t.detail.integrationCode,t.detail.loopFilterCode)}},{key:"createEditFieldsDialog",value:function(t,e){var n=document.createElement("div");document.body.append(n),(0,C.XX)((0,C.qy)(kl||(kl=(0,M.A)(["\n\t\t\t\t<uap-builder-item-loop-filter-edit-dialog\n\t\t\t\t\tloop-id=","\n\t\t\t\t\tloop-filter-code=","\n\t\t\t\t\tintegration-code=","\n\t\t\t\t></uap-builder-item-loop-filter-edit-dialog>\n\t\t\t"])),this.loopID,e,t),n)}},{key:"dialogHeading",get:function(){return"users"===this.iterableExpression.type?_uo.utility.escHTML(wp.i18n.__("Filter users","uncanny-automator")):"posts"===this.iterableExpression.type?_uo.utility.escHTML(wp.i18n.__("Filter posts","uncanny-automator")):"token"===this.iterableExpression.type?_uo.utility.escHTML(wp.i18n.__("Filter data","uncanny-automator")):void 0}},{key:"addFilterButtonLabel",get:function(){return"users"===this.iterableExpression.type?_uo.utility.escHTML(wp.i18n.__("Filter users","uncanny-automator")):"posts"===this.iterableExpression.type?_uo.utility.escHTML(wp.i18n.__("Filter posts","uncanny-automator")):"token"===this.iterableExpression.type?_uo.utility.escHTML(wp.i18n.__("Filter data","uncanny-automator")):void 0}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-loop-add-filter-button")],[[(0,fe.MZ)({type:Number,attribute:"loop-id"}),1,"loopID"],[(0,fe.MZ)({type:Object,attribute:!1}),1,"iterableExpression"]],0,0,C.WF),ql=(0,v.A)(Rl.e,4);Tl=ql[0],El=ql[1],Dl=ql[2],Ml=ql[3];var Vl,Nl,Wl,Bl,zl,Gl,Yl,Kl,Zl,Xl,Jl,Ql,td,ed,nd,id,od=(0,v.A)(Rl.c,2);function rd(t){var e=ad();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function ad(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ad=function(){return!!t})()}function sd(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function ud(t,e,n){return t.set(ld(t,e),n),n}function cd(t,e){return t.get(ld(t,e))}function ld(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function dd(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function pd(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function fd(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}od[0],(0,od[1])();var hd=_uo.utility,md=hd.isEmpty,yd=hd.htmlEntities,gd=new WeakMap,_d=new WeakMap,vd=new WeakMap,bd=new WeakMap,wd=new WeakMap,Ad=new WeakMap,kd=new WeakMap,Td=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:pd((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||pd(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:dd(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return fd(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(function(t){(0,le.A)(n,t);var e=rd(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),sd((0,ce.A)(t),gd,Wl((0,ce.A)(t))),sd((0,ce.A)(t),_d,(Bl((0,ce.A)(t)),zl((0,ce.A)(t)))),sd((0,ce.A)(t),vd,(Gl((0,ce.A)(t)),Yl((0,ce.A)(t)))),sd((0,ce.A)(t),bd,(Kl((0,ce.A)(t)),Zl((0,ce.A)(t)))),sd((0,ce.A)(t),wd,(Xl((0,ce.A)(t)),Jl((0,ce.A)(t),{}))),sd((0,ce.A)(t),Ad,(Ql((0,ce.A)(t)),td((0,ce.A)(t)))),sd((0,ce.A)(t),kd,(ed((0,ce.A)(t)),nd((0,ce.A)(t)))),id((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"loopID",get:function(){return cd(gd,this)},set:function(t){ud(gd,this,t)}},{key:"loopFilterID",get:function(){return cd(_d,this)},set:function(t){ud(_d,this,t)}},{key:"loopFilterCode",get:function(){return cd(vd,this)},set:function(t){ud(vd,this,t)}},{key:"integrationCode",get:function(){return cd(bd,this)},set:function(t){ud(bd,this,t)}},{key:"fields",get:function(){return cd(wd,this)},set:function(t){ud(wd,this,t)}},{key:"$sentence",get:function(){return cd(Ad,this)},set:function(t){ud(Ad,this,t)}},{key:"$optionsForm",get:function(){return cd(kd,this)},set:function(t){ud(kd,this,t)}},{key:"createRenderRoot",value:function(){return this}},{key:"render",value:function(){var t=this;return(0,C.qy)(Vl||(Vl=(0,M.A)(["\n\t\t\t<uo-dialog\n\t\t\t\theading=",'\n\n\t\t\t\tsize="large"\n\t\t\t\tforce-manual-close\n\t\t\t\topen\n\n\t\t\t\t@uap-dialog-close=',"\n\t\t\t>\n\t\t\t\t","\n\n\t\t\t\t<uap-builder-item-legacy-form\n\t\t\t\t\tparent-id=","\n\t\t\t\t\titem-id=",'\n\t\t\t\t\titem-type="loop-filter"\n\n\t\t\t\t\t.fieldsDirectory=',"\n\t\t\t\t\t\n\t\t\t\t\t.fieldsValues=",'\n\n\t\t\t\t\treturn-format="loop"\n\n\t\t\t\t\t@uap-builder-legacy-form-change=','\n\t\t\t\t></uap-builder-item-legacy-form>\n\n\t\t\t\t<uo-button\n\t\t\t\t\tslot="primary-action"\n\n\t\t\t\t\t@click=',"\n\t\t\t\t>\n\t\t\t\t\t",'\n\t\t\t\t</uo-button>\n\n\t\t\t\t<uo-button\n\t\t\t\t\tslot="secondary-action"\n\t\t\t\t\tdialog-action="close"\n\t\t\t\t\tcolor="secondary"\n\t\t\t\t>\n\t\t\t\t\t',"\n\t\t\t\t</uo-button>\n\t\t\t</uo-dialog>\n\t\t"])),_uo.utility.escHTML(wp.i18n.__("Configure the loop filter","uncanny-automator")),this.handleDialogClose,this._templateHeader,this.loopID,me(this.loopFilterID),Object.values(this.directoryItemData.fields).reduce((function(t,e){return t.concat(e)}),[]),this.fields,(function(e){t.fields=e.detail.unsavedFieldValues}),this.handleConfirmEdit,_uo.utility.escHTML(wp.i18n._x("Confirm","Verb","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator")))}},{key:"handleConfirmEdit",value:function(){var t=this;if(!md(this.$optionsForm)&&this.$optionsForm.areFieldsValid)return this.requestSentenceUpdate(),"edit"===this.mode?UncannyAutomator._core.recipe.item.loop.updateLoopFilter(this.loopID,this.loopFilterID,this.fieldsForRemote,this.backupForRemote).then((function(e){t.handleDialogClose()})):"create"===this.mode?UncannyAutomator._core.recipe.item.loop.createLoopFilter(this.loopID,this.integrationCode,this.loopFilterCode,this.fieldsForRemote,this.backupForRemote).then((function(e){t.handleDialogClose()})):void 0}},{key:"requestSentenceUpdate",value:function(){this.fields=this.$optionsForm.unsavedFieldValues}},{key:"_templateHeader",get:function(){return(0,C.qy)(Nl||(Nl=(0,M.A)(['\n\t\t\t<div class="uap-edit-dialog-header">\n\t\t\t\t<div class="uap-edit-dialog-header-integration-icon">\n\t\t\t\t\t<uap-log-integration-icon \n\t\t\t\t\t\tsize="24" \n\t\t\t\t\t\tintegration-id="','"\n\t\t\t\t\t></uap-log-integration-icon>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="uap-edit-dialog-header-tags">\n\t\t\t\t\t<uo-chip \n\t\t\t\t\t\tsize="small" \n\t\t\t\t\t\tvariant="pill" \n\t\t\t\t\t\tfilled\n\t\t\t\t\t>\n\t\t\t\t\t\t','\n\t\t\t\t\t</uo-chip>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="uap-edit-dialog-header-filter-sentence">\n\t\t\t\t\t<uap-builder-item-sentence\n\t\t\t\t\t\titem-id=',"\n\t\t\t\t\t\t.sentence=","\n\t\t\t\t\t\t.fields=","\n\t\t\t\t\t></uap-builder-item-sentence>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),this.integrationCode,UncannyAutomator._integrations[this.integrationCode].name,this.loopFilterID,this.directoryItemData.sentence_readable,this.fields)}},{key:"directoryItemData",get:function(){return UncannyAutomator._core.directory.items.getLoopFilter(this.integrationCode,this.loopFilterCode)}},{key:"directoryIntegrationData",get:function(){return UncannyAutomator._core.directory.integrations.getIntegration(this.integrationCode)}},{key:"fieldsForRemote",get:function(){if(!md(this.$optionsForm))return JSON.stringify(this.$optionsForm.unsavedFieldValues)}},{key:"backupForRemote",get:function(){return JSON.stringify({integration_name:this.directoryIntegrationData.name,sentence:this.directoryItemData.sentence_readable,sentence_html:yd.encode(this.$sentence.outputForLogs)})}},{key:"mode",get:function(){return md(this.loopFilterID)?"create":"edit"}},{key:"handleDialogClose",value:function(){this.remove()}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-loop-filter-edit-dialog")],[[(0,fe.MZ)({type:Number,attribute:"loop-id"}),1,"loopID"],[(0,fe.MZ)({type:Number,attribute:"loop-filter-id"}),1,"loopFilterID"],[(0,fe.MZ)({type:String,attribute:"loop-filter-code"}),1,"loopFilterCode"],[(0,fe.MZ)({type:String,attribute:"integration-code"}),1,"integrationCode"],[(0,fe.MZ)({type:Object,attribute:!1}),1,"fields"],[(0,fe.P)("uap-builder-item-sentence"),1,"$sentence"],[(0,fe.P)("uap-builder-item-legacy-form"),1,"$optionsForm"]],0,0,C.WF),Ed=(0,v.A)(Td.e,14);Wl=Ed[0],Bl=Ed[1],zl=Ed[2],Gl=Ed[3],Yl=Ed[4],Kl=Ed[5],Zl=Ed[6],Xl=Ed[7],Jl=Ed[8],Ql=Ed[9],td=Ed[10],ed=Ed[11],nd=Ed[12],id=Ed[13];var Dd=(0,v.A)(Td.c,2);Dd[0],(0,Dd[1])();var Md,Cd,xd,Ld,Sd,Id,Od,jd,Ud,Pd,Hd,Fd,$d,Rd,qd,Vd,Nd=__webpack_require__(8079),Wd=__webpack_require__.n(Nd);function Bd(t){var e=zd();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function zd(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(zd=function(){return!!t})()}function Gd(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function Yd(t,e,n){return t.set(Zd(t,e),n),n}function Kd(t,e){return t.get(Zd(t,e))}function Zd(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Xd(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Jd(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function Qd(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function tp(t){return t}new(xd=new WeakMap,Ld=new WeakMap,Id=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Jd((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Jd(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:Xd(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return Qd(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(Cd=function(t){(0,le.A)(n,t);var e=Bd(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),Gd((0,ce.A)(t),xd,Hd((0,ce.A)(t))),Gd((0,ce.A)(t),Ld,(Fd((0,ce.A)(t)),$d((0,ce.A)(t)))),Rd((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"loopID",get:function(){return Kd(xd,this)},set:function(t){Yd(xd,this,t)}},{key:"loopFilterID",get:function(){return Kd(Ld,this)},set:function(t){Yd(Ld,this,t)}},{key:"render",value:function(){return(0,C.qy)(Sd||(Sd=(0,M.A)(["\n\t\t\t<uo-tooltip>\n\t\t\t\t",'\n\t\t\t\t\n\t\t\t\t<uo-button \n\t\t\t\t\tclass="remove" \n\t\t\t\t\tcolor="transparent" \n\t\t\t\t\tsize="small"\n\t\t\t\t\tslot="target"\n\n\t\t\t\t\t@click=','\n\t\t\t\t>\n\t\t\t\t\t<uo-icon id="trash"></uo-icon>\n\t\t\t\t</uo-button>\n\t\t\t</uo-tooltip>\n\t\t'])),_uo.utility.escHTML(wp.i18n.__("Delete filter","uncanny-automator")),this.handleDeleteFilter)}},{key:"handleDeleteFilter",value:function(){UncannyAutomator._core.recipe.item.loop.deleteLoopFilter(this.loopID,this.loopFilterID)}},{key:"directoryItemData",get:function(){return UncannyAutomator._core.directory.items.getLoopFilter(this.integrationCode,this.code)}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-loop-filter-btn-delete")],[[(0,fe.MZ)({type:Number,attribute:"loop-id"}),1,"loopID"],[(0,fe.MZ)({type:Number,attribute:"loop-filter-id"}),1,"loopFilterID"]],0,0,C.WF),Od=(0,v.A)(Id.e,4),Hd=Od[0],Fd=Od[1],$d=Od[2],Rd=Od[3],jd=(0,v.A)(Id.c,2),Vd=jd[0],Pd=jd[1],qd=Cd,Md=function(t){(0,le.A)(n,t);var e=Bd(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,Vd)).styles=(0,C.AH)(Ud||(Ud=(0,M.A)(["",""])),(0,C.iz)(Wd())),(0,ce.A)(t),Pd(),t}return(0,ue.A)(n)}(tp),Md[qd]=void 0,Md);var ep,np,ip,op,rp,ap,sp,up,cp,lp,dp,pp,fp,hp,mp,yp,gp,_p,vp,bp,Ap,kp,Tp,Ep,Dp,Mp=__webpack_require__(4256),Cp=__webpack_require__.n(Mp);function xp(t){var e=Lp();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function Lp(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Lp=function(){return!!t})()}function Sp(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function Ip(t,e,n){return t.set(jp(t,e),n),n}function Op(t,e){return t.get(jp(t,e))}function jp(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Up(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Pp(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function Hp(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function Fp(t){return t}var $p,Rp=_uo.utility;Rp.isEmpty,Rp.htmlEntities,new(ip=new WeakMap,op=new WeakMap,rp=new WeakMap,ap=new WeakMap,sp=new WeakMap,lp=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Pp((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Pp(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:Up(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return Hp(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(np=function(t){(0,le.A)(n,t);var e=xp(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),Sp((0,ce.A)(t),ip,mp((0,ce.A)(t))),Sp((0,ce.A)(t),op,(yp((0,ce.A)(t)),gp((0,ce.A)(t)))),Sp((0,ce.A)(t),rp,(_p((0,ce.A)(t)),vp((0,ce.A)(t)))),Sp((0,ce.A)(t),ap,(bp((0,ce.A)(t)),Ap((0,ce.A)(t)))),Sp((0,ce.A)(t),sp,(kp((0,ce.A)(t)),Tp((0,ce.A)(t),[]))),Ep((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"loopID",get:function(){return Op(ip,this)},set:function(t){Ip(ip,this,t)}},{key:"loopFilterID",get:function(){return Op(op,this)},set:function(t){Ip(op,this,t)}},{key:"loopFilterCode",get:function(){return Op(rp,this)},set:function(t){Ip(rp,this,t)}},{key:"integrationCode",get:function(){return Op(ap,this)},set:function(t){Ip(ap,this,t)}},{key:"fields",get:function(){return Op(sp,this)},set:function(t){Ip(sp,this,t)}},{key:"render",value:function(){return(0,C.qy)(up||(up=(0,M.A)(["\n\t\t\t<uo-tooltip>\n\t\t\t\t",'\n\n\t\t\t\t<uo-button \n\t\t\t\t\tclass="filter-item-edit" \n\t\t\t\t\tcolor="transparent" \n\t\t\t\t\tsize="small"\n\t\t\t\t\tslot="target"\n\n\t\t\t\t\t@click=','\n\t\t\t\t>\n\t\t\t\t\t<uo-icon id="pencil"></uo-icon>\n\t\t\t\t</uo-button>\n\t\t\t</uo-tooltip>\n\t\t'])),_uo.utility.escHTML(wp.i18n.__("Edit filter","uncanny-automator")),this.handleEditFilter)}},{key:"handleEditFilter",value:function(){this.createDialog()}},{key:"createDialog",value:function(){var t=document.createElement("div");document.body.append(t),(0,C.XX)((0,C.qy)(cp||(cp=(0,M.A)(["\n\t\t\t\t<uap-builder-item-loop-filter-edit-dialog\n\t\t\t\t\tloop-id=","\n\t\t\t\t\tloop-filter-id=","\n\t\t\t\t\tloop-filter-code=","\n\t\t\t\t\tintegration-code=","\n\t\t\t\t\t.fields=","\n\t\t\t\t></uap-builder-item-loop-filter-edit-dialog>\n\t\t\t"])),this.loopID,this.loopFilterID,this.loopFilterCode,this.integrationCode,this.fields),t)}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-loop-filter-btn-edit")],[[(0,fe.MZ)({type:Number,attribute:"loop-id"}),1,"loopID"],[(0,fe.MZ)({type:Number,attribute:"loop-filter-id"}),1,"loopFilterID"],[(0,fe.MZ)({type:String,attribute:"loop-filter-code"}),1,"loopFilterCode"],[(0,fe.MZ)({type:String,attribute:"integration-code"}),1,"integrationCode"],[(0,fe.MZ)({type:Array,attribute:!1}),1,"fields"]],0,0,C.WF),dp=(0,v.A)(lp.e,10),mp=dp[0],yp=dp[1],gp=dp[2],_p=dp[3],vp=dp[4],bp=dp[5],Ap=dp[6],kp=dp[7],Tp=dp[8],Ep=dp[9],pp=(0,v.A)(lp.c,2),$p=pp[0],hp=pp[1],Dp=np,ep=function(t){(0,le.A)(n,t);var e=xp(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,$p)).styles=(0,C.AH)(fp||(fp=(0,M.A)(["",""])),(0,C.iz)(Cp())),(0,ce.A)(t),hp(),t}return(0,ue.A)(n)}(Fp),ep[Dp]=void 0,ep);var qp,Vp,Np,Wp,Bp,zp,Gp,Yp,Kp,Zp,Xp,Jp,Qp,tf,ef,nf,of,rf,af,sf,uf,cf,lf,df,pf,ff,hf,mf,yf,gf,_f,vf=__webpack_require__(7099),bf=__webpack_require__.n(vf);function wf(t){var e=Af();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function Af(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Af=function(){return!!t})()}function kf(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function Tf(t,e,n){return t.set(Df(t,e),n),n}function Ef(t,e){return t.get(Df(t,e))}function Df(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Mf(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Cf(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function xf(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function Lf(t){return t}new(Np=new WeakMap,Wp=new WeakMap,Bp=new WeakMap,zp=new WeakMap,Gp=new WeakMap,Yp=new WeakMap,Qp=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Cf((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Cf(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:Mf(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return xf(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(Vp=function(t){(0,le.A)(n,t);var e=wf(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),kf((0,ce.A)(t),Np,rf((0,ce.A)(t))),kf((0,ce.A)(t),Wp,(af((0,ce.A)(t)),sf((0,ce.A)(t)))),kf((0,ce.A)(t),Bp,(uf((0,ce.A)(t)),cf((0,ce.A)(t)))),kf((0,ce.A)(t),zp,(lf((0,ce.A)(t)),df((0,ce.A)(t)))),kf((0,ce.A)(t),Gp,(pf((0,ce.A)(t)),ff((0,ce.A)(t),[]))),kf((0,ce.A)(t),Yp,(hf((0,ce.A)(t)),mf((0,ce.A)(t),[]))),yf((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"loopID",get:function(){return Ef(Np,this)},set:function(t){Tf(Np,this,t)}},{key:"id",get:function(){return Ef(Wp,this)},set:function(t){Tf(Wp,this,t)}},{key:"code",get:function(){return Ef(Bp,this)},set:function(t){Tf(Bp,this,t)}},{key:"integrationCode",get:function(){return Ef(zp,this)},set:function(t){Tf(zp,this,t)}},{key:"fields",get:function(){return Ef(Gp,this)},set:function(t){Tf(Gp,this,t)}},{key:"backup",get:function(){return Ef(Yp,this)},set:function(t){Tf(Yp,this,t)}},{key:"render",value:function(){return(0,C.qy)(Kp||(Kp=(0,M.A)(['\n\t\t\t<div class="filter-item">\n\t\t\t\t',"\n\t\t\t\t","\n\t\t\t\t","\n\t\t\t</div>\n\t\t"])),this._templateIntegrationIcon,this._templateSentence,this._templateActions)}},{key:"_templateIntegrationIcon",get:function(){return(0,C.qy)(Zp||(Zp=(0,M.A)(['\n\t\t\t<div class="filter-item-icon">\n\t\t\t\t<uo-icon integration="','" show-tooltip></uo-icon>\n\t\t\t</div>\n\t\t'])),this.integrationCode)}},{key:"_templateSentence",get:function(){return(0,C.qy)(Xp||(Xp=(0,M.A)(["\n\t\t\t<uap-builder-item-sentence\n\t\t\t\titem-id=","\n\t\t\t\t.sentence=","\n\t\t\t\t.fields=","\n\n\t\t\t\tnon-interactive-pills\n\t\t\t></uap-builder-item-sentence>\n\t\t"])),this.id,this.directoryItemData.sentence_readable,this.fields)}},{key:"_templateActions",get:function(){return(0,C.qy)(Jp||(Jp=(0,M.A)(['\n\t\t\t<div class="filter-item-buttons">\n\t\t\t\t<uap-builder-item-loop-filter-btn-edit\n\t\t\t\t\tloop-id=',"\n\t\t\t\t\tloop-filter-id=","\n\t\t\t\t\tloop-filter-code=","\n\t\t\t\t\tintegration-code=","\n\t\t\t\t\t.fields=","\n\t\t\t\t></uap-builder-item-loop-filter-btn-edit>\n\n\t\t\t\t<uap-builder-item-loop-filter-btn-delete\n\t\t\t\t\tloop-id=","\n\t\t\t\t\tloop-filter-id=","\n\t\t\t\t></uap-builder-item-loop-filter-btn-delete>\n\t\t\t</div>\n\t\t"])),this.loopID,this.id,this.code,this.integrationCode,this.fields,this.loopID,this.id)}},{key:"directoryItemData",get:function(){return UncannyAutomator._core.directory.items.getLoopFilter(this.integrationCode,this.code)}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-loop-filter")],[[(0,fe.MZ)({type:Number,attribute:"loop-id"}),1,"loopID"],[(0,fe.MZ)({type:Number,attribute:"loop-filter-id"}),1,"id"],[(0,fe.MZ)({type:String,attribute:"loop-filter-code"}),1,"code"],[(0,fe.MZ)({type:String,attribute:"integration-code"}),1,"integrationCode"],[(0,fe.MZ)({type:Array,attribute:!1}),1,"fields"],[(0,fe.MZ)({type:Array,attribute:!1}),1,"backup"]],0,0,C.WF),tf=(0,v.A)(Qp.e,12),rf=tf[0],af=tf[1],sf=tf[2],uf=tf[3],cf=tf[4],lf=tf[5],df=tf[6],pf=tf[7],ff=tf[8],hf=tf[9],mf=tf[10],yf=tf[11],ef=(0,v.A)(Qp.c,2),_f=ef[0],of=ef[1],gf=Vp,qp=function(t){(0,le.A)(n,t);var e=wf(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,_f)).styles=(0,C.AH)(nf||(nf=(0,M.A)(["",""])),(0,C.iz)(bf())),(0,ce.A)(t),of(),t}return(0,ue.A)(n)}(Lf),qp[gf]=void 0,qp);var Sf,If,Of,jf,Uf,Pf,Hf,Ff,$f,Rf,qf,Vf,Nf,Wf,Bf,zf,Gf,Yf,Kf,Zf,Xf,Jf,Qf=__webpack_require__(8266),th=__webpack_require__.n(Qf);function eh(t){var e=nh();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function nh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(nh=function(){return!!t})()}function ih(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function oh(t,e,n){return t.set(ah(t,e),n),n}function rh(t,e){return t.get(ah(t,e))}function ah(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function sh(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function uh(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function ch(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function lh(t){return t}new(Of=new WeakMap,jf=new WeakMap,Uf=new WeakMap,Rf=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:uh((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||uh(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:sh(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return ch(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(If=function(t){(0,le.A)(n,t);var e=eh(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),ih((0,ce.A)(t),Of,Bf((0,ce.A)(t))),ih((0,ce.A)(t),jf,(zf((0,ce.A)(t)),Gf((0,ce.A)(t)))),ih((0,ce.A)(t),Uf,(Yf((0,ce.A)(t)),Kf((0,ce.A)(t),[]))),Zf((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"id",get:function(){return rh(Of,this)},set:function(t){oh(Of,this,t)}},{key:"iterableExpression",get:function(){return rh(jf,this)},set:function(t){oh(jf,this,t)}},{key:"loopFilters",get:function(){return rh(Uf,this)},set:function(t){oh(Uf,this,t)}},{key:"render",value:function(){return(0,C.qy)(Pf||(Pf=(0,M.A)(['\n\t\t\t<div class="filters">\n\t\t\t\t',"\n\t\t\t\t","\n\t\t\t</div>            \n\t\t"])),this._templateItems,this._templateActions)}},{key:"_templateItems",get:function(){var t=this;if(0!==this.loopFilters.length)return(0,C.qy)(Hf||(Hf=(0,M.A)(['\n\t\t\t<div class="filters-items">\n\t\t\t\t',"\n\t\t\t</div>\n\t\t"])),(0,dn.u)(this.loopFilters,(function(t){return t.id}),(function(e){return(0,C.qy)(Ff||(Ff=(0,M.A)(["\n\t\t\t\t\t\t<uap-builder-item-loop-filter\n\t\t\t\t\t\t\tloop-id=","\n\t\t\t\t\t\t\tloop-filter-id=","\n\t\t\t\t\t\t\tloop-filter-code=","\n\t\t\t\t\t\t\tintegration-code=","\n\n\t\t\t\t\t\t\t.fields=","\n\t\t\t\t\t\t\t.backup=","\n\t\t\t\t\t\t></uap-builder-item-loop-filter>\n\t\t\t\t\t"])),t.id,e.id,e.code,e.integration_code,e.fields,e.backup)})))}},{key:"_templateActions",get:function(){return(0,C.qy)($f||($f=(0,M.A)(["\n\t\t\t<uap-builder-item-loop-add-filter-button\n\t\t\t\tloop-id=","\n\t\t\t\t.iterableExpression=","\n\t\t\t></uap-builder-item-loop-add-filter-button>\n\t\t"])),this.id,this.iterableExpression)}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-loop-filters")],[[(0,fe.MZ)({type:Number,attribute:"loop-id"}),1,"id"],[(0,fe.MZ)({type:Object,attribute:!1}),1,"iterableExpression"],[(0,fe.MZ)({type:Array,attribute:!1}),1,"loopFilters"]],0,0,C.WF),qf=(0,v.A)(Rf.e,6),Bf=qf[0],zf=qf[1],Gf=qf[2],Yf=qf[3],Kf=qf[4],Zf=qf[5],Vf=(0,v.A)(Rf.c,2),Jf=Vf[0],Wf=Vf[1],Xf=If,Sf=function(t){(0,le.A)(n,t);var e=eh(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,Jf)).styles=(0,C.AH)(Nf||(Nf=(0,M.A)(["",""])),(0,C.iz)(th())),(0,ce.A)(t),Wf(),t}return(0,ue.A)(n)}(lh),Sf[Xf]=void 0,Sf);var dh,ph,fh,hh,mh,yh,gh,_h,vh,bh,wh,Ah,kh,Th,Eh,Dh,Mh,Ch,xh,Lh,Sh=__webpack_require__(1792),Ih=__webpack_require__.n(Sh);function Oh(t){var e=jh();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function jh(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(jh=function(){return!!t})()}function Uh(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function Ph(t,e,n){return t.set(Fh(t,e),n),n}function Hh(t,e){return t.get(Fh(t,e))}function Fh(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function $h(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Rh(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function qh(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function Vh(t){return t}new(fh=new WeakMap,hh=new WeakMap,mh=new WeakMap,_h=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Rh((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Rh(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:$h(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return qh(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(ph=function(t){(0,le.A)(n,t);var e=Oh(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),Uh((0,ce.A)(t),fh,kh((0,ce.A)(t))),Uh((0,ce.A)(t),hh,(Th((0,ce.A)(t)),Eh((0,ce.A)(t)))),Uh((0,ce.A)(t),mh,(Dh((0,ce.A)(t)),Mh((0,ce.A)(t)))),Ch((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"parentID",get:function(){return Hh(fh,this)},set:function(t){Ph(fh,this,t)}},{key:"id",get:function(){return Hh(hh,this)},set:function(t){Ph(hh,this,t)}},{key:"iterableExpression",get:function(){return Hh(mh,this)},set:function(t){Ph(mh,this,t)}},{key:"render",value:function(){return(0,C.qy)(yh||(yh=(0,M.A)(['\n            <div class="iterable-expression">\n                <uap-builder-item-sentence\n                    item-id=',"\n                    .sentence=","\n                    .fields=","\n                    non-interactive-pills\n                ></uap-builder-item-sentence>\n                \n                <uo-button\n                    @click=",'\n                    color="transparent"\n                    size="small"\n                >\n                    <uo-icon id="pencil"></uo-icon>\n                </uo-button>\n            </div>\n\t\t'])),this.loopID,this.directoryLoopData.sentence,JSON.parse(this.iterableExpression.fields),this.handleOpenEditDialog)}},{key:"handleOpenEditDialog",value:function(){this.createEditFieldsDialog()}},{key:"createEditFieldsDialog",value:function(){var t=document.createElement("div");document.body.append(t);var e=this.iterableExpression.fields;try{e=JSON.parse(e)}catch(t){}(0,C.XX)((0,C.qy)(gh||(gh=(0,M.A)(["\n\t\t\t\t<uap-builder-item-loop-edit-dialog\n\t\t\t\t\tparent-id=","\n                    loop-id=","\n\t\t\t\t\ttype=","\n                    .fields=","\n\t\t\t\t></uap-builder-item-loop-edit-dialog>\n\t\t\t"])),this.parentID,this.id,this.iterableExpression.type,e),t)}},{key:"directoryLoopData",get:function(){return UncannyAutomator._core.directory.items.getLoop(this.iterableExpression.type)}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-loop-iterable-expression-token")],[[(0,fe.MZ)({type:Number,attribute:"parent-id"}),1,"parentID"],[(0,fe.MZ)({type:Number,attribute:"loop-id"}),1,"id"],[(0,fe.MZ)({type:Object,attribute:!1}),1,"iterableExpression"]],0,0,C.WF),vh=(0,v.A)(_h.e,6),kh=vh[0],Th=vh[1],Eh=vh[2],Dh=vh[3],Mh=vh[4],Ch=vh[5],bh=(0,v.A)(_h.c,2),Lh=bh[0],Ah=bh[1],xh=ph,dh=function(t){(0,le.A)(n,t);var e=Oh(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,Lh)).styles=(0,C.AH)(wh||(wh=(0,M.A)(["",""])),(0,C.iz)(Ih())),(0,ce.A)(t),Ah(),t}return(0,ue.A)(n)}(Vh),dh[xh]=void 0,dh);var Nh,Wh,Bh,zh,Gh,Yh,Kh,Zh,Xh,Jh,Qh,tm,em,nm=__webpack_require__(3989),im=__webpack_require__.n(nm);function om(t){var e=rm();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function rm(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(rm=function(){return!!t})()}function am(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function sm(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function um(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function cm(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function lm(t){return t}new(Bh=new WeakMap,Gh=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:um((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||um(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:sm(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return cm(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(Wh=function(t){(0,le.A)(n,t);var e=om(n);function n(){var t,i,o,r;(0,se.A)(this,n);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return t=e.call.apply(e,[this].concat(s)),i=(0,ce.A)(t),o=Bh,r=Jh((0,ce.A)(t)),function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(i,o),o.set(i,r),Qh((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"loopID",get:function(){return(t=Bh).get(am(t,this));var t},set:function(t){var e,n;n=t,(e=Bh).set(am(e,this),n)}},{key:"render",value:function(){return(0,C.qy)(zh||(zh=(0,M.A)(['\n\t\t\t<uo-button\n\t\t\t\tcolor="transparent"\n\t\t\t\t@click=',"\n\t\t\t>\n\t\t\t\t","\n\t\t\t</uo-button>\n\t\t"])),this.handleLoopDelete,_uo.utility.escHTML(wp.i18n.__("Delete","uncanny-automator")))}},{key:"handleLoopDelete",value:function(){UncannyAutomator._core.recipe.item.loop.deleteLoop(this.loopID)}}]),n}(C.WF),[(0,fe.EM)("uap-builder-loop-menu-button-delete")],[[(0,fe.MZ)({type:Number,attribute:"loop-id"}),1,"loopID"]],0,0,C.WF),Yh=(0,v.A)(Gh.e,2),Jh=Yh[0],Qh=Yh[1],Kh=(0,v.A)(Gh.c,2),em=Kh[0],Xh=Kh[1],tm=Wh,Nh=function(t){(0,le.A)(n,t);var e=om(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,em)).styles=(0,C.AH)(Zh||(Zh=(0,M.A)(["",""])),(0,C.iz)(im())),(0,ce.A)(t),Xh(),t}return(0,ue.A)(n)}(lm),Nh[tm]=void 0,Nh);var dm,pm,fm,hm,mm,ym,gm,_m,vm,bm,wm,Am,km,Tm=__webpack_require__(4339),Em=__webpack_require__.n(Tm);function Dm(t){var e=Mm();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function Mm(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Mm=function(){return!!t})()}function Cm(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function xm(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Lm(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function Sm(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function Im(t){return t}new(fm=new WeakMap,mm=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Lm((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Lm(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:xm(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return Sm(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(pm=function(t){(0,le.A)(n,t);var e=Dm(n);function n(){var t,i,o,r;(0,se.A)(this,n);for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];return t=e.call.apply(e,[this].concat(s)),i=(0,ce.A)(t),o=fm,r=bm((0,ce.A)(t)),function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(i,o),o.set(i,r),wm((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"iterableExpression",get:function(){return(t=fm).get(Cm(t,this));var t},set:function(t){var e,n;n=t,(e=fm).set(Cm(e,this),n)}},{key:"render",value:function(){return(0,C.qy)(hm||(hm=(0,M.A)(['\n\t\t\t<uo-button\n\t\t\t\tcolor="transparent"\n\t\t\t\thref=','\n\t\t\t\ttarget="_blank"\n\t\t\t>\n\t\t\t\t',"\n\t\t\t</uo-button>\n\t\t"])),this.supportURL,_uo.utility.escHTML(wp.i18n._x("Support","Noun","uncanny-automator")))}},{key:"supportURL",get:function(){var t,e,n;return"users"===(null===(t=this.iterableExpression)||void 0===t?void 0:t.type)?UncannyAutomator._site.automator.links.loops_guide.users_loops:"posts"===(null===(e=this.iterableExpression)||void 0===e?void 0:e.type)?UncannyAutomator._site.automator.links.loops_guide.posts_loops:"token"===(null===(n=this.iterableExpression)||void 0===n?void 0:n.type)?UncannyAutomator._site.automator.links.loops_guide.token_loops:void 0}}]),n}(C.WF),[(0,fe.EM)("uap-builder-loop-menu-button-support")],[[(0,fe.MZ)({type:Object,attribute:!1}),1,"iterableExpression"]],0,0,C.WF),ym=(0,v.A)(mm.e,2),bm=ym[0],wm=ym[1],gm=(0,v.A)(mm.c,2),km=gm[0],vm=gm[1],Am=pm,dm=function(t){(0,le.A)(n,t);var e=Dm(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,km)).styles=(0,C.AH)(_m||(_m=(0,M.A)(["",""])),(0,C.iz)(Em())),(0,ce.A)(t),vm(),t}return(0,ue.A)(n)}(Im),dm[Am]=void 0,dm);var Om,jm,Um,Pm,Hm,Fm,$m,Rm,qm,Vm,Nm,Wm,Bm,zm,Gm,Ym,Km,Zm,Xm,Jm,Qm,ty,ey,ny,iy,oy,ry,ay,sy,uy,cy,ly,dy,py,fy,hy,my,yy,gy,_y,vy,by,wy,Ay=__webpack_require__(8422),ky=__webpack_require__.n(Ay);function Ty(t){var e=Ey();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function Ey(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ey=function(){return!!t})()}function Dy(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function My(t,e,n){return t.set(xy(t,e),n),n}function Cy(t,e){return t.get(xy(t,e))}function xy(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Ly(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Sy(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function Iy(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function Oy(t){return t}function jy(){return jy="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=(0,pe.A)(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},jy.apply(null,arguments)}new(Um=new WeakMap,Pm=new WeakMap,Hm=new WeakMap,Fm=new WeakMap,$m=new WeakMap,Rm=new WeakMap,qm=new WeakMap,jm=function(t){(0,le.A)(n,t);var e=Ty(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),Dy((0,ce.A)(t),Um,ay((0,ce.A)(t))),Dy((0,ce.A)(t),Pm,(sy((0,ce.A)(t)),uy((0,ce.A)(t)))),Dy((0,ce.A)(t),Hm,(cy((0,ce.A)(t)),ly((0,ce.A)(t)))),Dy((0,ce.A)(t),Fm,(dy((0,ce.A)(t)),py((0,ce.A)(t),[]))),Dy((0,ce.A)(t),$m,(fy((0,ce.A)(t)),hy((0,ce.A)(t),[]))),Dy((0,ce.A)(t),Rm,(my((0,ce.A)(t)),yy((0,ce.A)(t)))),Dy((0,ce.A)(t),qm,(gy((0,ce.A)(t)),_y((0,ce.A)(t)))),vy((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"parentID",get:function(){return Cy(Um,this)},set:function(t){My(Um,this,t)}},{key:"id",get:function(){return Cy(Pm,this)},set:function(t){My(Pm,this,t)}},{key:"logic",get:function(){return Cy(Hm,this)},set:function(t){My(Hm,this,t)}},{key:"loopFilters",get:function(){return Cy(Fm,this)},set:function(t){My(Fm,this,t)}},{key:"items",get:function(){return Cy($m,this)},set:function(t){My($m,this,t)}},{key:"iterableExpression",get:function(){return Cy(Rm,this)},set:function(t){My(Rm,this,t)}},{key:"runOn",get:function(){return Cy(qm,this)},set:function(t){My(qm,this,t)}},{key:"render",value:function(){return(0,C.qy)(Vm||(Vm=(0,M.A)(['\n\t\t\t<div class="loop">\n\t\t\t\t',"\n\t\t\t\t","\n\t\t\t\t","\n\t\t\t</div>\n\t\t"])),this._templateSummary,this._templateItems,this._templateActions)}},{key:"_templateSummary",get:function(){return(0,C.qy)(Nm||(Nm=(0,M.A)(['\n\t\t\t<div class="loop-summary">\n\t\t\t\t',"\n\t\t\t\t"," \n\t\t\t</div>\n\t\t"])),this._templateHeader,this._templateFilters)}},{key:"_templateFilters",get:function(){return(0,C.qy)(Wm||(Wm=(0,M.A)(["\n\t\t\t<uap-builder-item-loop-filters\n\t\t\t\tloop-id=","\n\t\t\t\t\n\t\t\t\t.iterableExpression=","\n\t\t\t\t.loopFilters=","\n\t\t\t></uap-builder-item-loop-filters>\n\t\t"])),this.id,this.iterableExpression,this.loopFilters)}},{key:"_templateHeader",get:function(){return(0,C.qy)(Bm||(Bm=(0,M.A)(['\n\t\t\t<div class="loop-header">\n\t\t\t\t<div class="loop-header-info">\n\t\t\t\t\t<div class="loop-header-icon">\n\t\t\t\t\t\t<uo-icon id="repeat"></uo-icon>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="loop-header-name">\n\t\t\t\t\t\t',"\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t","\n\n\t\t\t\t\t","\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t","\n\t\t\t</div>\n\t\t"])),_uo.utility.escHTML(wp.i18n._x("Loop","Block name, noun","uncanny-automator")),this._templateIterableExpression,this.loopFilters.length>0?(0,C.qy)(zm||(zm=(0,M.A)(['\n\t\t\t\t\t\t<div class="loop-header-sentence">\n\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"])),_uo.utility.escHTML(wp.i18n.__("that match the following criteria","uncanny-automator"))):"",this._templateMenu)}},{key:"_templateMenu",get:function(){if(!_uo.utility.isEmpty(this.menuItems))return(0,C.qy)(Gm||(Gm=(0,M.A)(['\n\t\t\t<div class="loop-header-menu">\n\t\t\t\t<uo-button-dropdown reverse-direction>\n\t\t\t\t\t<uo-button \n\t\t\t\t\t\tslot="target" \n\t\t\t\t\t\tcolor="transparent"\n\t\t\t\t\t\tsize="small"\n\t\t\t\t\t>\n\t\t\t\t\t\t<uo-icon id="ellipsis"></uo-icon>\n\t\t\t\t\t</uo-button>\n\n\t\t\t\t\t',"\n\n\t\t\t\t</uo-button-dropdown>\n\t\t\t</div>\n\t\t"])),(0,dn.u)(this.menuItems,(function(t,e){return e}),(function(t){return t})))}},{key:"_templateIterableExpression",get:function(){return"users"===this.iterableExpression.type?(0,C.qy)(Ym||(Ym=(0,M.A)(['\n\t\t\t\t<div class="loop-header-iterable-expression">\n\t\t\t\t\t<uo-chip>\n\t\t\t\t\t\t<uo-icon id="user"></uo-icon> ',"\n\t\t\t\t\t</uo-chip>\n\t\t\t\t</div>\n\t\t\t"])),_uo.utility.escHTML(wp.i18n.__("Users","uncanny-automator"))):"posts"===this.iterableExpression.type?(0,C.qy)(Km||(Km=(0,M.A)(['\n\t\t\t\t<div class="loop-header-iterable-expression">\n\t\t\t\t\t<uo-chip>\n\t\t\t\t\t\t<uo-icon id="files"></uo-icon> ',"\n\t\t\t\t\t</uo-chip>\n\t\t\t\t</div>\n\t\t\t"])),_uo.utility.escHTML(wp.i18n.__("Posts","uncanny-automator"))):"token"===this.iterableExpression.type?(0,C.qy)(Zm||(Zm=(0,M.A)(["\n\t\t\t\t<uap-builder-item-loop-iterable-expression-token\n\t\t\t\t\tparent-id=","\n\t\t\t\t\tloop-id=","\n\t\t\t\t\t.iterableExpression=","\n\t\t\t\t></uap-builder-item-loop-iterable-expression-token>\n\t\t\t"])),this.parentID,this.id,this.iterableExpression):void 0}},{key:"_templateItems",get:function(){return(0,C.qy)(Xm||(Xm=(0,M.A)(["<slot></slot>"])))}},{key:"_templateActions",get:function(){return(0,C.qy)(Jm||(Jm=(0,M.A)(['\n\t\t\t<div class="loop-actions">\n\t\t\t\t<uo-button \n\t\t\t\t\tcolor="secondary" \n\t\t\t\t\tsize="small"\n\t\t\t\t\t@click=',"\n\t\t\t\t>",'</uo-button>\n\n\t\t\t\t<ua-builder-conditions-add-button \n\t\t\t\t\tparent-id="','"\n\t\t\t\t\tsize="small"\n\t\t\t\t>\n\t\t\t\t\t',"\n\t\t\t\t</ua-builder-conditions-add-button>\n\t\t\t</div>\n\t\t"])),this.__deprecated__startAddActionProcess,_uo.utility.escHTML(wp.i18n.__("Add action","uncanny-automator")),this.id,_uo.utility.escHTML(wp.i18n.__("Add filter","uncanny-automator")))}},{key:"menuItems",get:function(){return[(0,C.qy)(Qm||(Qm=(0,M.A)(["\n\t\t\t\t<uap-builder-loop-menu-button-delete loop-id=",">\n\t\t\t\t</uap-builder-loop-menu-button-delete>\n\t\t\t"])),this.id),(0,C.qy)(ty||(ty=(0,M.A)(["\n\t\t\t\t<uap-builder-loop-menu-button-support .iterableExpression="," >\n\t\t\t\t</uap-builder-loop-menu-button-support>\n\t\t\t"])),this.iterableExpression)]}},{key:"firstUpdated",value:function(){this.insertAdjacentHTML("beforeEnd",'\n\t\t\t<div>\n\t\t\t\t<div class="uap-builder-item-loop-items uap-builder-item-loop-items--instant"></div>\n\t\t\t\t<div class="uap-builder-item-loop-items uap-builder-item-loop-items--delayed"></div>\n\t\t\t\t<div class="uap-builder-item-loop-items uap-builder-item-loop-items--scheduled"></div>\n\t\t\t\t<div class="uap-builder-item-loop-items uap-builder-item-loop-items--delayed-custom"></div>\n\t\t\t</div>\n\t\t'),this.__deprecated__renderItems(),this.__deprecated_renderActionFilters()}},{key:"directoryLoopData",get:function(){return UncannyAutomator._core.directory.items.getLoop(this.iterableExpression.type)}},{key:"__deprecated__renderItems",value:function(){var t=function t(e){var n=[];return e.forEach((function(e){"action"===e.type&&n.push(e),"loop"!==e.type&&"filter"!==e.type||!Array.isArray(e.items)||n.push.apply(n,(0,Tt.A)(t(e.items)))})),n}(this.items),e=t.map((function(t){return t.id})),n={instant:(0,Ps.k)({type:"instant",includeOnly:e}),delayed:(0,Ps.k)({type:"delayed",includeOnly:e}),scheduled:(0,Ps.k)({type:"scheduled",includeOnly:e}),delayedCustom:(0,Ps.k)({type:"delay-custom",includeOnly:e})},i={instant:this.querySelector(".uap-builder-item-loop-items--instant"),delayed:this.querySelector(".uap-builder-item-loop-items--delayed"),scheduled:this.querySelector(".uap-builder-item-loop-items--scheduled"),delayedCustom:this.querySelector(".uap-builder-item-loop-items--delayed-custom")},o=!1;Object.entries(n).forEach((function(t){var e=(0,v.A)(t,2),n=e[0],r=e[1],a=i[n];r.forEach((function(t){var e=(0,Hs.G6)("item",{id:t.id}).item.get(0);a.append(e),"delayed"!==n&&"scheduled"!==n&&"delayedCustom"!==n||(o=!0)}))})),o&&console.log("Has delayed or scheduled")}},{key:"__deprecated_renderActionFilters",value:function(){var t=this,e=Object.values(UncannyAutomator.recipe.conditions).filter((function(e){return e.parentID===t.id}));0!==e.length&&e.forEach((function(t){new Fs.A({conditionsGroupId:t.id})}))}},{key:"__deprecated__startAddActionProcess",value:function(){this.insertAdjacentHTML("beforeend",'\n\t\t\t<uap-builder-item-loop-add-action\n\t\t\t\tloop-id="'.concat(this.id,'"\n\t\t\t></uap-builder-item-loop-add-action>\n\t\t'))}}]),n}(C.WF),ey=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Sy((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Sy(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:Ly(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return Iy(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(jm,[(0,fe.EM)("uap-builder-item-loop")],[[(0,fe.MZ)({type:Number,attribute:"parent-id"}),1,"parentID"],[(0,fe.MZ)({type:Number,attribute:"loop-id"}),1,"id"],[(0,fe.MZ)({type:String,attribute:"loop-logic"}),1,"logic"],[(0,fe.MZ)({type:Array,attribute:!1}),1,"loopFilters"],[(0,fe.MZ)({type:Array,attribute:!1}),1,"items"],[(0,fe.MZ)({type:Object,attribute:!1}),1,"iterableExpression"],[(0,fe.MZ)({type:Object,attribute:!1}),1,"runOn"]],0,0,C.WF),ny=(0,v.A)(ey.e,14),ay=ny[0],sy=ny[1],uy=ny[2],cy=ny[3],ly=ny[4],dy=ny[5],py=ny[6],fy=ny[7],hy=ny[8],my=ny[9],yy=ny[10],gy=ny[11],_y=ny[12],vy=ny[13],iy=(0,v.A)(ey.c,2),wy=iy[0],ry=iy[1],by=jm,Om=function(t){(0,le.A)(n,t);var e=Ty(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,wy)).styles=(0,C.AH)(oy||(oy=(0,M.A)(["",""])),(0,C.iz)(ky())),(0,ce.A)(t),ry(),t}return(0,ue.A)(n)}(Oy),Om[by]=void 0,Om);var Uy,Py,Hy,Fy,$y,Ry,qy,Vy,Ny,Wy,By,zy,Gy,Yy,Ky,Zy,Xy,Jy,Qy,tg,eg,ng,ig,og,rg,ag,sg,ug,cg,lg,dg,pg,fg,hg,mg,yg,gg,_g,vg,bg,wg,Ag,kg=__webpack_require__(9143),Tg=__webpack_require__(4821),Eg=__webpack_require__.n(Tg);function Dg(t){var e=Mg();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function Mg(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Mg=function(){return!!t})()}function Cg(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function xg(t,e,n){return t.set(Sg(t,e),n),n}function Lg(t,e){return t.get(Sg(t,e))}function Sg(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Ig(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Og(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function jg(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function Ug(t){return t}function Pg(t){var e=Hg();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function Hg(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Hg=function(){return!!t})()}function Fg(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function $g(t,e,n){return t.set(qg(t,e),n),n}function Rg(t,e){return t.get(qg(t,e))}function qg(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Vg(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Ng(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function Wg(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}new(Hy=new WeakMap,Fy=new WeakMap,$y=new WeakMap,Ry=new WeakMap,qy=new WeakMap,Zy=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Og((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Og(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:Ig(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return jg(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(Py=function(t){(0,le.A)(n,t);var e=Dg(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),Cg((0,ce.A)(t),Hy,eg((0,ce.A)(t))),Cg((0,ce.A)(t),Fy,(ng((0,ce.A)(t)),ig((0,ce.A)(t)))),Cg((0,ce.A)(t),$y,(og((0,ce.A)(t)),rg((0,ce.A)(t)))),Cg((0,ce.A)(t),Ry,(ag((0,ce.A)(t)),sg((0,ce.A)(t),!1))),Cg((0,ce.A)(t),qy,(ug((0,ce.A)(t)),cg((0,ce.A)(t)))),lg((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"itemID",get:function(){return Lg(Hy,this)},set:function(t){xg(Hy,this,t)}},{key:"sentence",get:function(){return Lg(Fy,this)},set:function(t){xg(Fy,this,t)}},{key:"fields",get:function(){return Lg($y,this)},set:function(t){xg($y,this,t)}},{key:"nonInteractivePills",get:function(){return Lg(Ry,this)},set:function(t){xg(Ry,this,t)}},{key:"$sentence",get:function(){return Lg(qy,this)},set:function(t){xg(qy,this,t)}},{key:"render",value:function(){return this._templateSentence}},{key:"connectedCallback",value:function(){jy((0,pe.A)(n.prototype),"connectedCallback",this).call(this);var t={forceShowBothLoopableAndNonLoopable:!0};this.itemID&&(t.itemID=this.itemID),this.tokens=new kg.A("action","text",t)}},{key:"_templateSentence",get:function(){var t=this,e=_uo.utility.htmlEntities.decode(this.sentence).split("{{");return(0,C.qy)(Vy||(Vy=(0,M.A)(['\n\t\t\t<span class="sentence sentence--standard">\n\t\t\t\t',"\n\t\t\t</span>\n\t\t"])),e.map((function(e){var n=e.split("}}");if(1===n.length)return t._templateSentencePlain(n[0]);var i=n[0].split(":"),o=(0,v.A)(i,3),r=o[0],a=o[1],s=o[2];return(0,C.qy)(Ny||(Ny=(0,M.A)(["\n\t\t\t\t\t\t\t","\n\t\t\t\t\t\t\t","\n\t\t\t\t\t\t"])),t._templateSentencePill(r,a,s),t._templateSentencePlain(n[1]))})))}},{key:"_templateSentencePlain",value:function(t){if(!_uo.utility.isEmpty(t))return(0,C.qy)(Wy||(Wy=(0,M.A)(['<span class="sentence-plain">',"</span>"])),t)}},{key:"_templateSentencePill",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,o=this._templateSentencePillValue(e)||t;return this.nonInteractivePills?(0,C.qy)(By||(By=(0,M.A)(['\n\t\t\t\t<span class="sentence-pill">',"","</span>\n\t\t\t"])),this._templateSentencePillLabel(e),o):(0,C.qy)(zy||(zy=(0,M.A)(['\n\t\t\t<uo-button \n\t\t\t\tclass="sentence-pill"\n\t\t\t\tsize="small"\n\t\t\t\t?filled=',"\n\n\t\t\t\t@click=","\n\t\t\t>","","</uo-button>\n\t\t"])),this.doesPillHaveValue(e),(function(){n.dispatchEvent(new CustomEvent("uap-builder-sentence-pill-click",{detail:{pillCode:e,optionsCode:i}}))}),this._templateSentencePillLabel(e),o)}},{key:"_templateSentencePillValue",value:function(t){if(_uo.utility.isDefined(this.fields[t])){var e=this.fields[t].readable||this.fields[t].value;return _uo.utility.isEmpty(e)?(0,C.qy)(Yy||(Yy=(0,M.A)(['<span class="sentence-empty-value">(',")</span>"])),_uo.utility.escHTML(wp.i18n._x("Empty","Adjective","uncanny-automator"))):(0,C.qy)(Gy||(Gy=(0,M.A)(["",""])),this.tokens.renderTextWithTokens(e,{wrapperClass:"sentence-pill-value"}))}}},{key:"_templateSentencePillLabel",value:function(t){if(_uo.utility.isDefined(this.fields[t])&&_uo.utility.isDefined(this.fields[t].backup)&&(!_uo.utility.isDefined(this.fields[t].backup.show_label_in_sentence)||this.fields[t].backup.show_label_in_sentence)&&!_uo.utility.isEmpty(this.fields[t].backup.label))return(0,C.qy)(Ky||(Ky=(0,M.A)(['<span class="sentence-pill-label">',": </span>"])),this.fields[t].backup.label)}},{key:"doesPillHaveValue",value:function(t){return _uo.utility.isDefined(this.fields[t])}},{key:"outputForLogs",get:function(){if(_uo.utility.isDefined(this.$sentence)){var t=this.$sentence.cloneNode(!0).outerHTML;return t=t.replace(/<!--[\s\S]*?-->/g,""),(t=_uo.utility.supportsRegExLookbehind()?t.replace(new RegExp("(?<=>)\\s+(?=<)","g"),""):t.replace(/>\s+</g,"><")).replaceAll("uo-button","span")}}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-sentence")],[[(0,fe.MZ)({type:Number,attribute:"item-id"}),1,"itemID"],[(0,fe.MZ)({type:String,attribute:"item-sentence"}),1,"sentence"],[(0,fe.MZ)({type:Object,attribute:!1}),1,"fields"],[(0,fe.MZ)({type:Boolean,attribute:"non-interactive-pills"}),1,"nonInteractivePills"],[(0,fe.P)(".sentence"),1,"$sentence"]],0,0,C.WF),Xy=(0,v.A)(Zy.e,10),eg=Xy[0],ng=Xy[1],ig=Xy[2],og=Xy[3],rg=Xy[4],ag=Xy[5],sg=Xy[6],ug=Xy[7],cg=Xy[8],lg=Xy[9],Jy=(0,v.A)(Zy.c,2),pg=Jy[0],tg=Jy[1],dg=Py,Uy=function(t){(0,le.A)(n,t);var e=Dg(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,pg)).styles=(0,C.AH)(Qy||(Qy=(0,M.A)(["",""])),(0,C.iz)(Eg())),(0,ce.A)(t),tg(),t}return(0,ue.A)(n)}(Ug),Uy[dg]=void 0,Uy);var Bg=_uo.utility.isEmpty,zg=new WeakMap,Gg=new WeakMap,Yg=new WeakMap,Kg=new WeakMap,Zg=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Ng((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Ng(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:Vg(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return Wg(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(function(t){(0,le.A)(n,t);var e=Pg(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),Fg((0,ce.A)(t),zg,mg((0,ce.A)(t))),Fg((0,ce.A)(t),Gg,(yg((0,ce.A)(t)),gg((0,ce.A)(t)))),Fg((0,ce.A)(t),Yg,(_g((0,ce.A)(t)),vg((0,ce.A)(t),{}))),Fg((0,ce.A)(t),Kg,(bg((0,ce.A)(t)),wg((0,ce.A)(t)))),Ag((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"tokenCode",get:function(){return Rg(zg,this)},set:function(t){$g(zg,this,t)}},{key:"integrationCode",get:function(){return Rg(Gg,this)},set:function(t){$g(Gg,this,t)}},{key:"fields",get:function(){return Rg(Yg,this)},set:function(t){$g(Yg,this,t)}},{key:"$optionsForm",get:function(){return Rg(Kg,this)},set:function(t){$g(Kg,this,t)}},{key:"createRenderRoot",value:function(){return this}},{key:"render",value:function(){return(0,C.qy)(fg||(fg=(0,M.A)(["\n\t\t\t<uo-dialog\n\t\t\t\theading=",'\n\n\t\t\t\tsize="large"\n\t\t\t\tforce-manual-close\n\t\t\t\topen\n\n\t\t\t\t@uap-dialog-close=',"\n\t\t\t>\n\t\t\t\t",'\n\n\t\t\t\t<uo-button\n\t\t\t\t\tslot="primary-action"\n\n\t\t\t\t\t@click=',"\n\t\t\t\t>\n\t\t\t\t\t",'\n\t\t\t\t</uo-button>\n\n\t\t\t\t<uo-button\n\t\t\t\t\tslot="secondary-action"\n\t\t\t\t\tdialog-action="close"\n\t\t\t\t\tcolor="secondary"\n\t\t\t\t>\n\t\t\t\t\t',"\n\t\t\t\t</uo-button>\n\t\t\t</uo-dialog>\n\t\t"])),_uo.utility.escHTML(wp.i18n.__("Token data","uncanny-automator")),this.handleDialogClose,this._templateFields,this.handleConfirmEdit,_uo.utility.escHTML(wp.i18n._x("Confirm","Verb","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator")))}},{key:"_templateFields",get:function(){var t=this;return(0,C.qy)(hg||(hg=(0,M.A)(['\n\t\t\t<uap-builder-item-legacy-form\n\t\t\t\titem-type="token"\n\n\t\t\t\t.fieldsDirectory=',"\n\t\t\t\t.fieldsValues=",'\n\n\t\t\t\treturn-format="token"\n\n\t\t\t\t@uap-builder-legacy-form-change=',"\n\t\t\t></uap-builder-item-legacy-form>\n\t\t"])),this.directoryItemData.fields,this.fields,(function(e){t.fields=e.detail.unsavedFieldValues}))}},{key:"handleConfirmEdit",value:function(){Bg(this.$optionsForm)||this.$optionsForm.areFieldsValid&&(this.dispatchEvent(new CustomEvent("uap-builder-item-token-saved-successfully",{detail:{unsavedFieldValues:this.$optionsForm.unsavedFieldValues}})),this.handleDialogClose())}},{key:"directoryItemData",get:function(){return UncannyAutomator._core.directory.items.token.getUniversalToken(this.integrationCode,this.tokenCode)}},{key:"directoryIntegrationData",get:function(){return UncannyAutomator._core.directory.integrations.getIntegration(this.integrationCode)}},{key:"handleDialogClose",value:function(){this.remove()}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-token-edit-dialog")],[[(0,fe.MZ)({type:String,attribute:"token-code"}),1,"tokenCode"],[(0,fe.MZ)({type:String,attribute:"integration-code"}),1,"integrationCode"],[(0,fe.MZ)({type:Object,attribute:!1}),1,"fields"],[(0,fe.P)("uap-builder-item-legacy-form"),1,"$optionsForm"]],0,0,C.WF),Xg=(0,v.A)(Zg.e,8);mg=Xg[0],yg=Xg[1],gg=Xg[2],_g=Xg[3],vg=Xg[4],bg=Xg[5],wg=Xg[6],Ag=Xg[7];var Jg=(0,v.A)(Zg.c,2);Jg[0],(0,Jg[1])();var Qg,t_,e_,n_,i_,o_,r_,a_,s_,u_,c_,l_,d_,p_,f_,h_,m_,y_=__webpack_require__(79),g_=__webpack_require__.n(y_);function __(t){var e=v_();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function v_(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(v_=function(){return!!t})()}function b_(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function w_(t,e,n){return t.set(k_(t,e),n),n}function A_(t,e){return t.get(k_(t,e))}function k_(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function T_(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function E_(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function D_(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function M_(t){return t}new(e_=new WeakMap,n_=new WeakMap,r_=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:E_((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||E_(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:T_(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return D_(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(t_=function(t){(0,le.A)(n,t);var e=__(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),b_((0,ce.A)(t),e_,l_((0,ce.A)(t),"")),b_((0,ce.A)(t),n_,(d_((0,ce.A)(t)),p_((0,ce.A)(t),[]))),f_((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"logic",get:function(){return A_(e_,this)},set:function(t){w_(e_,this,t)}},{key:"items",get:function(){return A_(n_,this)},set:function(t){w_(n_,this,t)}},{key:"render",value:function(){return(0,C.qy)(i_||(i_=(0,M.A)(['\n\t\t\t<div class="items">\n\t\t\t\t',"\n\t\t\t</div>\n\t\t"])),(0,dn.u)(this.items,(function(t){return t.id}),(function(t){var e;return(0,C.qy)(o_||(o_=(0,M.A)(["\n\t\t\t\t\t\t<uap-builder-item-trigger\n\t\t\t\t\t\t\tparent-id=","\n\t\t\t\t\t\t\titem-id=","\n\t\t\t\t\t\t\titem-code=","\n\t\t\t\t\t\t\tintegration-code=","\n\n\t\t\t\t\t\t\t?is-item-on=","\n\t\t\t\t\t\t\t?uses-credit=","\n\n\t\t\t\t\t\t\t.fields=","\n\t\t\t\t\t\t\t.tokens=","\n\t\t\t\t\t\t\t.backup=","\n\t\t\t\t\t\t></uap-builder-item-trigger>\n\t\t\t\t\t"])),(null===(e=t.miscellaneous)||void 0===e?void 0:e.parent_id)||UncannyAutomator._recipe.recipe_id,t.id,t.code,t.integration_code,t.is_item_on,t.miscellaneous.uses_credit,t.fields,t.tokens,t.backup)})))}}]),n}(C.WF),[(0,fe.EM)("uap-builder-item-trigger-list")],[[(0,fe.MZ)({type:String}),1,"logic"],[(0,fe.MZ)({type:Array,attribute:!1}),1,"items"]],0,0,C.WF),a_=(0,v.A)(r_.e,4),l_=a_[0],d_=a_[1],p_=a_[2],f_=a_[3],s_=(0,v.A)(r_.c,2),m_=s_[0],c_=s_[1],h_=t_,Qg=function(t){(0,le.A)(n,t);var e=__(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,m_)).styles=(0,C.AH)(u_||(u_=(0,M.A)(["",""])),(0,C.iz)(g_())),(0,ce.A)(t),c_(),t}return(0,ue.A)(n)}(M_),Qg[h_]=void 0,Qg);var C_,x_,L_,S_,I_,O_,j_,U_,P_,H_,F_,$_,R_,q_,V_,N_,W_,B_,z_,G_,Y_=__webpack_require__(4983),K_=__webpack_require__.n(Y_);function Z_(t){var e=X_();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function X_(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(X_=function(){return!!t})()}function J_(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function Q_(t,e,n){return t.set(ev(t,e),n),n}function tv(t,e){return t.get(ev(t,e))}function ev(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function nv(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function iv(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function ov(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function rv(t){return t}new(L_=new WeakMap,S_=new WeakMap,H_=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:iv((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||iv(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:nv(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return ov(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(x_=function(t){(0,le.A)(n,t);var e=Z_(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),J_((0,ce.A)(t),L_,V_((0,ce.A)(t),UncannyAutomator._recipe.triggers.logic)),J_((0,ce.A)(t),S_,(N_((0,ce.A)(t)),W_((0,ce.A)(t),!1))),B_((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"logic",get:function(){return tv(L_,this)},set:function(t){Q_(L_,this,t)}},{key:"isSavingData",get:function(){return tv(S_,this)},set:function(t){Q_(S_,this,t)}},{key:"render",value:function(){return UncannyAutomator._recipe.triggers.items.length>=2?this.templateMultipleTriggers:this.templateDefault}},{key:"templateDefault",get:function(){return(0,C.qy)(I_||(I_=(0,M.A)(['\n\t\t\t<div class="header">\n\t\t\t\t<div class="header-title">',"</div>\n\t\t\t</div>\n\t\t"])),_uo.utility.escHTML(wp.i18n.__("Trigger","uncanny-automator")))}},{key:"templateMultipleTriggers",get:function(){var t=this,e=(0,C.qy)(O_||(O_=(0,M.A)(["\n\t\t\t<uo-select\n\t\t\t\t@change=","\n\t\t\t>\n\t\t\t\t","\n\t\t\t</uo-select>\n\t\t"])),(function(e){t.logic=e.target.value,t.saveData()}),(0,dn.u)(Object.entries(this.options),(function(t){var e=(0,v.A)(t,2),n=e[0];return e[1],n}),(function(e){var n=(0,v.A)(e,2),i=n[0],o=n[1];return(0,C.qy)(j_||(j_=(0,M.A)(['\n\t\t\t\t\t\t<uo-select-option\n\t\t\t\t\t\t\tvalue="','"\n\t\t\t\t\t\t\ttext="','"\n\t\t\t\t\t\t\t?selected=',"\n\t\t\t\t\t\t></uo-select-option> \n\t\t\t\t\t"])),i,o,t.logic===i)})));return(0,C.qy)(U_||(U_=(0,M.A)(['\n\t\t\t<div class="header">\n\t\t\t\t<div class="header-title">','</div>\n\t\t\t\t<div class="header-logic" dir="auto">\n\t\t\t\t\t<span class="header-logic-title">\n\t\t\t\t\t\t','\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span class="header-logic-dropdown">\n\t\t\t\t\t\t','\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<span class="header-logic-description">\n\t\t\t\t\t\t',"\n\t\t\t\t\t</span>\n\n\t\t\t\t\t","\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),_uo.utility.escHTML(wp.i18n.__("Triggers","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Run recipe when","Triggers logic","uncanny-automator")),e,"any"===this.logic?_uo.utility.escHTML(wp.i18n._x("of the following triggers is completed","Triggers logic","uncanny-automator")):_uo.utility.escHTML(wp.i18n._x("of the following triggers are completed","Triggers logic","uncanny-automator")),this.isSavingData?(0,C.qy)(P_||(P_=(0,M.A)(['<span class="header-loading"></span>']))):"")}},{key:"saveData",value:function(){var t=this;this.isSavingData=!0,UncannyAutomator._core.recipe.item.setTriggerLogic(this.logic).then((function(e){t.isSavingData=!1})).catch((function(e){t.isSavingData=!1}))}},{key:"options",get:function(){return{any:_uo.utility.escHTML(wp.i18n._x("Any","Triggers logic","uncanny-automator")),all:_uo.utility.escHTML(wp.i18n._x("All","Triggers logic","uncanny-automator"))}}}]),n}(C.WF),[(0,fe.EM)("ua-builder-items-triggers-logic")],[[(0,fe.wk)(),1,"logic"],[(0,fe.wk)(),1,"isSavingData"]],0,0,C.WF),F_=(0,v.A)(H_.e,4),V_=F_[0],N_=F_[1],W_=F_[2],B_=F_[3],$_=(0,v.A)(H_.c,2),G_=$_[0],q_=$_[1],z_=x_,C_=function(t){(0,le.A)(n,t);var e=Z_(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,G_)).styles=(0,C.AH)(R_||(R_=(0,M.A)(["",""])),(0,C.iz)(K_())),(0,ce.A)(t),q_(),t}return(0,ue.A)(n)}(rv),C_[z_]=void 0,C_);var av,sv,uv,cv,lv,dv,pv,fv=__webpack_require__(3118),hv=__webpack_require__.n(fv);function mv(t){var e=yv();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function yv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yv=function(){return!!t})()}function gv(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function _v(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function vv(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function bv(t){return t}_uo.utility.sprintf,new(sv=function(t){(0,le.A)(n,t);var e=mv(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).type="trigger",t}return(0,ue.A)(n,[{key:"menuItems",get:function(){return[this._templateMenuButtonDelete,this._templateMenuButtonSupport]}}]),n}(Ma),uv=(0,v.A)(function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:_v((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||_v(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:gv(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return vv(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(sv,[(0,fe.EM)("uap-builder-item-trigger")],[],0,0,Ma).c,2),pv=uv[0],lv=uv[1],dv=sv,av=function(t){(0,le.A)(n,t);var e=mv(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,pv)).styles=(0,C.AH)(cv||(cv=(0,M.A)(["",""])),(0,C.iz)(hv())),(0,ce.A)(t),lv(),t}return(0,ue.A)(n)}(bv),av[dv]=void 0,av);var wv,Av,kv,Tv,Ev,Dv,Mv,Cv,xv,Lv,Sv=__webpack_require__(4021),Iv=__webpack_require__.n(Sv);function Ov(t){var e=jv();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function jv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(jv=function(){return!!t})()}function Uv(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Pv(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function Hv(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function Fv(t){return t}function $v(t){var e=Rv();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function Rv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Rv=function(){return!!t})()}function qv(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Vv(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function Nv(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}new(Av=function(t){(0,le.A)(n,t);var e=Ov(n);function n(){return(0,se.A)(this,n),e.apply(this,arguments)}return(0,ue.A)(n,[{key:"render",value:function(){return(0,C.qy)(kv||(kv=(0,M.A)(["\n\t\t\t<uo-tooltip>\n\t\t\t\t",'\n\n\t\t\t\t<uo-button\n\t\t\t\t\tslot="target"\n\t\t\t\t\tsize="small"\n\t\t\t\t\tcolor="transparent"\n\n\t\t\t\t\thref=','\n\t\t\t\t>\n\t\t\t\t\t<uo-icon id="download"></uo-icon>\n\t\t\t\t</uo-button>\n\t\t\t</uo-tooltip>\n\t\t'])),_uo.utility.escHTML(wp.i18n.__("Download recipe","uncanny-automator")),UncannyAutomator._recipe.miscellaneous.url_download_recipe)}}]),n}(C.WF),Tv=(0,v.A)(function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Pv((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Pv(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:Uv(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return Hv(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(Av,[(0,fe.EM)("uap-builder-publish-quick-action-download")],[],0,0,C.WF).c,2),Cv=Tv[0],Dv=Tv[1],Mv=Av,wv=function(t){(0,le.A)(n,t);var e=Ov(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,Cv)).styles=(0,C.AH)(Ev||(Ev=(0,M.A)(["",""])),(0,C.iz)(Iv())),(0,ce.A)(t),Dv(),t}return(0,ue.A)(n)}(Fv),wv[Mv]=void 0,wv),xv=function(t){(0,le.A)(n,t);var e=$v(n);function n(){return(0,se.A)(this,n),e.apply(this,arguments)}return(0,ue.A)(n,[{key:"render",value:function(){return(0,C.qy)(Lv||(Lv=(0,M.A)(["\n\t\t\t<uo-tooltip>\n\t\t\t\t",'\n\n\t\t\t\t<uo-button\n\t\t\t\t\tslot="target"\n\t\t\t\t\tsize="small"\n\t\t\t\t\tcolor="transparent"\n\n\t\t\t\t\thref=',"\n\n\t\t\t\t\tneeds-confirmation\n\t\t\t\t\tconfirmation-content=","\n\t\t\t\t\tconfirmation-button-label=",'\n\t\t\t\t>\n\t\t\t\t\t<uo-icon id="copy"></uo-icon>\n\t\t\t\t</uo-button>\n\t\t\t</uo-tooltip>\n\t\t'])),_uo.utility.escHTML(wp.i18n.__("Duplicate recipe","uncanny-automator")),UncannyAutomator._recipe.miscellaneous.url_duplicate_recipe,_uo.utility.escHTML(wp.i18n.__("Are you sure you want to duplicate this recipe?","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Duplicate recipe","uncanny-automator")))}}]),n}(C.WF);var Wv=(0,v.A)(function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Vv((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Vv(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:qv(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return Nv(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(xv,[(0,fe.EM)("uap-builder-publish-quick-action-duplicate")],[],0,0,C.WF).c,2);Wv[0],(0,Wv[1])();var Bv,zv,Gv,Yv,Kv,Zv,Xv,Jv,Qv=__webpack_require__(8491),tb=__webpack_require__.n(Qv);function eb(t){var e=nb();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function nb(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(nb=function(){return!!t})()}function ib(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function ob(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function rb(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function ab(t){return t}new(zv=function(t){(0,le.A)(n,t);var e=eb(n);function n(){return(0,se.A)(this,n),e.apply(this,arguments)}return(0,ue.A)(n,[{key:"render",value:function(){return(0,C.qy)(Gv||(Gv=(0,M.A)(["\n\t\t\t<uo-tooltip>\n\t\t\t\t",'\n\n\t\t\t\t<uo-button\n\t\t\t\t\tslot="target"\n\t\t\t\t\tclass="remove"\n\t\t\t\t\tsize="small"\n\t\t\t\t\tcolor="transparent"\n\n\t\t\t\t\thref=',"\n\n\t\t\t\t\tneeds-confirmation\n\t\t\t\t\tconfirmation-content=","\n\t\t\t\t\tconfirmation-button-label=",'\n\t\t\t\t>\n\t\t\t\t\t<uo-icon id="trash"></uo-icon>\n\t\t\t\t</uo-button>\n\t\t\t</uo-tooltip>\n\t\t'])),_uo.utility.escHTML(wp.i18n.__("Move to trash","uncanny-automator")),UncannyAutomator._recipe.miscellaneous.url_trash_recipe.replace(/&amp;/g,"&"),_uo.utility.escHTML(wp.i18n.__("Are you sure you want to move this recipe to the trash?","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Move to trash","uncanny-automator")))}}]),n}(C.WF),Yv=(0,v.A)(function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:ob((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||ob(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:ib(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return rb(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(zv,[(0,fe.EM)("uap-builder-publish-quick-action-move-to-trash")],[],0,0,C.WF).c,2),Jv=Yv[0],Zv=Yv[1],Xv=zv,Bv=function(t){(0,le.A)(n,t);var e=eb(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,Jv)).styles=(0,C.AH)(Kv||(Kv=(0,M.A)(["",""])),(0,C.iz)(tb())),(0,ce.A)(t),Zv(),t}return(0,ue.A)(n)}(ab),Bv[Xv]=void 0,Bv);var sb,ub,cb,lb,db,pb,fb,hb,mb=__webpack_require__(967),yb=__webpack_require__.n(mb);function gb(t){var e=_b();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function _b(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_b=function(){return!!t})()}function vb(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function bb(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function wb(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function Ab(t){return t}new(ub=function(t){(0,le.A)(n,t);var e=gb(n);function n(){return(0,se.A)(this,n),e.apply(this,arguments)}return(0,ue.A)(n,[{key:"render",value:function(){return(0,C.qy)(cb||(cb=(0,M.A)(['\n\t\t\t<div class="quick-actions">\n\t\t\t\t<uap-builder-publish-quick-action-move-to-trash></uap-builder-publish-quick-action-move-to-trash>\n\t\t\t\t<uap-builder-publish-quick-action-duplicate></uap-builder-publish-quick-action-duplicate>\n\t\t\t\t<uap-builder-publish-quick-action-download></uap-builder-publish-quick-action-download>\n\t\t\t</div>\n\t\t'])))}}]),n}(C.WF),lb=(0,v.A)(function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:bb((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||bb(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:vb(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return wb(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(ub,[(0,fe.EM)("uap-builder-publish-quick-actions")],[],0,0,C.WF).c,2),hb=lb[0],pb=lb[1],fb=ub,sb=function(t){(0,le.A)(n,t);var e=gb(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,hb)).styles=(0,C.AH)(db||(db=(0,M.A)(["",""])),(0,C.iz)(yb())),(0,ce.A)(t),pb(),t}return(0,ue.A)(n)}(Ab),sb[fb]=void 0,sb);var kb,Tb=function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a};let Eb=class extends C.WF{constructor(){super(...arguments),this._$dialogs=[],kb.set(this,void 0)}get $runNowButton(){return function(t,e,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(t):i?i.value:e.get(t)}(this,kb,"f")}set $runNowButton(t){!function(t,e,n,i,o){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===i?o.call(t,n):o?o.value=n:e.set(t,n)}(this,kb,t,"f")}render(){if(UncannyAutomator._recipe.miscellaneous.has_run_now)return C.qy`
			<uo-button
				size="small"
				@click=${this.handleRunNow}
			>
				${_uo.utility.escHTML(wp.i18n.__("Run now","uncanny-automator"))}
			</uo-button>
		`}firstUpdated(){UncannyAutomator._recipe.miscellaneous.recipe_is_running&&this.renderRecipeRunningDialog()}disconnectedCallback(){this._$dialogs.forEach((t=>{document.body.contains(t)&&t.remove()})),this._$dialogs=[]}async handleRunNow(){if(!UncannyAutomator._recipe.is_recipe_on)try{await UncannyAutomator._core.recipe.setRecipeStatus(!0)}catch(t){return void console.error(t)}this.$runNowButton?(this.$runNowButton.loading=!0,UncannyAutomator._core.recipe.runRecipe().then((t=>{t.recipe_run_completed?this.renderRecipeCompleteDialog():this.renderRecipeRunningDialog()})).catch((t=>{console.error("Error running recipe:",t),this.$runNowButton&&(this.$runNowButton.loading=!1)}))):console.error("Run now button not found when trying to set loading state.")}renderRecipeRunningDialog(){const t=document.createElement("div");document.body.append(t),this._$dialogs.push(t),(0,C.XX)(C.qy`
				<uo-dialog
					open
					heading=${_uo.utility.escHTML(wp.i18n.__("The recipe run has been initiated","uncanny-automator"))}
					force-manual-close
				>
					<div style="margin-bottom: 15px">
						${_uo.utility.escHTML(wp.i18n.__("Actions are now running in the background and results will be available in the logs.","uncanny-automator"))}
					</div>

					<div style="margin-bottom: 15px">
						${_uo.utility.escHTML(wp.i18n.__("Changes cannot be made to the recipe while it's running. Progress can be monitored from the logs and actions that haven't run yet can be cancelled.","uncanny-automator"))}
					</div>

					<div style="margin-bottom: 15px">
						<uo-button
							color="primary"
							href="${UncannyAutomator._recipe.miscellaneous.url_logs}"
							target="_blank" >
							${_uo.utility.escHTML(wp.i18n.__("View log entry","uncanny-automator"))}
						</uo-button>
					</div>

					<div style="margin-bottom: 15px">
						${_uo.utility.escHTML(wp.i18n.__("You can also return to the list of recipes or create a copy of this recipe.","uncanny-automator"))}
					</div>

					<div>
						<uo-button
							color="secondary"
							href="${UncannyAutomator._site.automator.links.all_recipes}"
							style="margin-right: 10px"
						>
							${_uo.utility.escHTML(wp.i18n.__("Return to recipe list","uncanny-automator"))}
						</uo-button>

						<uo-button
							color="secondary"
							href="${UncannyAutomator._recipe.miscellaneous.url_duplicate_recipe}"
						>
						${_uo.utility.escHTML(wp.i18n.__("Duplicate this recipe","uncanny-automator"))}
						</uo-button>
					</div>
				</uo-dialog>
			`,t)}renderRecipeCompleteDialog(){const t=document.createElement("div");document.body.append(t),this._$dialogs.push(t),(0,C.XX)(C.qy`
				<uo-dialog
					open
					heading=${_uo.utility.escHTML(wp.i18n.__("Recipe run complete","uncanny-automator"))}
				>
					<div style="margin-bottom: 15px">
						${_uo.utility.escHTML(wp.i18n.__("The recipe has already finished running. You can view the log entry to see the results. Once you close this dialog, you can continue editing the recipe.","uncanny-automator"))}
					</div>

					<uo-button
						color="primary"
						href="${UncannyAutomator._recipe.miscellaneous.url_logs}"
						target="_blank"
					>
						${_uo.utility.escHTML(wp.i18n.__("View log entry","uncanny-automator"))}
					</uo-button>

					<uo-button
						slot="primary-action"
						dialog-action="close"
						color="secondary"
					>
						${_uo.utility.escHTML(wp.i18n._x("Close","Verb","uncanny-automator"))}
					</uo-button>
				</uo-dialog>
			`,t)}};kb=new WeakMap,Tb([(0,fe.P)("uo-button")],Eb.prototype,"$runNowButton",null),Eb=Tb([(0,fe.EM)("uap-builder-publish-run-now-button")],Eb);var Db,Mb,Cb,xb,Lb,Sb,Ib,Ob,jb=__webpack_require__(2407),Ub=__webpack_require__.n(jb);function Pb(t){var e=Hb();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function Hb(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Hb=function(){return!!t})()}function Fb(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function $b(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function Rb(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function qb(t){return t}new(Mb=function(t){(0,le.A)(n,t);var e=Pb(n);function n(){return(0,se.A)(this,n),e.apply(this,arguments)}return(0,ue.A)(n,[{key:"render",value:function(){if(!UncannyAutomator._recipe.miscellaneous.has_run_now)return(0,C.qy)(Cb||(Cb=(0,M.A)(['\n\t\t\t<uo-field-input-switch\n\t\t\t\tsize="large"\n\n\t\t\t\t?checked=',"\n\n\t\t\t\tlabel-on=","\n\t\t\t\tlabel-off=",'\n\t\t\t\tlabel-placement="left"\n\t\t\t\t\n\t\t\t\t.processChangeRequest=',"\n\t\t\t></uo-field-input-switch>\n\t\t"])),UncannyAutomator._recipe.is_recipe_on,_uo.utility.escHTML(wp.i18n.__("Live","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Draft","uncanny-automator")),function(){var t=(0,j.A)(P().mark((function t(e){return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",UncannyAutomator._core.recipe.setRecipeStatus(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}]),n}(C.WF),xb=(0,v.A)(function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:$b((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||$b(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:Fb(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return Rb(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(Mb,[(0,fe.EM)("uap-builder-publish-status-toggle")],[],0,0,C.WF).c,2),Ob=xb[0],Sb=xb[1],Ib=Mb,Db=function(t){(0,le.A)(n,t);var e=Pb(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,Ob)).styles=(0,C.AH)(Lb||(Lb=(0,M.A)(["",""])),(0,C.iz)(Ub())),(0,ce.A)(t),Sb(),t}return(0,ue.A)(n)}(qb),Db[Ib]=void 0,Db);var Vb,Nb,Wb,Bb,zb,Gb,Yb,Kb,Zb,Xb,Jb,Qb,tw,ew,nw,iw,ow,rw=__webpack_require__(8969),aw=__webpack_require__.n(rw);function sw(t){var e=uw();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function uw(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(uw=function(){return!!t})()}function cw(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function lw(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function dw(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function pw(t){return t}function fw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function hw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fw(Object(n),!0).forEach((function(e){(0,ct.A)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function mw(t){var e=yw();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function yw(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(yw=function(){return!!t})()}function gw(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function _w(t,e,n){return t.set(bw(t,e),n),n}function vw(t,e){return t.get(bw(t,e))}function bw(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function ww(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Aw(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function kw(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}new(Nb=function(t){(0,le.A)(n,t);var e=sw(n);function n(){return(0,se.A)(this,n),e.apply(this,arguments)}return(0,ue.A)(n,[{key:"render",value:function(){return(0,C.qy)(Wb||(Wb=(0,M.A)(['\n\t\t\t<div class="footer">\n\t\t\t\t<div class="footer-quick-actions">\n\t\t\t\t\t<uap-builder-publish-quick-actions></uap-builder-publish-quick-actions>\n\t\t\t\t</div>\n\t\t\t\t<div \n\t\t\t\t\tclass="footer-cta"\n\t\t\t\t\t?recipe-on=',"\n\t\t\t\t\t?has-run-now=","\n\t\t\t\t>\n\t\t\t\t\t<uap-builder-publish-status-toggle></uap-builder-publish-status-toggle>\n\t\t\t\t\t<uap-builder-publish-run-now-button></uap-builder-publish-run-now-button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),UncannyAutomator._recipe.is_recipe_on,UncannyAutomator._recipe.miscellaneous.has_run_now)}}]),n}(C.WF),Bb=(0,v.A)(function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:lw((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||lw(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:cw(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return dw(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(Nb,[(0,fe.EM)("uap-builder-publish-footer")],[],0,0,C.WF).c,2),Kb=Bb[0],Gb=Bb[1],Yb=Nb,Vb=function(t){(0,le.A)(n,t);var e=sw(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,Kb)).styles=(0,C.AH)(zb||(zb=(0,M.A)(["",""])),(0,C.iz)(aw())),(0,ce.A)(t),Gb(),t}return(0,ue.A)(n)}(pw),Vb[Yb]=void 0,Vb);var Tw=_uo.utility.isEmpty,Ew=new WeakMap,Dw=new WeakMap,Mw=new WeakMap,Cw=new WeakMap,xw=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Aw((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Aw(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:ww(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return kw(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(function(t){(0,le.A)(i,t);var e,n=mw(i);function i(){var t;(0,se.A)(this,i);for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return t=n.call.apply(n,[this].concat(o)),gw((0,ce.A)(t),Ew,Xb((0,ce.A)(t),{})),gw((0,ce.A)(t),Dw,(Jb((0,ce.A)(t)),Qb((0,ce.A)(t),[]))),gw((0,ce.A)(t),Mw,(tw((0,ce.A)(t)),ew((0,ce.A)(t)))),gw((0,ce.A)(t),Cw,(nw((0,ce.A)(t)),iw((0,ce.A)(t)))),ow((0,ce.A)(t)),t}return(0,ue.A)(i,[{key:"fields",get:function(){return vw(Ew,this)},set:function(t){_w(Ew,this,t)}},{key:"fieldsDirectory",get:function(){return vw(Dw,this)},set:function(t){_w(Dw,this,t)}},{key:"settingID",get:function(){return vw(Mw,this)},set:function(t){_w(Mw,this,t)}},{key:"$optionsForm",get:function(){return vw(Cw,this)},set:function(t){_w(Cw,this,t)}},{key:"createRenderRoot",value:function(){return this}},{key:"render",value:function(){var t=this;return(0,C.qy)(Zb||(Zb=(0,M.A)(["\n\t\t\t<uo-dialog\n\t\t\t\theading=","\n\n\t\t\t\tforce-manual-close\n\t\t\t\topen\n\n\t\t\t\t@uap-dialog-close=","\n\t\t\t>\n\t\t\t\t<uap-builder-item-legacy-form\n\t\t\t\t\t.fieldsDirectory=","\n\t\t\t\t\t.fieldsValues=",'\n\n\t\t\t\t\treturn-format="standard"\n\n\t\t\t\t\t@uap-builder-legacy-form-change=','\n\t\t\t\t></uap-builder-item-legacy-form>\n\n\t\t\t\t<uo-button\n\t\t\t\t\tslot="primary-action"\n\n\t\t\t\t\t@click=',"\n\t\t\t\t>\n\t\t\t\t\t",'\n\t\t\t\t</uo-button>\n\n\t\t\t\t<uo-button\n\t\t\t\t\tslot="secondary-action"\n\t\t\t\t\tdialog-action="close"\n\t\t\t\t\tcolor="secondary"\n\t\t\t\t>\n\t\t\t\t\t',"\n\t\t\t\t</uo-button>\n\t\t\t</uo-dialog>\n\t\t"])),_uo.utility.escHTML(wp.i18n.__("Edit setting","uncanny-automator")),this.handleDialogClose,this.fieldsDirectory.map((function(t){return hw(hw({},t),{},{item_type:"publish-setting"})})),this.fields,(function(e){t.fields=e.detail.unsavedFieldValues}),this.handleConfirmEdit,_uo.utility.escHTML(wp.i18n.__("Confirm","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Cancel","uncanny-automator")))}},{key:"handleConfirmEdit",value:(e=(0,j.A)(P().mark((function t(){var e=this;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Tw(this.$optionsForm)){t.next=2;break}return t.abrupt("return");case 2:if(this.$optionsForm.areFieldsValid){t.next=4;break}return t.abrupt("return");case 4:return t.abrupt("return",UncannyAutomator._core.recipe.setRecipeSetting(this.settingID,this.fieldsForRemote).then((function(t){e.handleDialogClose(),document.dispatchEvent(new CustomEvent("uap-builder-components-set-recipe-setting",{detail:{settingID:e.settingID,fields:e.fieldsForRemote}}))})));case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"fieldsForRemote",get:function(){if(!Tw(this.$optionsForm))return JSON.stringify(this.$optionsForm.unsavedFieldValues)}},{key:"handleDialogClose",value:function(){this.remove()}}]),i}(C.WF),[(0,fe.EM)("uap-builder-publish-settings-edit-dialog")],[[(0,fe.MZ)({type:Object}),1,"fields"],[(0,fe.MZ)({type:Array}),1,"fieldsDirectory"],[(0,fe.MZ)({type:String,attribute:"setting-id"}),1,"settingID"],[(0,fe.P)("uap-builder-item-legacy-form"),1,"$optionsForm"]],0,0,C.WF),Lw=(0,v.A)(xw.e,8);Xb=Lw[0],Jb=Lw[1],Qb=Lw[2],tw=Lw[3],ew=Lw[4],nw=Lw[5],iw=Lw[6],ow=Lw[7];var Sw=(0,v.A)(xw.c,2);Sw[0],(0,Sw[1])();var Iw,Ow,jw,Uw,Pw,Hw,Fw,$w,Rw=__webpack_require__(9764),qw=__webpack_require__.n(Rw);function Vw(t){var e=Nw();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function Nw(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Nw=function(){return!!t})()}function Ww(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function Bw(t,e,n){return t.set(Gw(t,e),n),n}function zw(t,e){return t.get(Gw(t,e))}function Gw(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Yw(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Kw(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function Zw(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}var Xw,Jw,Qw=function(t){var e,n,i,o,r,a,s,u,c,l,d,p,f,h,m,y,g,_,b,w;return n=new WeakMap,i=new WeakMap,o=new WeakMap,r=new WeakMap,a=new WeakMap,s=new WeakMap,e=function(t){(0,le.A)(u,t);var e=Vw(u);function u(){var t;(0,se.A)(this,u);for(var v=arguments.length,A=new Array(v),k=0;k<v;k++)A[k]=arguments[k];return t=e.call.apply(e,[this].concat(A)),Ww((0,ce.A)(t),n,c((0,ce.A)(t))),Ww((0,ce.A)(t),i,(l((0,ce.A)(t)),d((0,ce.A)(t),"cog"))),Ww((0,ce.A)(t),o,(p((0,ce.A)(t)),f((0,ce.A)(t)))),Ww((0,ce.A)(t),r,(h((0,ce.A)(t)),m((0,ce.A)(t),{}))),Ww((0,ce.A)(t),a,(y((0,ce.A)(t)),g((0,ce.A)(t),[]))),Ww((0,ce.A)(t),s,(_((0,ce.A)(t)),b((0,ce.A)(t)))),w((0,ce.A)(t)),t}return(0,ue.A)(u,[{key:"settingID",get:function(){return zw(n,this)},set:function(t){Bw(n,this,t)}},{key:"icon",get:function(){return zw(i,this)},set:function(t){Bw(i,this,t)}},{key:"label",get:function(){return zw(o,this)},set:function(t){Bw(o,this,t)}},{key:"fields",get:function(){return zw(r,this)},set:function(t){Bw(r,this,t)}},{key:"fieldsDirectory",get:function(){return zw(a,this)},set:function(t){Bw(a,this,t)}},{key:"helper",get:function(){return zw(s,this)},set:function(t){Bw(s,this,t)}},{key:"firstUpdated",value:function(){this.fields=UncannyAutomator._core.recipe.getRecipeSetting(this.settingID)}},{key:"render",value:function(){if(this.shouldRender)return(0,C.qy)(Iw||(Iw=(0,M.A)(['\n\t\t\t<div class="setting">\n\t\t\t\t','\n\n\t\t\t\t<div class="setting-content">\n\t\t\t\t\t',"\n\t\t\t\t\t","\n\t\t\t\t\t","\n\t\t\t\t\t","\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"])),this._templateIcon,this._templateLabel,this._templateReadableValue,this._templateHelper,this._templateEditButton)}},{key:"_templateIcon",get:function(){return(0,C.qy)(Ow||(Ow=(0,M.A)(['\n\t\t\t<div class="setting-icon">\n\t\t\t\t<uo-icon id="','"></uo-icon>\n\t\t\t</div>\n\t\t'])),this.icon)}},{key:"_templateLabel",get:function(){return(0,C.qy)(jw||(jw=(0,M.A)(['\n\t\t\t<div class="setting-label">\n\t\t\t\t',":\n\t\t\t</div>\n\t\t"])),this.label)}},{key:"_templateReadableValue",get:function(){return(0,C.qy)(Uw||(Uw=(0,M.A)(['\n\t\t\t<div class="setting-value">\n\t\t\t\t',"\n\t\t\t</div>\n\t\t"])),this.readableValue)}},{key:"_templateHelper",get:function(){if(!_uo.utility.isEmpty(this.helper))return(0,C.qy)(Pw||(Pw=(0,M.A)(['\n\t\t\t<div class="setting-helper">\n\t\t\t\t<uo-tooltip>\n\t\t\t\t\t','\n\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\tslot="target"\n\t\t\t\t\t\t@click=','\n\t\t\t\t\t\tsize="extra-small"\n\t\t\t\t\t\tcolor="transparent"\n\t\t\t\t\t>\n\t\t\t\t\t\t<uo-icon id="question-circle"></uo-icon>\n\t\t\t\t\t</uo-button>\n\t\t\t\t</uo-tooltip>\n\t\t\t</div>\n\t\t'])),this.helper,this.helperCallback)}},{key:"_templateEditButton",get:function(){if(!_uo.utility.isEmpty(this.fieldsDirectory))return(0,C.qy)(Hw||(Hw=(0,M.A)(['\n\t\t\t<div class="setting-edit-button">\n\t\t\t\t<uo-button\n\t\t\t\t\t@click=','\n\t\t\t\t\tsize="extra-small"\n\t\t\t\t\tcolor="transparent"\n\t\t\t\t>\n\t\t\t\t\t',"\n\t\t\t\t</uo-button>\n\t\t\t</div>\n\t\t"])),this.editButtonCallback,_uo.utility.escHTML(wp.i18n.__("Edit","uncanny-automator")))}},{key:"createEditFieldsDialog",value:function(){var t=this,e=document.createElement("div");document.body.append(e),(0,C.XX)((0,C.qy)(Fw||(Fw=(0,M.A)(["\n\t\t\t\t<uap-builder-publish-settings-edit-dialog\n\t\t\t\t\tsetting-id=","\n\n\t\t\t\t\t.fields=","\n\t\t\t\t\t.fieldsDirectory=","\n\t\t\t\t\t@uap-builder-components-set-recipe-setting=","\n\t\t\t\t></uap-builder-publish-settings-edit-dialog>\n\t\t\t"])),this.settingID,this.fields,this.fieldsDirectory,(function(e){return t.fields=e})),e)}},{key:"helperCallback",value:function(){}},{key:"editButtonCallback",value:function(){this.createEditFieldsDialog()}},{key:"getFieldValue",value:function(t){var e;if(null!==(e=this.fields)&&void 0!==e&&e[t])return this.fields[t].value}},{key:"readableValue",get:function(){return JSON.stringify(this.fields)}},{key:"shouldRender",get:function(){return!0}}]),u}(t),u=(0,v.A)(function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Kw((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Kw(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:Yw(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return Zw(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(e,[],[[(0,fe.MZ)({type:String,attribute:"setting-id"}),1,"settingID"],[(0,fe.MZ)({type:String}),1,"icon"],[(0,fe.MZ)({type:String}),1,"label"],[(0,fe.MZ)({type:Object}),1,"fields"],[(0,fe.MZ)({type:Array}),1,"fieldsDirectory"],[(0,fe.MZ)({type:String}),1,"helper"]],0,0,t).e,12),c=u[0],l=u[1],d=u[2],p=u[3],f=u[4],h=u[5],m=u[6],y=u[7],g=u[8],_=u[9],b=u[10],w=u[11],e.styles=(0,C.AH)($w||($w=(0,M.A)(["",""])),(0,C.iz)(qw())),e}(C.WF);function tA(t){var e=eA();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function eA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(eA=function(){return!!t})()}function nA(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function iA(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function oA(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}var rA=function(t){(0,le.A)(n,t);var e=tA(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).settingID="recipe_completed_runs",t.icon="check-circle",t.label=_uo.utility.escHTML(wp.i18n.__("Completed runs","uncanny-automator")),t}return(0,ue.A)(n,[{key:"readableValue",get:function(){return this.getFieldValue("COMPLETED_RUNS")}},{key:"_templateEditButton",get:function(){return(0,C.qy)(Jw||(Jw=(0,M.A)(['\n\t\t\t<div class="setting-edit-button">\n\t\t\t\t<uo-button\n\t\t\t\t\tsize="extra-small"\n\t\t\t\t\tcolor="transparent"\n\n\t\t\t\t\thref=','\n\t\t\t\t\ttarget="_blank"\n\t\t\t\t>\n\t\t\t\t\t',"\n\t\t\t\t</uo-button>\n\t\t\t</div>\n\t\t"])),UncannyAutomator._recipe.miscellaneous.url_logs,_uo.utility.escHTML(wp.i18n.__("View logs","uncanny-automator")))}}]),n}(Qw);Xw=rA;var aA,sA=(0,v.A)(function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:iA((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||iA(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:nA(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return oA(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(Xw,[(0,fe.EM)("uap-builder-publish-setting-completed-runs")],[],0,0,Qw).c,2);function uA(t){var e=cA();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function cA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(cA=function(){return!!t})()}function lA(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function dA(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function pA(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}sA[0],(0,sA[1])();var fA=function(t){(0,le.A)(n,t);var e=uA(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).settingID="recipe_created_on",t.icon="calendar",t.label=_uo.utility.escHTML(wp.i18n.__("Created on","uncanny-automator")),t}return(0,ue.A)(n,[{key:"readableValue",get:function(){return this.getFieldValue("CREATED_ON")}}]),n}(Qw);aA=fA;var hA,mA,yA=(0,v.A)(function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:dA((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||dA(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:lA(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return pA(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(aA,[(0,fe.EM)("uap-builder-publish-setting-created-on")],[],0,0,Qw).c,2);function gA(t){var e=_A();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function _A(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_A=function(){return!!t})()}function vA(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function bA(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function wA(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}yA[0],(0,yA[1])();var AA=function(t){(0,le.A)(n,t);var e=gA(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).recipeType=UncannyAutomator._recipe.recipe_type,t.settingID="recipe_throttle",t.icon="gauge-max",t.helper=_uo.utility.escHTML(wp.i18n.__("Runs this recipe only once per specified period, even if triggered multiple times.","uncanny-automator")),t.fieldsDirectory=[{option_code:"ENABLED",input_type:"checkbox",is_toggle:!0,label:_uo.utility.escHTML(wp.i18n.__("Enable throttling","uncanny-automator")),description:_uo.utility.escHTML(wp.i18n.__('When enabled, this recipe will only run once within the defined time period, even if triggered multiple times. For example, if set to "1 day," the recipe will run only once per day, regardless of how many times it is triggered.',"uncanny-automator"))}].concat((0,Tt.A)("user"===t.recipeType?[{option_code:"PER_RECIPE_OR_USER",input_type:"select",label:_uo.utility.escHTML(wp.i18n.__("Throttle scope","uncanny-automator")),description:_uo.utility.escHTML(wp.i18n.__("Define whether the limit applies globally or per user.","uncanny-automator")),options_show_id:!1,options:[{value:"recipe",text:_uo.utility.escHTML(wp.i18n.__("Per recipe — Shared limit for all users","uncanny-automator"))},{value:"user",text:_uo.utility.escHTML(wp.i18n.__("Per user — Each user has their own independent limit","uncanny-automator"))}],required:!0,dynamic_visibility:{default_state:"hidden",visibility_rules:[{operator:"AND",rule_conditions:[{option_code:"ENABLED",compare:"==",value:!0}],resulting_visibility:"show"}]}}]:[]),[{option_code:"NUMBER",input_type:"int",label:_uo.utility.escHTML(wp.i18n.__("Throttle duration","uncanny-automator")),description:_uo.utility.escHTML(wp.i18n.__("Set how long the throttle lasts (used with the time unit below).","uncanny-automator")),placeholder:_uo.utility.escHTML(wp.i18n.__("e.g. 30","uncanny-automator")),min_number:1,supports_tokens:!1,required:!0,dynamic_visibility:{default_state:"hidden",visibility_rules:[{operator:"AND",rule_conditions:[{option_code:"ENABLED",compare:"==",value:!0}],resulting_visibility:"show"}]}},{option_code:"UNIT",input_type:"select",label:_uo.utility.escHTML(wp.i18n.__("Duration unit","uncanny-automator")),description:_uo.utility.escHTML(wp.i18n.__("Select the unit of time (seconds, minutes, hours, days, or years).","uncanny-automator")),supports_tokens:!1,options_show_id:!1,required:!0,options:[{value:"seconds",text:_uo.utility.escHTML(wp.i18n.__("Seconds","uncanny-automator"))},{value:"minutes",text:_uo.utility.escHTML(wp.i18n.__("Minutes","uncanny-automator"))},{value:"hours",text:_uo.utility.escHTML(wp.i18n.__("Hours","uncanny-automator"))},{value:"days",text:_uo.utility.escHTML(wp.i18n.__("Days","uncanny-automator"))},{value:"weeks",text:_uo.utility.escHTML(wp.i18n.__("Weeks","uncanny-automator"))},{value:"months",text:_uo.utility.escHTML(wp.i18n.__("Months","uncanny-automator"))},{value:"years",text:_uo.utility.escHTML(wp.i18n.__("Years","uncanny-automator"))}],dynamic_visibility:{default_state:"hidden",visibility_rules:[{operator:"AND",rule_conditions:[{option_code:"ENABLED",compare:"==",value:!0}],resulting_visibility:"show"}]}}]),t}return(0,ue.A)(n,[{key:"_templateLabel",get:function(){return(0,C.qy)(mA||(mA=(0,M.A)(['\n\t\t\t<div class="setting-label">\n\t\t\t\t',': <uo-chip color="info" size="xsmall" filled>',"</uo-chip>\n\t\t\t</div>\n\t\t"])),_uo.utility.escHTML(wp.i18n.__("Throttle","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("New","uncanny-automator")))}},{key:"readableValue",get:function(){var t=this.getFieldValue("ENABLED"),e=this.getFieldValue("NUMBER"),n=this.getFieldValue("UNIT"),i="user"===this.recipeType?this.getFieldValue("PER_RECIPE_OR_USER"):"recipe";return _uo.utility.isEmpty(t)||!t?_uo.utility.escHTML(wp.i18n.__("Unlimited","uncanny-automator")):"recipe"===i?_uo.utility.getFormattedDuration(n,e,!0):_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("%1$s, per user","uncanny-automator")),_uo.utility.getFormattedDuration(n,e,!0))}},{key:"helperCallback",value:function(){_uo.utility.openWindow({url:"https://automatorplugin.com/knowledge-base/?utm_medium=publish_metabox&utm_content=recipe_throttle_question_icon",w:450})}}]),n}(Qw);hA=AA;var kA,TA=(0,v.A)(function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:bA((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||bA(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:vA(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return wA(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(hA,[(0,fe.EM)("uap-builder-publish-setting-throttle")],[],0,0,Qw).c,2);function EA(t){var e=DA();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function DA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(DA=function(){return!!t})()}function MA(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function CA(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function xA(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}TA[0],(0,TA[1])();var LA=function(t){(0,le.A)(n,t);var e=EA(n);function n(){var t,i;(0,se.A)(this,n);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(i=e.call.apply(e,[this].concat(r))).settingID="recipe_times_per_user",i.icon="repeat",i.label=_uo.utility.escHTML(wp.i18n.__("Times per user","uncanny-automator")),i.helper=_uo.utility.escHTML(wp.i18n.__("Maximum number of times each user can trigger this recipe.","uncanny-automator")),i.fieldsDirectory=[(t={option_code:"TIMES",input_type:"int",label:_uo.utility.escHTML(wp.i18n.__("Allowed runs per user","uncanny-automator")),description:_uo.utility.escHTML(wp.i18n.__("Leave empty for unlimited times","uncanny-automator")),placeholder:_uo.utility.escHTML(wp.i18n.__("Unlimited","uncanny-automator"))},(0,ct.A)(t,"description",_uo.utility.escHTML(wp.i18n.__("Sets the maximum number of times each user can trigger this recipe. Leave empty for unlimited triggers per user.","uncanny-automator"))),(0,ct.A)(t,"min_number",1),(0,ct.A)(t,"supports_tokens",!1),t)],i}return(0,ue.A)(n,[{key:"readableValue",get:function(){var t=this.getFieldValue("TIMES");return _uo.utility.isEmpty(t)||-1==t?_uo.utility.escHTML(wp.i18n.__("Unlimited","uncanny-automator")):parseInt(t)}},{key:"shouldRender",get:function(){return"anonymous"!=UncannyAutomator._recipe.recipe_type}},{key:"helperCallback",value:function(){_uo.utility.openWindow({url:"https://automatorplugin.com/knowledge-base/creating-a-recipe/?utm_source=uncanny_automator_pro&utm_medium=publish_metabox&utm_content=recipe_type_question_icon#additional-settings:~:text=exactly%20as%20expected.-,Additional%20settings,-Before%20taking%20a",w:450})}}]),n}(Qw);kA=LA;var SA,IA=(0,v.A)(function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:CA((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||CA(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:MA(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return xA(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(kA,[(0,fe.EM)("uap-builder-publish-setting-times-per-user")],[],0,0,Qw).c,2);function OA(t){var e=jA();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function jA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(jA=function(){return!!t})()}function UA(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function PA(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function HA(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}IA[0],(0,IA[1])();var FA=function(t){(0,le.A)(n,t);var e=OA(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).settingID="recipe_total_times",t.icon="hashtag",t.label=_uo.utility.escHTML(wp.i18n.__("Total times","uncanny-automator")),t.helper=_uo.utility.escHTML(wp.i18n.__("The total number of times this recipe can run, regardless of the user.","uncanny-automator")),t.fieldsDirectory=[{option_code:"TIMES",input_type:"int",label:_uo.utility.escHTML(wp.i18n.__("Total allowed runs","uncanny-automator")),description:_uo.utility.escHTML(wp.i18n.__("Sets the maximum number of times this recipe can run overall, regardless of the user. Leave empty for unlimited runs.","uncanny-automator")),placeholder:_uo.utility.escHTML(wp.i18n.__("Unlimited","uncanny-automator")),min_number:1,supports_tokens:!1}],t}return(0,ue.A)(n,[{key:"readableValue",get:function(){var t=this.getFieldValue("TIMES");return _uo.utility.isEmpty(t)||-1==t?_uo.utility.escHTML(wp.i18n.__("Unlimited","uncanny-automator")):parseInt(t)}},{key:"helperCallback",value:function(){_uo.utility.openWindow({url:"https://automatorplugin.com/knowledge-base/creating-a-recipe/?utm_source=uncanny_automator_pro&utm_medium=publish_metabox&utm_content=recipe_type_question_icon#additional-settings:~:text=exactly%20as%20expected.-,Additional%20settings,-Before%20taking%20a",w:450})}}]),n}(Qw);SA=FA;var $A,RA=(0,v.A)(function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:PA((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||PA(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:UA(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return HA(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(SA,[(0,fe.EM)("uap-builder-publish-setting-total-times")],[],0,0,Qw).c,2);function qA(t){var e=VA();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function VA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(VA=function(){return!!t})()}function NA(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function WA(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function BA(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}RA[0],(0,RA[1])();var zA=function(t){(0,le.A)(n,t);var e=qA(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).settingID="recipe_user_type",t.icon="user",t.label=_uo.utility.escHTML(wp.i18n.__("User type","uncanny-automator")),t.helper=_uo.utility.escHTML(wp.i18n.__("Specifies which user group can trigger this recipe, such as logged-in users or all users.","uncanny-automator")),t}return(0,ue.A)(n,[{key:"readableValue",get:function(){var t=this.getFieldValue("USER_TYPE");return"user"==t?_uo.utility.escHTML(wp.i18n.__("Logged-in users","uncanny-automator")):"anonymous"==t?_uo.utility.escHTML(wp.i18n.__("Everyone","uncanny-automator")):void 0}},{key:"helperCallback",value:function(){_uo.utility.openWindow({url:"https://automatorplugin.com/knowledge-base/creating-a-recipe/?utm_source=uncanny_automator_pro&utm_medium=publish_metabox&utm_content=recipe_type_question_icon",w:450})}}]),n}(Qw);$A=zA;var GA=(0,v.A)(function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:WA((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||WA(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:NA(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return BA(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}($A,[(0,fe.EM)("uap-builder-publish-setting-user-type")],[],0,0,Qw).c,2);GA[0],(0,GA[1])();var YA,KA,ZA,XA,JA,QA,tk,ek,nk,ik=__webpack_require__(5087),ok=__webpack_require__.n(ik);function rk(t){var e=ak();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function ak(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ak=function(){return!!t})()}function sk(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function uk(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function ck(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function lk(t){return t}new(KA=function(t){(0,le.A)(n,t);var e=rk(n);function n(){return(0,se.A)(this,n),e.apply(this,arguments)}return(0,ue.A)(n,[{key:"render",value:function(){return(0,C.qy)(ZA||(ZA=(0,M.A)(['\n\t\t\t<div class="publish-settings">\n   \t\t\t\t<uap-builder-publish-setting-throttle>\n\t\t\t\t</uap-builder-publish-setting-throttle>\n\t\n\t\t\t\t',"\n\n\t\t\t\t<uap-builder-publish-setting-total-times>\n\t\t\t\t</uap-builder-publish-setting-total-times>\n\n\t\t\t\t<uap-builder-publish-setting-user-type>\n\t\t\t\t</uap-builder-publish-setting-user-type>\n\n\t\t\t\t<uap-builder-publish-setting-created-on>\n\t\t\t\t</uap-builder-publish-setting-created-on>\n\n\t\t\t\t<uap-builder-publish-setting-completed-runs>\n\t\t\t\t</uap-builder-publish-setting-completed-runs>\n\t\t\t</div>\n\t\t"])),this._templateTimesPerUser)}},{key:"_templateTimesPerUser",get:function(){if("user"==UncannyAutomator._recipe.recipe_type)return(0,C.qy)(XA||(XA=(0,M.A)(["\n\t\t\t<uap-builder-publish-setting-times-per-user>\n\t\t\t</uap-builder-publish-setting-times-per-user>\n\t\t"])))}}]),n}(C.WF),JA=(0,v.A)(function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:uk((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||uk(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:sk(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return ck(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(KA,[(0,fe.EM)("uap-builder-publish-settings")],[],0,0,C.WF).c,2),nk=JA[0],tk=JA[1],ek=KA,YA=function(t){(0,le.A)(n,t);var e=rk(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,nk)).styles=(0,C.AH)(QA||(QA=(0,M.A)(["",""])),(0,C.iz)(ok())),(0,ce.A)(t),tk(),t}return(0,ue.A)(n)}(lk),YA[ek]=void 0,YA);var dk,pk,fk,hk,mk,yk,gk,_k,vk,bk,wk=__webpack_require__(103),Ak=__webpack_require__.n(wk);function kk(t){var e=Tk();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function Tk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Tk=function(){return!!t})()}function Ek(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function Dk(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function Mk(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function Ck(t){return t}new(pk=function(t){(0,le.A)(n,t);var e=kk(n);function n(){return(0,se.A)(this,n),e.apply(this,arguments)}return(0,ue.A)(n,[{key:"render",value:function(){return(0,C.qy)(fk||(fk=(0,M.A)(['\n\t\t\t<div class="publish">\n\t\t\t\t',"\n\t\t\t\t","\n\t\t\t</div>\n\t\t"])),this._templateSettings,this._templateFooter)}},{key:"_templateSettings",get:function(){return(0,C.qy)(hk||(hk=(0,M.A)(['\n\t\t\t<div class="publish-settings">\n\t\t\t\t<uap-builder-publish-settings></uap-builder-publish-settings>\n\t\t\t</div>\n\t\t'])))}},{key:"_templateFooter",get:function(){return(0,C.qy)(mk||(mk=(0,M.A)(['\n\t\t\t<div class="publish-footer">\n\t\t\t\t<uap-builder-publish-footer></uap-builder-publish-footer>\n\t\t\t</div>\n\t\t'])))}}]),n}(C.WF),yk=(0,v.A)(function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:Dk((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||Dk(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:Ek(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return Mk(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(pk,[(0,fe.EM)("uap-builder-publish")],[],0,0,C.WF).c,2),bk=yk[0],_k=yk[1],vk=pk,dk=function(t){(0,le.A)(n,t);var e=kk(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,bk)).styles=(0,C.AH)(gk||(gk=(0,M.A)(["",""])),(0,C.iz)(Ak())),(0,ce.A)(t),_k(),t}return(0,ue.A)(n)}(Ck),dk[vk]=void 0,dk);const xk=__webpack_require__.p+"img/filter-banner.svg";var Lk=__webpack_require__(4727),Sk=__webpack_require__(8650),Ik=__webpack_require__(5197);const Ok=function(){return"anonymous"==UncannyAutomator._recipe.recipe_type&&!UncannyAutomator.recipe.requiresUserData};var jk;const Uk=function(t){var e=t.summary,n=void 0===e?"":e,i=t.description,o=void 0===i?"":i,r=document.createElement("div");return document.body.append(r),new Promise((function(t,e){(0,C.XX)((0,C.qy)(jk||(jk=(0,M.A)(["\n\t\t\t\t<ua-builder-user-selector-set-data-dialog\n\t\t\t\t\t@automator_user-selector_request-data-dialog_confirm_success=","\n\n\t\t\t\t\t@automator_user-selector_request-data-dialog_confirm_fail=","\n\n\t\t\t\t\t@automator_user-selector_request-data-dialog_cancel=",'\n\t\t\t\t>\n\n\t\t\t\t\t<div slot="summary">\n\t\t\t\t\t\t','\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div slot="description">\n\t\t\t\t\t\t',"\n\t\t\t\t\t</div>\n\n\t\t\t\t</ua-builder-user-selector-set-data-dialog>\n\t\t\t"])),(function(){t()}),(function(){e()}),(function(){e()}),n,o),r,{host:void 0})}))};var Pk,Hk,Fk,$k,Rk=__webpack_require__(2152);function qk(t,e){return t.get(Vk(t,e))}function Vk(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Nk,Wk,Bk,zk,Gk,Yk,Kk,Zk,Xk,Jk,Qk,tT,eT,nT,iT,oT,rT,aT=new WeakMap,sT=function(){function t(e){var n,i,o,r=e.conditionsGroupId,a=e.comingFrom,s=e.parentID;(0,se.A)(this,t),this.$dialog=(0,Cl._)(),o=void 0,function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(n=this,i=aT),i.set(n,o),this.conditionsGroupId=r,this.comingFrom=a,this.parentID=s,this.isInsideUserLoop=UncannyAutomator._core.recipe.item.loop.isItemInsideUserLoop(this.parentID),this.render()}var e;return(0,ue.A)(t,[{key:"render",value:function(){var t=this;(0,C.XX)((0,C.qy)(Pk||(Pk=(0,M.A)(['\n\t\t\t\t<uo-dialog\n\t\t\t\t\theading="','"\n\t\t\t\t\tsize="large"\n\t\t\t\t\topen\n\n\t\t\t\t\t','\n\t\t\t\t>\n\t\t\t\t\t<div class="uap-conditions-list">\n\t\t\t\t\t\t<uo-accordion\n\t\t\t\t\t\t\tlist-search\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t.searchPlaceholder="','"\n\t\t\t\t\t\t\t.noResultsText="','"\n\t\t\t\t\t\t>\n\n\t\t\t\t\t\t\t','\n\n\t\t\t\t\t\t</uo-accordion>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\tslot="secondary-action"\n\t\t\t\t\t\tdialog-action="close"\n\t\t\t\t\t\tcolor="secondary"\n\t\t\t\t\t>\n\t\t\t\t\t\t',"\n\t\t\t\t\t</uo-button>\n\t\t\t\t</uo-dialog>\n\t\t\t"])),_uo.utility.escHTML(wp.i18n.__("Condition","uncanny-automator")),(0,Cl.K)(this.$dialog),_uo.utility.escHTML(wp.i18n.__("Search conditions","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("No conditions found","uncanny-automator")),(0,dn.u)(this.integrations,(function(t){var e=(0,v.A)(t,2),n=e[0];return e[1],n}),(function(e){var n=(0,v.A)(e,2),i=n[0],o=n[1];return(0,C.qy)(Hk||(Hk=(0,M.A)(["\n\t\t\t\t\t\t\t\t\t\t<uo-accordion-item\n\t\t\t\t\t\t\t\t\t\t\t?open=",'\n\t\t\t\t\t\t\t\t\t\t>\n\n\t\t\t\t\t\t\t\t\t\t\t<div slot="summary">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="uap-conditions-list-item-integration">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ua-builder-integration-icon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcode="','"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize="xsmall"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplain\n\t\t\t\t\t\t\t\t\t\t\t\t\t></ua-builder-integration-icon>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t","\n\n\t\t\t\t\t\t\t\t\t\t</uo-accordion-item>\n\t\t\t\t\t\t\t\t\t"])),t.integrationOpenByDefault(i),i,o.name,(0,dn.u)((0,Lk.wm)({integrationCode:i,filters:{deprecated:!1}}),(function(t){return t.id}),(function(e){var n=!t.isInsideUserLoop&&e.requires_user;return(0,C.qy)(Fk||(Fk=(0,M.A)(["\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<uo-accordion-item-li\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=",'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="uap-conditions-list-item-sentence">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t',"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t","\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</uo-accordion-item-li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t"])),(function(){t.selectCondition({integrationCode:i,conditionCode:e.id,name:e.name,requiresUserData:n})}),(0,Ik.G)({dynamicSentence:e.name}),t._templateAddRequiresUserData({requiresUserData:n}))})))})),_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator"))),this.$wrapper,{host:this})}},{key:"selectCondition",value:(e=(0,j.A)(P().mark((function t(e){var n,i,o;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.integrationCode,i=e.conditionCode,e.name,!e.requiresUserData||!Ok()){t.next=10;break}return t.prev=2,t.next=5,Uk({summary:_uo.utility.escHTML(wp.i18n.__("This condition requires WordPress user data","uncanny-automator")),description:_uo.utility.escHTML(wp.i18n.__("Since this is a recipe that runs for everyone, including logged-out users, you'll need to select a new or existing user that the condition can be validated against.","uncanny-automator"))});case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return");case 10:this.$dialog.value.close(),o=new CustomEvent("automator/action/conditions/add/select",{detail:{conditionsGroupId:this.conditionsGroupId,integrationCode:n,conditionCode:i}}),document.dispatchEvent(o),new Rk.A({conditionsGroupId:this.conditionsGroupId,integrationCode:n,conditionCode:i,comingFrom:this.comingFrom});case 14:case"end":return t.stop()}}),t,this,[[2,7]])}))),function(t){return e.apply(this,arguments)})},{key:"_templateAddRequiresUserData",value:function(t){if(t.requiresUserData&&Ok())return(0,C.qy)($k||($k=(0,M.A)(['\n\t\t\t\t<uo-chip\n\t\t\t\t\tslot="chip"\n\t\t\t\t\tsize="small"\n\t\t\t\t\tcolor="info"\n\t\t\t\t\tfilled\n\t\t\t\t>\n\t\t\t\t\t',"\n\t\t\t\t</uo-chip>\n\t\t\t"])),_uo.utility.escHTML(wp.i18n.__("Requires user data","uncanny-automator")))}},{key:"integrationOpenByDefault",value:function(t){return"GEN"==t}},{key:"integrations",get:function(){var t=Object.entries(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_uo.utility.isEmpty(t))return UncannyAutomator.integrations;t=Object.assign({triggers:null,actions:null,conditions:null,customFilter:null},t);var e={};return Object.entries(UncannyAutomator.integrations).map((function(n){var i=(0,v.A)(n,2),o=i[0],r=i[1],a=!0;_uo.utility.isDefined(t.customFilter)&&(a=t.customFilter(r)),_uo.utility.isDefined(t.triggers)&&(t.triggers&&!r.items.triggers.hasTriggers||!t.triggers&&r.items.triggers.hasTriggers)&&(a=!1),_uo.utility.isDefined(t.actions)&&(t.actions&&!r.items.actions.hasActions||!t.actions&&r.items.actions.hasActions)&&(a=!1),_uo.utility.isDefined(t.conditions)&&(t.conditions&&!r.conditions.hasConditions||!t.conditions&&r.conditions.hasConditions)&&(a=!1),a&&(e[o]=r)})),e}({conditions:!0})),e=t.findIndex((function(t){var e=(0,v.A)(t,2),n=e[0];return e[1],"GEN"==n}));return t.unshift(t.splice(e,1)[0]),t}},{key:"$wrapper",get:function(){var t,e;return _uo.utility.isDefined(qk(aT,this))||(t=aT,e=document.createElement("div"),t.set(Vk(t,this),e),document.body.append(qk(aT,this))),qk(aT,this)}}]),t}();function uT(t){var e=cT();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function cT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(cT=function(){return!!t})()}function lT(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function dT(t,e,n){return t.set(fT(t,e),n),n}function pT(t,e){return t.get(fT(t,e))}function fT(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function hT(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function mT(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function yT(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}var gT=new WeakMap,_T=new WeakMap,vT=new WeakMap,bT=new WeakMap,wT=new WeakMap,AT=new WeakMap,kT=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:mT((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||mT(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:hT(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return yT(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(function(t){(0,le.A)(n,t);var e=uT(n);function n(){var t;(0,se.A)(this,n);for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o)),lT((0,ce.A)(t),gT,Yk((0,ce.A)(t),UncannyAutomator._recipe.recipe_id)),lT((0,ce.A)(t),_T,(Kk((0,ce.A)(t)),Zk((0,ce.A)(t)))),lT((0,ce.A)(t),vT,(Xk((0,ce.A)(t)),Jk((0,ce.A)(t)))),lT((0,ce.A)(t),bT,(Qk((0,ce.A)(t)),tT((0,ce.A)(t)))),lT((0,ce.A)(t),wT,(eT((0,ce.A)(t)),nT((0,ce.A)(t),"secondary"))),lT((0,ce.A)(t),AT,(iT((0,ce.A)(t)),oT((0,ce.A)(t),!1))),rT((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"parentID",get:function(){return pT(gT,this)},set:function(t){dT(gT,this,t)}},{key:"actionID",get:function(){return pT(_T,this)},set:function(t){dT(_T,this,t)}},{key:"conditionsGroupID",get:function(){return pT(vT,this)},set:function(t){dT(vT,this,t)}},{key:"size",get:function(){return pT(bT,this)},set:function(t){dT(bT,this,t)}},{key:"color",get:function(){return pT(wT,this)},set:function(t){dT(wT,this,t)}},{key:"isActionOpen",get:function(){return pT(AT,this)},set:function(t){dT(AT,this,t)}},{key:"render",value:function(){return this._templateButton}},{key:"handleClick",value:function(){this.isActionOpen||(UncannyAutomatorBackend._site.automator.is_pro_active?this.handleAddFilter():this.handleCreateUpsellDialog())}},{key:"_templateButton",get:function(){var t=(0,C.qy)(Nk||(Nk=(0,M.A)(["\n\t\t\t<uo-button\n\t\t\t\tcolor=","\n\t\t\t\tsize=","\n\t\t\t\t\n\t\t\t\t?disabled=","\n\n\t\t\t\t@click=","\n\t\t\t>\n\t\t\t\t","\n\t\t\t</uo-button>\n\t\t"])),me(this.color),me(this.size),this.shouldDisableButton,this.handleClick,this._templateButtonLabel);return UncannyAutomatorBackend._site.automator.is_pro_active&&this.isActionOpen?(0,C.qy)(Wk||(Wk=(0,M.A)(["\n\t\t\t\t<uo-tooltip\n\t\t\t\t\t@click=","\n\t\t\t\t>\n\t\t\t\t\t",'\n\n\t\t\t\t\t<div slot="target">\n\t\t\t\t\t\t',"\n\t\t\t\t\t</div>\n\t\t\t\t</uo-tooltip>\n\t\t\t"])),this.handleClick,_uo.utility.escHTML(wp.i18n.__("Please save the action first","uncanny-automator")),t):t}},{key:"_templateButtonLabel",get:function(){return UncannyAutomatorBackend._site.automator.is_pro_active?(0,C.qy)(Bk||(Bk=(0,M.A)(["<slot></slot>"]))):(0,C.qy)(zk||(zk=(0,M.A)(["<slot></slot> <uo-pro-tag size=","></uo-pro-tag>"])),me(this.size))}},{key:"shouldDisableButton",get:function(){return this.isActionOpen}},{key:"connectedCallback",value:function(){jy((0,pe.A)(n.prototype),"connectedCallback",this).call(this),this.disableWhenUserEditsAction()}},{key:"disconnectedCallback",value:function(){jy((0,pe.A)(n.prototype),"disconnectedCallback",this).call(this),document.removeEventListener("automator/item/options/open",this.callbackOptionsOpen),document.removeEventListener("automator/item/options/close",this.callbackOptionsClose)}},{key:"showListOfConditions",value:function(){var t=_uo.utility.isEmpty(this.conditionsGroupID)?new Sk.A({parentID:this.parentID}):(0,Lk.iW)({conditionsGroupId:this.conditionsGroupID});_uo.utility.isEmpty(this.actionID)||(t.actions=[this.actionID]),new sT({conditionsGroupId:t.id,comingFrom:"action-filter-button",parentID:this.parentID})}},{key:"disableWhenUserEditsAction",value:function(){var t=this;_uo.utility.isEmpty(this.actionID)||UncannyAutomatorBackend._site.automator.is_pro_active&&(this.callbackOptionsOpen={handleEvent:function(e){t.actionID==e.detail.itemId&&(t.isActionOpen=!0)}},this.callbackOptionsClose={handleEvent:function(e){t.actionID==e.detail.itemId&&(t.isActionOpen=!1)}},document.addEventListener("automator/item/options/open",this.callbackOptionsOpen),document.addEventListener("automator/item/options/close",this.callbackOptionsClose))}},{key:"handleAddFilter",value:function(){this.showListOfConditions()}},{key:"handleCreateUpsellDialog",value:function(){var t=document.createElement("div");document.body.append(t),(0,C.XX)((0,C.qy)(Gk||(Gk=(0,M.A)(["\n\t\t\t\t<uo-dialog\n\t\t\t\t\theading=","\n\t\t\t\t\tfeatured-image=",'\n\t\t\t\t\tfeatured-image-position="center bottom"\n\t\t\t\t\tsize="large"\n\t\t\t\t\topen\n\t\t\t\t>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t.content=',">\n\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<p>\n\t\t\t\t\t\t",'\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=',">\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\n\t\t\t\t\t<p>\n\t\t\t\t\t\t",'\n\t\t\t\t\t</p>\n\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<uo-markdown \n\t\t\t\t\t\t\t\tallowed-tags="strong"\n\t\t\t\t\t\t\t\t.content=','>\n\t\t\t\t\t\t\t</uo-markdown>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\tslot="primary-action"\n\n\t\t\t\t\t\thref=','\n\t\t\t\t\t\ttarget="_blank"\n\n\t\t\t\t\t\tdialog-action="close"\n\t\t\t\t\t>\n\t\t\t\t\t\t','\n\t\t\t\t\t</uo-button>\n\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\tslot="secondary-action"\n\t\t\t\t\t\tdialog-action="close"\n\t\t\t\t\t\tcolor="secondary"\n\t\t\t\t\t>\n\t\t\t\t\t\t',"\n\t\t\t\t\t</uo-button>\n\t\t\t\t</uo-dialog>\n\t\t\t"])),_uo.utility.escHTML(wp.i18n.__("Filter","uncanny-automator")),xk,_uo.utility.escHTML(wp.i18n.__("Add **conditional logic** to your recipes with filters. With the ability to **run actions only if specific conditions are met**, recipes become much more powerful!","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Here are a few examples of what is possible with filters:","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("In recipes with a form submission trigger, **run different actions depending on the options the user selected on the form**.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("In recipes with a purchase trigger, **run different actions depending on which product the user purchased**.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("In recipes with a course or group enrollment trigger, **run different actions depending on which course or group the user enrolled in**.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__('You can also use filters to simply give recipes additional "intelligence" about when actions should run, such as:',"uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Whether the user has a **specific role or membership level**.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Whether the user is **enrolled in a specific course or group**.","uncanny-automator")),_uo.utility.escHTML(wp.i18n.__("Whether the user has **specific user meta values**.","uncanny-automator")),this.upsaleURL,_uo.utility.escHTML(wp.i18n.__("Get Filters","uncanny-automator")),_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator"))),t)}},{key:"upsaleURL",get:function(){return _uo.utility.addParametersToURL(_uo.utility.addParametersUTM("https://automatorplugin.com/pricing/",{medium:"recipe_creator",content:"add_filter_button"}),{uap_bpro_context:"filter"})}}]),n}(C.WF),[(0,fe.EM)("ua-builder-conditions-add-button")],[[(0,fe.MZ)({type:Number,attribute:"parent-id"}),1,"parentID"],[(0,fe.MZ)({type:String,attribute:"action-id"}),1,"actionID"],[(0,fe.MZ)({type:String,attribute:"condition-group-id"}),1,"conditionsGroupID"],[(0,fe.MZ)({type:String}),1,"size"],[(0,fe.MZ)({type:String}),1,"color"],[(0,fe.MZ)({type:Boolean,reactive:!0}),1,"isActionOpen"]],0,0,C.WF),TT=(0,v.A)(kT.e,12);Yk=TT[0],Kk=TT[1],Zk=TT[2],Xk=TT[3],Jk=TT[4],Qk=TT[5],tT=TT[6],eT=TT[7],nT=TT[8],iT=TT[9],oT=TT[10],rT=TT[11];var ET=(0,v.A)(kT.c,2);ET[0],(0,ET[1])();var DT,MT,CT,xT,LT,ST,IT,OT,jT,UT,PT,HT,FT,$T,RT,qT,VT,NT,WT=__webpack_require__(1380),BT=__webpack_require__(8456),zT=__webpack_require__.n(BT);function GT(t){var e=YT();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function YT(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(YT=function(){return!!t})()}function KT(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function ZT(t,e,n){return t.set(JT(t,e),n),n}function XT(t,e){return t.get(JT(t,e))}function JT(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function QT(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function tE(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function eE(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function nE(t){return t}new(CT=new WeakMap,xT=new WeakMap,OT=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:tE((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||tE(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:QT(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return eE(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(MT=function(t){(0,le.A)(n,t);var e=GT(n);function n(){var t;return(0,se.A)(this,n),t=e.call(this),KT((0,ce.A)(t),CT,FT((0,ce.A)(t))),KT((0,ce.A)(t),xT,($T((0,ce.A)(t)),RT((0,ce.A)(t)))),t.$pill=(qT((0,ce.A)(t)),(0,Cl._)()),t.$removeButton=(0,Cl._)(),t}return(0,ue.A)(n,[{key:"id",get:function(){return XT(CT,this)},set:function(t){ZT(CT,this,t)}},{key:"groupId",get:function(){return XT(xT,this)},set:function(t){ZT(xT,this,t)}},{key:"connectedCallback",value:function(){jy((0,pe.A)(n.prototype),"connectedCallback",this).call(this),this.innerHTML="",this.append(this.condition.$dynamicSentence)}},{key:"render",value:function(){if(_uo.utility.isDefined(this.condition))return this.condition.isMissing?this.condition.isMissing?this._templateMissingCondition:void 0:this._templateCondition}},{key:"_templateCondition",get:function(){return(0,C.qy)(LT||(LT=(0,M.A)(['\n\t\t\t<div class="pill" ','>\n\n\t\t\t\t<div class="pill-logo">\n\t\t\t\t\t<ua-builder-integration-icon\n\t\t\t\t\t\tcode="','"\n\t\t\t\t\t\tsize="xsmall"\n\t\t\t\t\t\tplain\n\t\t\t\t\t></ua-builder-integration-icon>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="pill-sentence">\n\t\t\t\t\t<slot></slot>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="pill-actions">\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\t@click=','\n\n\t\t\t\t\t\tclass="pill-actions-edit"\n\t\t\t\t\t\tcolor="transparent"\n\t\t\t\t\t\tsize="small"\n\t\t\t\t\t>\n\t\t\t\t\t\t<uo-icon id="pencil"></uo-icon>\n\t\t\t\t\t</uo-button>\n\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\t',"\n\n\t\t\t\t\t\t@click=",'\n\n\t\t\t\t\t\tclass="pill-actions-remove"\n\t\t\t\t\t\tcolor="transparent"\n\t\t\t\t\t\tsize="small"\n\t\t\t\t\t>\n\t\t\t\t\t\t<uo-icon id="trash"></uo-icon>\n\t\t\t\t\t</uo-button>\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t'])),(0,Cl.K)(this.$pill),this.condition.integrationCode,this.edit,(0,Cl.K)(this.$removeButton),this.remove)}},{key:"_templateMissingCondition",get:function(){return(0,C.qy)(ST||(ST=(0,M.A)(['\n\t\t\t<div class="pill pill--missing" ','>\n\n\t\t\t\t<div class="pill-sentence">\n\t\t\t\t\t','\n\t\t\t\t</div>\n\n\t\t\t\t<div class="pill-actions">\n\n\t\t\t\t\t<uo-button\n\t\t\t\t\t\t',"\n\n\t\t\t\t\t\t@click=",'\n\n\t\t\t\t\t\tclass="pill-actions-remove"\n\t\t\t\t\t\tcolor="transparent"\n\t\t\t\t\t\tsize="small"\n\t\t\t\t\t>\n\t\t\t\t\t\t<uo-icon id="trash"></uo-icon>\n\t\t\t\t\t</uo-button>\n\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t'])),(0,Cl.K)(this.$pill),_uo.utility.isDefined(this.condition.backup.integrationName)?(0,C.qy)(IT||(IT=(0,M.A)(['\n\t\t\t\t\t\t\t\t<uo-alert \n\t\t\t\t\t\t\t\t\ttype="warning"\n\t\t\t\t\t\t\t\t\theading=','\n\t\t\t\t\t\t\t\t\tsize="xsmall"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t',": <slot></slot>\n\t\t\t\t\t\t\t\t</uo-alert>\n\t\t\t\t\t\t\t"])),_uo.utility.escHTML(wp.i18n.__("Missing condition","uncanny-automator")),this.condition.backup.integrationName):_uo.utility.escHTML(wp.i18n.__("Missing condition","uncanny-automator")),(0,Cl.K)(this.$removeButton),this.remove)}},{key:"edit",value:function(){this.condition.conditionsGroup.editCondition({conditionId:this.condition.id})}},{key:"remove",value:function(){this.$pill.value.classList.add("pill--force-visible-actions"),this.$removeButton.value.loading=!0,this.condition.conditionsGroup.removeCondition({conditionID:this.condition.id}),(0,Lk.jd)({onSuccess:function(){new WT.A}})}},{key:"condition",get:function(){return(0,Lk.cz)({conditionsGroupId:this.groupId,conditionId:this.id})}}]),n}(C.WF),[(0,fe.EM)("ua-builder-conditions-pill")],[[(0,fe.MZ)({type:String,attribute:"condition-id",reactive:!0}),1,"id"],[(0,fe.MZ)({type:String,attribute:"condition-group-id",reactive:!0}),1,"groupId"]],0,0,C.WF),jT=(0,v.A)(OT.e,4),FT=jT[0],$T=jT[1],RT=jT[2],qT=jT[3],UT=(0,v.A)(OT.c,2),NT=UT[0],HT=UT[1],VT=MT,DT=function(t){(0,le.A)(n,t);var e=GT(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,NT)).styles=(0,C.AH)(PT||(PT=(0,M.A)(["",""])),(0,C.iz)(zT())),(0,ce.A)(t),HT(),t}return(0,ue.A)(n)}(nE),DT[VT]=void 0,DT);var iE,oE,rE,aE,sE,uE,cE,lE,dE,pE,fE,hE,mE,yE,gE,_E,vE=__webpack_require__(9886),bE=__webpack_require__.n(vE);function wE(t){var e=AE();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function AE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(AE=function(){return!!t})()}function kE(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function TE(t,e,n){return t.set(DE(t,e),n),n}function EE(t,e){return t.get(DE(t,e))}function DE(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function ME(t){var e=function(t){if("object"!=(0,ae.A)(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=(0,ae.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,ae.A)(e)?e:e+""}function CE(t,e,n){"symbol"==(0,ae.A)(e)&&(e=(e=e.description)?"["+e+"]":"");try{Object.defineProperty(t,"name",{configurable:!0,value:n?n+" "+e:e})}catch(t){}return t}function xE(t){if(Object(t)!==t)throw TypeError("right-hand side of 'in' should be an object, got "+(null!==t?(0,ae.A)(t):"null"));return t}function LE(t){return t}function SE(t){var e=IE();return function(){var n,i=(0,pe.A)(t);if(e){var o=(0,pe.A)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return(0,de.A)(this,n)}}function IE(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(IE=function(){return!!t})()}new(rE=new WeakMap,aE=new WeakMap,uE=function(t,e,n,i,o,r){var a,s,u,c,l,d,p,f=Symbol.metadata||Symbol.for("Symbol.metadata"),h=Object.defineProperty,m=Object.create,y=[m(null),m(null)],g=e.length;function _(e,n,i){return function(o,r){n&&(r=o,o=t);for(var a=0;a<e.length;a++)r=e[a].apply(o,i?[r]:[]);return i?r:o}}function v(t,e,n,i){if("function"!=typeof t&&(i||void 0!==t))throw new TypeError(e+" must "+(n||"be")+" a function"+(i?"":" or undefined"));return t}function b(t,e,n,i,o,r,u,c,l,d,p){function f(t){if(!p(t))throw new TypeError("Attempted to access private element on non-instance")}var m=[].concat(e[0]),g=e[3],b=!u,w=1===o,A=3===o,k=4===o,T=2===o;function E(e,n,i){return function(o,r){return n&&(r=o,o=t),i&&i(o),D[e].call(o,r)}}if(!b){var D={},M=[],C=A?"get":k||w?"set":"value";if(l?(d||w?D={get:CE((function(){return g(this)}),i,"get"),set:function(t){e[4](this,t)}}:D[C]=g,d||CE(D[C],i,T?"":C)):d||(D=Object.getOwnPropertyDescriptor(t,i)),!d&&!l){if((s=y[+c][i])&&7!=(s^o))throw Error("Decorating two elements with the same name ("+D[C].name+") is not supported yet");y[+c][i]=o<3?1:o}}for(var x=t,L=m.length-1;L>=0;L-=n?2:1){var S=v(m[L],"A decorator","be",!0),I=n?m[L-1]:void 0,O={},j={kind:["field","accessor","method","getter","setter","class"][o],name:i,metadata:a,addInitializer:function(t,e){if(t.v)throw new TypeError("attempted to call addInitializer after decoration was finished");v(e,"An initializer","be",!0),r.push(e)}.bind(null,O)};if(b)s=S.call(I,x,j),O.v=1,v(s,"class decorators","return")&&(x=s);else if(j.static=c,j.private=l,s=j.access={has:l?p.bind():function(t){return i in t}},k||(s.get=l?T?function(t){return f(t),D.value}:E("get",0,f):function(t){return t[i]}),T||A||(s.set=l?E("set",0,f):function(t,e){t[i]=e}),x=S.call(I,w?{get:D.get,set:D.set}:D[C],j),O.v=1,w){if("object"==(0,ae.A)(x)&&x)(s=v(x.get,"accessor.get"))&&(D.get=s),(s=v(x.set,"accessor.set"))&&(D.set=s),(s=v(x.init,"accessor.init"))&&M.unshift(s);else if(void 0!==x)throw new TypeError("accessor decorators must return an object with get, set, or init properties or undefined")}else v(x,(d?"field":"method")+" decorators","return")&&(d?M.unshift(x):D[C]=x)}return o<2&&u.push(_(M,c,1),_(r,c,0)),d||b||(l?w?u.splice(-1,0,E("get",c),E("set",c)):u.push(T?D[C]:v.call.bind(D[C])):h(t,i,D)),x}function w(t){return h(t,f,{configurable:!0,enumerable:!0,value:a})}return void 0!==r&&(a=r[f]),a=m(null==a?null:a),l=[],d=function(t){t&&l.push(_(t))},p=function(e,i){for(var o=0;o<n.length;o++){var r=n[o],a=r[1],s=7&a;if((8&a)==e&&!s==i){var d=r[2],p=!!r[3],f=16&a;b(e?t:t.prototype,r,f,p?"#"+d:ME(d),s,s<2?[]:e?c=c||[]:u=u||[],l,!!e,p,i,e&&p?function(e){return xE(e)===t}:undefined)}}},p(8,0),p(0,0),p(8,1),p(0,1),d(u),d(c),s=l,g||w(t),{e:s,get c(){var n=[];return g&&[w(t=b(t,[e],0,t.name,5,n)),_(n,1)]}}}(oE=function(t){(0,le.A)(n,t);var e=wE(n);function n(){var t;return(0,se.A)(this,n),t=e.call(this),kE((0,ce.A)(t),rE,fE((0,ce.A)(t))),kE((0,ce.A)(t),aE,(hE((0,ce.A)(t)),mE((0,ce.A)(t)))),(0,ce.A)(t),yE((0,ce.A)(t)),t}return(0,ue.A)(n,[{key:"$dialog",get:function(){return EE(rE,this)},set:function(t){TE(rE,this,t)}},{key:"$confirmButton",get:function(){return EE(aE,this)},set:function(t){TE(aE,this,t)}},{key:"render",value:function(){return(0,C.qy)(sE||(sE=(0,M.A)(['\n\t\t\t<uo-dialog\n\t\t\t\theading="','"\n\t\t\t\topen\n\t\t\t>\n\t\t\t\t<div class="set-data-dialog">\n\t\t\t\t\t<div class="set-data-dialog-summary">\n\t\t\t\t\t\t<slot name="summary"></slot>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div class="set-data-dialog-box">\n\t\t\t\t\t\t<slot name="box"></slot>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class="set-data-dialog-description">\n\t\t\t\t\t\t<slot name="description"></slot>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<uo-button\n\t\t\t\t\tslot="primary-action"\n\t\t\t\t\tid="confirm-button"\n\n\t\t\t\t\t@click=',"\n\t\t\t\t>\n\t\t\t\t\t",'\n\t\t\t\t</uo-button>\n\n\t\t\t\t<uo-button\n\t\t\t\t\tslot="secondary-action"\n\t\t\t\t\tdialog-action="close"\n\t\t\t\t\tcolor="secondary"\n\n\t\t\t\t\t@click=',"\n\t\t\t\t>\n\t\t\t\t\t","\n\t\t\t\t</uo-button>\n\t\t\t</uo-dialog>\n\t\t"])),_uo.utility.escHTML(wp.i18n.__("We need some user data","uncanny-automator")),this.confirmAction,_uo.utility.escHTML(wp.i18n.__("Set user data","uncanny-automator")),this.cancelAction,_uo.utility.escHTML(wp.i18n._x("Cancel","Verb","uncanny-automator")))}},{key:"confirmAction",value:function(){var t=this;this.$confirmButton.loading=!0,(0,Hs.Gj)(!0,(function(){t.dispatchEvent(new CustomEvent("automator_user-selector_request-data-dialog_confirm_success")),t.$confirmButton.loading=!1,t.parentNode.removeChild(t)}),(function(){t.dispatchEvent(new CustomEvent("automator_user-selector_request-data-dialog_confirm_fail")),t.$confirmButton.loading=!1}))}},{key:"cancelAction",value:function(){this.parentNode.removeChild(this),this.dispatchEvent(new CustomEvent("automator_user-selector_request-data-dialog_cancel"))}}]),n}(C.WF),[(0,fe.EM)("ua-builder-user-selector-set-data-dialog")],[[(0,fe.P)("uo-dialog"),1,"$dialog"],[(0,fe.P)("#confirm-button"),1,"$confirmButton"]],0,0,C.WF),cE=(0,v.A)(uE.e,4),fE=cE[0],hE=cE[1],mE=cE[2],yE=cE[3],lE=(0,v.A)(uE.c,2),_E=lE[0],pE=lE[1],gE=oE,iE=function(t){(0,le.A)(n,t);var e=wE(n);function n(){var t;return(0,se.A)(this,n),(t=e.call(this,_E)).styles=(0,C.AH)(dE||(dE=(0,M.A)(["",""])),(0,C.iz)(bE())),(0,ce.A)(t),pE(),t}return(0,ue.A)(n)}(LE),iE[gE]=void 0,iE),new(function(t){(0,le.A)(n,t);var e=SE(n);function n(){return(0,se.A)(this,n),e.apply(this,arguments)}return(0,ue.A)(n,[{key:"walkthroughID",get:function(){return"create-recipe"}},{key:"tourStartEvents",get:function(){return["uap/builder/legacy/show-recipe-type-selector"]}},{key:"steps",get:function(){var t=this;return _uo.utility.isEmpty(this.tour)?[]:[{id:"welcome",title:_uo.utility.escHTML(wp.i18n.__("Welcome to Uncanny Automator","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__("Let's take 2 minutes to walk through building your first recipe!","uncanny-automator")),buttons:[{text:_uo.utility.escHTML(wp.i18n.__("Next","uncanny-automator")),action:this.tour.next}]},{id:"recipe-type",title:_uo.utility.escHTML(wp.i18n.__("Recipe type","uncanny-automator")),text:"\n\t\t\t\t\t<p>".concat(_uo.utility.escHTML(wp.i18n.__('The first step is to choose what kind of recipe you are going to use. We will use "Logged in" for this example since the automation we\'re creating is linked to a WordPress user. Click the highlighted box to the right to continue.',"uncanny-automator")),'</p>\n\t\t\t\t\t<p><a href="https://automatorplugin.com/knowledge-base/creating-a-recipe/" target="_blank">').concat(_uo.utility.escHTML(wp.i18n.__("Learn more about recipe types here","uncanny-automator")),' <uo-icon id="external-link"></uo-icon></a></p>\n\t\t\t\t'),attachTo:{element:'.uap-recipe-type-item[data-id="user"]',on:"left"},when:{show:function(){t.addEventListener("recipe-type","uap/builder/legacy/selected-recipe-type",(function(e){"user"===e.detail.recipeType&&t.tour.next()}))}}},{id:"recipe-type-confirm",title:_uo.utility.escHTML(wp.i18n.__("Recipe type","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__("Confirm your recipe type selection.","uncanny-automator")),attachTo:{element:"#uap-recipe-type-confirm",on:"left"},when:{show:function(){t.addEventListener("recipe-type-confirm","uap/builder/core/set-recipe-type",(function(){return t.tour.next()}))}}},{id:"set-title",title:_uo.utility.escHTML(wp.i18n.__("Set a title","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__("Every recipe must have a title. Use something that makes it easy to identify what your recipe does at a glance. For this example, we'll populate the title for you.","uncanny-automator")),attachTo:{element:"#titlewrap #title",on:"bottom"},buttons:[{text:_uo.utility.escHTML(wp.i18n.__("Next","uncanny-automator")),action:this.tour.next,disabled:!0}],when:{show:function(){var e=document.getElementById("title-prompt-text"),n=document.getElementById("title"),i=_uo.utility.escHTML(wp.i18n.__("Send email when a post is published","uncanny-automator"));e.style.display="none",n.value="",setTimeout((function(){_uo.animation.typeWriter(n,i,(function(){UncannyAutomator._core.recipe.setRecipeTitle(i).then((function(e){e.success&&t.tour.getById("set-title").updateStepOptions({buttons:[{text:_uo.utility.escHTML(wp.i18n.__("Next","uncanny-automator")),action:t.tour.next,disabled:!1}]})}))}))}),200)}}},{id:"triggers-all-integrations",title:_uo.utility.escHTML(wp.i18n.__("Integrations","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__("You can find all of the integrations that Automator supports at this link. We're always adding more!","uncanny-automator")),attachTo:{element:"#uap-trigger-all-integrations-link",on:"right"},buttons:[{text:_uo.utility.escHTML(wp.i18n.__("Next","uncanny-automator")),action:this.tour.next}]},{id:"trigger-select-integration",title:_uo.utility.escHTML(wp.i18n.__("Select an integration","uncanny-automator")),text:"<p>".concat(_uo.utility.escHTML(wp.i18n.__("The recipe's triggers specify what will cause the recipe's actions to run.","uncanny-automator")),"</p><p>").concat(_uo.utility.escHTML(wp.i18n.__("Our recipe will use a WordPress trigger. Start by clicking the WordPress integration.","uncanny-automator")),"</p>"),attachTo:{element:'#recipe-triggers-ui .item-integrations .item-integration[data-integration-id="WP"]',on:"right"},when:{show:function(){t.addEventListener("trigger-select-integration","uap/builder/legacy/integration-selected",(function(e){"trigger"===e.detail.itemType&&"WP"===e.detail.integrationCode&&t.tour.next()}))}}},{id:"trigger-select-item",title:_uo.utility.escHTML(wp.i18n.__("Select a trigger","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__('Click "A user publishes a post".',"uncanny-automator")),attachTo:{element:'#recipe-triggers-ui .item-task-selector__option[data-integration-id="WP"][data-item-id="WP_USER_POST_PUBLISHED"]',on:"bottom"},modalOverlayOpeningPadding:0,when:{show:function(){t.addEventListener("trigger-select-item","uap/builder/legacy/item-created",(function(e){"trigger"===e.detail.itemType&&"WP"===e.detail.integrationCode&&"WP_USER_POST_PUBLISHED"===e.detail.itemCode&&(t._triggerID=e.detail.itemID,t.tour.next())}))}}},{id:"trigger-open-select-post-type",title:_uo.utility.escHTML(wp.i18n.__("Set the post type","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__("This trigger allows you to target any post type in WordPress, including custom post types. Click into the Post type drop-down to select a specific post type.","uncanny-automator")),attachTo:{element:'#recipe-triggers-ui .uap-item[data-integration="WP"][data-item="WP_USER_POST_PUBLISHED"] .form-element[data-field-code="WPPOSTTYPES"]',on:"bottom"},when:{show:function(){t.addEventListener("trigger-open-select-post-type","uap/builder/legacy/field/select-opened",(function(e){"WPPOSTTYPES"===e.detail.fieldCode&&setTimeout((function(){return t.tour.next()}),200)}))}}},{id:"trigger-change-select-post-type-value",title:_uo.utility.escHTML(wp.i18n.__("Set the post type","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__('We want this automation to run whenever a new blog post is published, so choose "Post" as the post type.',"uncanny-automator")),attachTo:{element:'.select2-results__options[id^="select2-WPPOSTTYPES"] .select2-results__options .select2-results__option:has(span[data-value="post"])',on:"bottom"},modalOverlayOpeningPadding:0,when:{show:function(){t.addEventListener("trigger-change-select-post-type-value","uap/builder/legacy/field/change",(function(e){"post"===e.detail.value&&t.tour.next()})),t.addEventListener("trigger-change-select-post-type-value","uap/builder/legacy/field/select-closed",(function(e){"post"!==e.detail.value&&t.tour.back()}))}}},{id:"trigger-save-item",title:_uo.utility.escHTML(wp.i18n.__("Save the trigger","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__('Click "Save".',"uncanny-automator")),attachTo:{element:"#recipe-triggers-ui .item-options-button-save",on:"bottom"},modalOverlayOpeningPadding:10,when:{show:function(){t.addEventListener("trigger-save-item","uap/builder/legacy/item-updated",(function(e){"trigger"===e.detail.itemType&&"WP"===e.detail.integrationCode&&"WP_USER_POST_PUBLISHED"===e.detail.itemCode&&t.tour.next()}))}}},{id:"trigger-status",title:_uo.utility.escHTML(wp.i18n.__("Trigger status","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__('A trigger must be in "Live" status to trigger the recipe.',"uncanny-automator")),attachTo:{element:'#recipe-triggers-ui .uap-item[data-integration="WP"][data-item="WP_USER_POST_PUBLISHED"] .uap-item-status',on:"bottom"},when:{show:function(){t.addEventListener("trigger-status","uap/builder/legacy/item-changed-status",(function(e){"trigger"===e.detail.itemType&&"WP"===e.detail.integrationCode&&"WP_USER_POST_PUBLISHED"===e.detail.itemCode&&t.tour.next()}))}}},{id:"action-open-integrations",title:_uo.utility.escHTML(wp.i18n.__("Add an action","uncanny-automator")),text:"<p>".concat(_uo.utility.escHTML(wp.i18n.__("A recipe's actions execute automatically once the recipe's triggers have been completed.","uncanny-automator")),"</p><p>").concat(_uo.utility.escHTML(wp.i18n.__('Click "Add action" to continue.',"uncanny-automator")),"</p>"),attachTo:{element:"#recipe-actions-ui .uap-item-main-initial-action-button",on:"right"},modalOverlayOpeningPadding:10,when:{show:function(){t.addEventListener("action-open-integrations","uap/builder/legacy/item-action-initial-clicked",(function(){return t.tour.next()}))}}},{id:"action-all-integrations",title:_uo.utility.escHTML(wp.i18n.__("Integrations","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__("You can find a list of all supported integrations for recipe actions at this link.","uncanny-automator")),attachTo:{element:"#uap-action-all-integrations-link",on:"right"},buttons:[{text:_uo.utility.escHTML(wp.i18n.__("Next","uncanny-automator")),action:this.tour.next}]},{id:"action-select-integration",title:_uo.utility.escHTML(wp.i18n.__("Select an integration","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__("In this recipe we will send a notification email whenever a new blog post is published, so choose the Emails integration.","uncanny-automator")),attachTo:{element:'#recipe-actions-ui .item-integrations .item-integration[data-integration-id="EMAILS"]',on:"right"},when:{show:function(){t.addEventListener("action-select-integration","uap/builder/legacy/integration-selected",(function(e){"action"===e.detail.itemType&&"EMAILS"===e.detail.integrationCode&&t.tour.next()}))}}},{id:"action-select-action",title:_uo.utility.escHTML(wp.i18n.__("Select an action","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__('Select the "Send an email" action.',"uncanny-automator")),attachTo:{element:'#recipe-actions-ui .item-task-selector__option[data-integration-id="EMAILS"][data-item-id="SENDEMAIL"]',on:"top"},modalOverlayOpeningPadding:0,when:{show:function(){t.addEventListener("action-select-action","uap/builder/legacy/item-created",(function(e){"action"===e.detail.itemType&&"EMAILS"===e.detail.integrationCode&&"SENDEMAIL"===e.detail.itemCode&&t.tour.next()}))}}},{id:"action-email-to-field",title:_uo.utility.escHTML(wp.i18n.__("Set the email recipient","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__("In this field we'll specify who the email should be sent to.","uncanny-automator")),attachTo:{element:'#recipe-actions-ui .uap-item[data-integration="EMAILS"][data-item="SENDEMAIL"] .form-element[data-field-code="EMAILTO"]',on:"bottom"},buttons:[{text:_uo.utility.escHTML(wp.i18n.__("Next","uncanny-automator")),action:this.tour.next}]},{id:"action-email-to-token",title:_uo.utility.escHTML(wp.i18n.__("Set the email recipient","uncanny-automator")),text:"\n\t\t\t\t\t<p>".concat(_uo.utility.escHTML(wp.i18n.__("Let's make sure this email is sent to the administrator of the site. To do this, we'll use a \"token\".","uncanny-automator")),"</p><p>").concat(_uo.utility.escHTML(wp.i18n.__("Tokens allow us to use dynamic data, or variables, in recipe actions. This data might come from information about the trigger, other actions, users, system data, and more. For this example, we want to look up which email address to use dynamically and include it in our recipe, so we'll use the token selector (*) to the right","uncanny-automator")),"</p>\n\t\t\t\t"),attachTo:{element:'#recipe-actions-ui .uap-item[data-integration="EMAILS"][data-item="SENDEMAIL"] .form-element[data-field-code="EMAILTO"] .form-variable__toggle',on:"left"},when:{show:function(){t.addEventListener("action-email-to-token","uap/builder/legacy/field/token-selector/open",(function(e){"EMAILTO"===e.detail.fieldCode&&t.tour.next()}))}}},{id:"action-email-to-token-group",title:_uo.utility.escHTML(wp.i18n.__("Set the email recipient","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__('The user email token is found under "Common" tokens. Click "Common".',"uncanny-automator")),attachTo:{element:'#recipe-actions-ui .uap-item[data-integration="EMAILS"][data-item="SENDEMAIL"] .form-element[data-field-code="EMAILTO"] .form-variable__dropdown .form-variable__group[data-id="COMMON"]',on:"bottom"},modalOverlayOpeningPadding:0,when:{show:function(){t.addEventListener("action-email-to-token-group","uap/builder/legacy/field/token-selector/group/open",(function(e){"COMMON"===e.detail.groupCode&&t.tour.next()})),t.addEventListener("action-email-to-token-group","uap/builder/legacy/field/token-selector/close",(function(){return t.tour.back()}))}}},{id:"action-email-to-token-select-token",title:_uo.utility.escHTML(wp.i18n.__("Set the email recipient","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__('Click "Admin email".',"uncanny-automator")),attachTo:{element:'#recipe-actions-ui .uap-item[data-integration="EMAILS"][data-item="SENDEMAIL"] .form-element[data-field-code="EMAILTO"] .form-variable__dropdown .form-variable__group[data-id="COMMON"] .form-variable__group-item[data-token-id="admin_email"]',on:"bottom"},modalOverlayOpeningPadding:0,when:{show:function(){t.addEventListener("action-email-to-token-select-token","uap/builder/legacy/field/token-selector/token/add",(function(e){"admin_email"===e.detail.tokenCode&&(e.detail.field.setValue("{{admin_email}}"),t.tour.next())})),t.addEventListener("action-email-to-token-select-token","uap/builder/legacy/field/token-selector/close",(function(e){"token-added"!==e.detail.triggeredBy&&t.tour.show("action-email-to-token",!1)}))}}},{id:"action-email-set-subject",title:_uo.utility.escHTML(wp.i18n.__("Set the subject","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__("We'll populate the email subject for you. For this example, we'll use \"A new post is published\", along with the title of the post that was published, which we use a token from the trigger to populate.","uncanny-automator")),attachTo:{element:'#recipe-actions-ui .uap-item[data-integration="EMAILS"][data-item="SENDEMAIL"] .form-element[data-field-code="EMAILSUBJECT"]',on:"bottom"},buttons:[{text:_uo.utility.escHTML(wp.i18n.__("Next","uncanny-automator")),action:this.tour.next}],when:{show:function(){var e=document.querySelector('#recipe-actions-ui .uap-item[data-integration="EMAILS"][data-item="SENDEMAIL"] .form-element[data-field-code="EMAILSUBJECT"] input[name="EMAILSUBJECT"]').fieldInstance,n=_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("A new post was published: %1$s","uncanny-automator")),"{{".concat(t._triggerID,":WP_USER_POST_PUBLISHED:POSTTITLE}}"));e.setValue("".concat(n))}}},{id:"action-email-set-body",title:_uo.utility.escHTML(wp.i18n.__("Set the body","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__("We have pre-populated the email body with some suggested text. Feel free to change it after the tutorial to something that works better for your site.","uncanny-automator")),attachTo:{element:'#recipe-actions-ui .uap-item[data-integration="EMAILS"][data-item="SENDEMAIL"] .form-element[data-field-code="EMAILBODY"]',on:"right"},buttons:[{text:_uo.utility.escHTML(wp.i18n.__("Next","uncanny-automator")),action:this.tour.next}],when:{show:function(){var e=document.querySelector('#recipe-actions-ui .uap-item[data-integration="EMAILS"][data-item="SENDEMAIL"] .form-element[data-field-code="EMAILBODY"] textarea[name="EMAILBODY"]').fieldInstance,n=_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("A blog post titled %1$s was published by %2$s to %3$s.","uncanny-automator")),"{{".concat(t._triggerID,":WP_USER_POST_PUBLISHED:POSTTITLE}}"),"{{user_email}}","{{".concat(t._triggerID,":WP_USER_POST_PUBLISHED:POSTURL}}"));e.setValue("".concat(n)),e.tokenSelector.parsePlainTokensInTinyMCE({parseTokensInAttributes:!1})}}},{id:"action-save-item",title:_uo.utility.escHTML(wp.i18n.__("Save the action.","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__('Click "Save".',"uncanny-automator")),attachTo:{element:"#recipe-actions-ui .item-options-button-save",on:"bottom"},modalOverlayOpeningPadding:10,when:{show:function(){t.addEventListener("action-save-item","uap/builder/legacy/item-updated",(function(e){"action"===e.detail.itemType&&"EMAILS"===e.detail.integrationCode&&"SENDEMAIL"===e.detail.itemCode&&t.tour.next()}))}}},{id:"action-status",title:_uo.utility.escHTML(wp.i18n.__("Action status","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__('An action must be in "Live" status to run.',"uncanny-automator")),attachTo:{element:'#recipe-actions-ui .uap-item[data-integration="EMAILS"][data-item="SENDEMAIL"] .uap-item-status',on:"bottom"},modalOverlayOpeningPadding:10,when:{show:function(){t.addEventListener("action-status","uap/builder/legacy/item-changed-status",(function(e){"action"===e.detail.itemType&&"EMAILS"===e.detail.integrationCode&&"SENDEMAIL"===e.detail.itemCode&&t.tour.next()}))}}},{id:"recipe-status",title:_uo.utility.escHTML(wp.i18n.__("Recipe status","uncanny-automator")),text:_uo.utility.escHTML(wp.i18n.__('The last step is to take your recipe live! Click the "Live/Draft" toggle switch.',"uncanny-automator")),attachTo:{element:"uap-builder-publish",on:"top"},when:{show:function(){t.addEventListener("recipe-status","uap/builder/core/recipe/set-status",(function(e){e.detail.isRecipeOn&&t.tour.next()}))}}},{id:"recipe-created",title:_uo.utility.escHTML(wp.i18n.__("Congratulations!","uncanny-automator")),text:"<p>".concat(_uo.utility.escHTML(wp.i18n.__("Your recipe is now live. Any time you publish a blog post, an email notification will now be sent to the site administrator. You can check the results of this automation from the Automator > Logs page later.","uncanny-automator")),"</p><p>").concat(_uo.utility.escHTML(wp.i18n.__("Now that you know the steps required to create a recipe, try building some of your own!","uncanny-automator")),"</p>"),buttons:[{text:_uo.utility.escHTML(wp.i18n.__("Finish tour","uncanny-automator")),action:this.tour.complete}]}]}}]),n}(function(){function t(){if((0,se.A)(this,t),_uo.utility.isEmpty(this.walkthroughID))throw new Error("Walkthrough ID is missing.");if(_uo.utility.isEmpty(this.tourStartEvents))throw new Error("Tour start events are missing.");UncannyAutomator._core.recipe.walkthrough.shouldShowWalkthrough(this.walkthroughID)&&this.handleTourStart()}var e;return(0,ue.A)(t,[{key:"createTour",value:function(){this.tour=new _uo.utility.walkthrough.Tour({id:this.walkthroughID,useModalOverlay:!0,keyboardNavigation:!1,defaultStepOptions:{classes:"uap uap-shepherd",modalOverlayOpeningPadding:15,modalOverlayOpeningRadius:10,cancelIcon:{enabled:!0},scrollTo:{behavior:"smooth",block:"center"}}}),this.tour.addSteps(this.steps)}},{key:"handleTourStart",value:function(){var t=this;this.tourStartEvents.forEach((function(e){document.addEventListener(e,(function(e){t.startTour()}))}))}},{key:"startTour",value:function(){this.eventHandlers=new Map,this.createTour(),this.tour.start(),this.setWalkthroughProgress(),this.addTourListeners()}},{key:"addTourListeners",value:function(){var t=this;this.tour.on("cancel",this.confirmCloseTour.bind(this)),this.tour.on("complete",this.finishTour.bind(this)),this.tour.on("show",(function(e){t.setWalkthroughProgress(),e.step.once("hide",(function(){t.cleanUpStep(e.step.options.id)}))}))}},{key:"finishTour",value:function(){this.cleanUp(),this.setWalkthroughProgress({closeRequested:!0})}},{key:"setWalkthroughProgress",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{closeRequested:!1}).closeRequested;UncannyAutomator._core.recipe.walkthrough.setWalkthroughProgress(this.walkthroughID,{closeRequested:t,stepID:this.tour.getCurrentStep().id,progressPercentage:this.progressPercentage})}},{key:"confirmCloseTour",value:(e=(0,j.A)(P().mark((function t(e){var n;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.tour.getCurrentStep(),t.prev=1,t.next=4,_uo.utility.confirm({heading:_uo.utility.escHTML(wp.i18n.__("Exit the tutorial","uncanny-automator")),content:_uo.utility.escHTML(wp.i18n.__("Are you sure you want to close the walkthrough?","uncanny-automator")),confirmButtonLabel:_uo.utility.escHTML(wp.i18n._x("Confirm","Verb","uncanny-automator"))});case 4:t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(1),this.tour.show(n.id),t.abrupt("return");case 10:this.setWalkthroughProgress({closeRequested:!0});case 11:case"end":return t.stop()}}),t,this,[[1,6]])}))),function(t){return e.apply(this,arguments)})},{key:"cleanUpStep",value:function(t){var e=this.eventHandlers.get(t);e&&(e.forEach((function(t){t.forEach((function(t){return t()}))})),this.eventHandlers.delete(t))}},{key:"cleanUp",value:function(){this.eventHandlers.forEach((function(t,e){t.forEach((function(t){t.forEach((function(t){return t()}))}))})),this.eventHandlers.clear()}},{key:"addEventListener",value:function(t,e,n){document.addEventListener(e,n),this.eventHandlers.has(t)||this.eventHandlers.set(t,new Map);var i=this.eventHandlers.get(t);i.has(e)||i.set(e,[]),i.get(e).push((function(){document.removeEventListener(e,n)}))}},{key:"walkthroughID",get:function(){return""}},{key:"tourStartEvents",get:function(){return[]}},{key:"steps",get:function(){return[]}},{key:"progressPercentage",get:function(){var t=this.tour.steps,e=this.tour.getCurrentStep(),n=(t.findIndex((function(t){return t.id===e.id}))+1)/t.length*100;return parseInt(n)}}]),t}()));var OE=__webpack_require__(1669),jE=__webpack_require__.n(OE);__webpack_require__(5662);const UE=function(){function t(){(0,se.A)(this,t),this.createMetabox()}return(0,ue.A)(t,[{key:"createMetabox",value:function(){jE()("#uo-automator-publish-metabox").html("\n\t\t\t<uap-builder-publish></uap-builder-publish>\n\t\t")}}]),t}();var PE=__webpack_require__(9845),HE=function(){function t(){(0,se.A)(this,t),this.render()}return(0,ue.A)(t,[{key:"render",value:function(){var t=jE()('\n\t\t\t<div class="uap-report-bug">\n\t\t\t\t<a\n\t\t\t\t\tclass="uap-report-bug__btn"\n\n\t\t\t\t\tuap-tooltip="'.concat(_uo.utility.escHTML(wp.i18n.__("Send feedback","uncanny-automator")),'"\n\t\t\t\t\tuap-tooltip-flow="left"\n\n\t\t\t\t\ttarget="_blank"\n\t\t\t\t\thref="').concat(_uo.utility.addParametersToURL("https://automatorplugin.com/feedback/",this.utmBtnParameters),'"\n\t\t\t\t>\n\t\t\t\t\t<span class="uap-report-bug__icon"></span>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t'));jE()("body").append(t)}},{key:"utmBtnParameters",get:function(){var t,e;return UncannyAutomatorBackend._site.automator.is_pro_active?(t="Uncanny Automator Pro ".concat(UncannyAutomator._site.automator.version),e="uncanny_automator_pro"):(t="Uncanny Automator ".concat(UncannyAutomator._site.automator.version),e="uncanny_automator"),{version:t,utm_source:e,utm_medium:"send_feedback",utm_content:"bulb_icon"}}}]),t}(),FE=(0,ue.A)((function t(){var e=this;(0,se.A)(this,t),document.getElementById("title").addEventListener("input",(function(t){e.hasUnsavedData=!0})),document.getElementById("title").addEventListener("blur",(function(t){e.hasUnsavedData&&UncannyAutomator._core.recipe.setRecipeTitle(t.target.value).then((function(t){e.hasUnsavedData=!1}))}))})),$E=function(){function t(){(0,se.A)(this,t),this.hasMetabox&&this.listenCheckboxes()}return(0,ue.A)(t,[{key:"$container",get:function(){return jE()("#recipe_categorydiv")}},{key:"$allCategoriesList",get:function(){return jE()("#recipe_categorychecklist")}},{key:"hasMetabox",get:function(){return _uo.utility.isDefined(this.$allCategoriesList)}},{key:"listenCheckboxes",value:function(){var t=this;this.$container.on("change",'input[type="checkbox"][name="tax_input[recipe_category][]"], .popular-category input[type="checkbox"]',(function(e){var n=jE()(e.currentTarget);t.saveCategory(n)})),new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){var n=jE()(e).find('input[type="checkbox"][name="tax_input[recipe_category][]"]');t.saveCategory(n)}))}))})).observe(this.$allCategoriesList[0],{childList:!0})}},{key:"saveCategory",value:function(t){var e=this,n={id:t.val(),isChecked:t.is(":checked")};this.setStatus("loading",!0,t),(0,Hs.zA)("set_recipe_terms",{term_id:"recipe_category",recipe_id:UncannyAutomator._recipe.recipe_id,category_id:n.id,set_category:n.isChecked},(function(n){n.success?(e.setStatus("success",!0,t),setTimeout((function(){e.setStatus("success",!1,t)}),2e3)):(UncannyAutomator._site.has_debug_enabled&&console.error("Couldn't change the status of the recipe category"),e.revertCheckboxValue(t),e.setStatus("error",!0,t),setTimeout((function(){e.setStatus("error",!1,t)}))),e.setStatus("loading",!1,t)}),(function(){e.revertCheckboxValue(t),e.setStatus("loading",!1,t),e.setStatus("error",!0,t),setTimeout((function(){e.setStatus("error",!1,t)}))}),{requiresRecipesObject:!1,renderUI:!1})}},{key:"revertCheckboxValue",value:function(t){t.prop("checked",!t.is(":checked"))}},{key:"setStatus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,i=n.closest(".selectit");"loading"==t?e?(i.addClass("uap-taxonomy-loading"),n.prop("disabled",!0)):(i.removeClass("uap-taxonomy-loading"),n.prop("disabled",!1)):"success"==t?e?i.addClass("uap-taxonomy-success"):i.removeClass("uap-taxonomy-success"):"error"==t&&(e?i.addClass("uap-taxonomy-error"):i.removeClass("uap-taxonomy-error"))}}]),t}(),RE=function(){function t(){(0,se.A)(this,t),this.getElements(),1==this.$elements.tagsTextarea.length&&this.listenModificationsToTags()}return(0,ue.A)(t,[{key:"getElements",value:function(){this.$elements={container:jE()("#tagsdiv-recipe_tag"),tagsTextarea:jE()("textarea#tax-input-recipe_tag"),tagsList:jE()("#tagsdiv-recipe_tag .tagchecklist")}}},{key:"listenModificationsToTags",value:function(){var t=this;new MutationObserver((function(e){t.saveTags()})).observe(this.$elements.tagsList[0],{childList:!0})}},{key:"saveTags",value:function(){var t=this,e=this.getTags();this.setStatus("loading",!0),(0,Hs.zA)("set_recipe_terms",{term_id:"recipe_tag",recipe_id:UncannyAutomator._recipe.recipe_id,tags:e},(function(e){e.success?(t.setStatus("success",!0),setTimeout((function(){t.setStatus("success",!1)}),2e3)):(0,Hs.$q)({title:_uo.utility.escHTML(wp.i18n.__("We couldn't save the tags","uncanny-automator")),warning:_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("Automator has encountered an unknown error. Please contact %1$s with a screenshot of your recipe, details about what you were doing and any other information that may help us with the error.","uncanny-automator")),'<a href="'.concat(UncannyAutomator._site.automator.links.contact_support,'" target="_blank">').concat(_uo.utility.escHTML(wp.i18n.__("Automator support","uncanny-automator")),"</a>")),content:"",console:"Data sent:\n ".concat(JSON.stringify(e)),buttons:{confirm:null,cancel:{label:_uo.utility.escHTML(wp.i18n._x("Close","Verb","uncanny-automator")),onClick:function(t){t.destroy()}}}}),t.setStatus("loading",!1)}),(function(t){(0,Hs.$q)({title:_uo.utility.escHTML(wp.i18n.__("We couldn't save the tags","uncanny-automator")),warning:_uo.utility.sprintf(_uo.utility.escHTML(wp.i18n.__("Automator has encountered an unknown error. Please contact %1$s with a screenshot of your recipe, details about what you were doing and any other information that may help us with the error.","uncanny-automator")),'<a href="'.concat(UncannyAutomator._site.automator.links.contact_support,'" target="_blank">').concat(_uo.utility.escHTML(wp.i18n.__("Automator support","uncanny-automator")),"</a>")),content:"",console:"Data sent:\n ".concat(JSON.stringify(t)),buttons:{confirm:null,cancel:{label:_uo.utility.escHTML(wp.i18n._x("Close","Verb","uncanny-automator")),onClick:function(t){t.destroy()}}}})}),{requiresRecipesObject:!1,renderUI:!1})}},{key:"setStatus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"loading"==t?e?this.$elements.container.addClass("uap-tags-loading"):this.$elements.container.removeClass("uap-tags-loading"):"success"==t?e?this.$elements.container.addClass("uap-tags-success"):this.$elements.container.removeClass("uap-tags-success"):"error"==t&&(e?this.$elements.container.addClass("uap-tags-error"):this.$elements.container.removeClass("uap-tags-error"))}},{key:"getTags",value:function(){var t=this.$elements.tagsTextarea.val();return{asArray:t.split(","),commaSeparated:t}}}]),t}(),qE=(0,ue.A)((function t(){(0,se.A)(this,t),new $E,new RE})),VE=function(){function t(){(0,se.A)(this,t);var e=this,n=document.getElementById("uap-notes-metabox__textarea"),i=!1;n.value&&this.resizeTextarea(n),n.addEventListener("input",(function(t){i=!0,e.resizeTextarea(n)})),document.getElementById("uap-notes-metabox__textarea").addEventListener("blur",(function(t){i&&UncannyAutomator._core.recipe.setRecipeNotes(t.target.value).then((function(t){i=!1}))}))}return(0,ue.A)(t,[{key:"resizeTextarea",value:function(t){t.style.height="auto",t.style.height=t.scrollHeight+"px"}}]),t}();UncannyAutomator._cache={tokens:{}};try{(0,Hs.sV)((function(){new PE.A,new WT.A,new UE,new HE,new FE,new qE,new VE}))}catch(t){(0,Hs.$q)({title:_uo.utility.escHTML(wp.i18n.__("The recipe creator could not be loaded","uncanny-automator")),warning:_uo.utility.escHTML(wp.i18n.__("Sorry, something went wrong when loading the recipe interface. Technical details are listed below.","uncanny-automator")),content:_uo.utility.escHTML(wp.i18n.__("Click Learn More for steps you can take to resolve this issue.","uncanny-automator")),console:t})}document.addEventListener("uap-builder-recipe-data-change",(function(t){new PE.A,new WT.A,new UE})),jQuery(document).ready((function(){jQuery(window).off("beforeunload.edit-post",null)}))})()})();
//# sourceMappingURL=bundle.min.js.map