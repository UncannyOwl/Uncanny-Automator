=== Uncanny Automator ===
Contributors: uncannyowl
Tags: automation, automator, woocommerce, learndash, zapier
Requires at least: 5.0
Tested up to: 5.4
Requires PHP: 7.0
Stable tag: 2.1.3
License: GPLv3
License URI: https://www.gnu.org/licenses/gpl-3.0.html

Uncanny Automator connects your WordPress plugins and sites together automatically. Build recipes in minutes that can personalize your site for users and automate routine tasks. No coding or extra plugins are needed!

== Description ==

Uncanny Automator is the easiest way to connect things on your WordPress site together. Widely used and trusted on elearning, membership and ecommerce sites since 2018, Automator is free for the first time to everyone!

Here's how Uncanny Automator works: 

When one thing happens, Automator can make other things happen.

When a user buys a product, add them to a membership level and enroll them in a course. A user passes a pre-test, autocomplete the rest of the course.

It's that simple! Here's a video outlining how it all works.

https://www.youtube.com/watch?v=eoQo1dUDYO4

If you've used Zapier, setting things up will be intuitive. And if not, that's okay too!

= Free doesn't mean limited =

The free version of Automator is incredibly powerful and comes with built-in support for all of these popular WordPress plugins:

- [bbPress](https://automatorplugin.com/integration/bbpress/)
- [BuddyPress](https://automatorplugin.com/integration/buddypress/)
- [Caldera Forms](https://automatorplugin.com/integration/caldera-forms/)
- [Contact Form 7](https://automatorplugin.com/integration/contact-form-7/)
- [Easy Digital Downloads](https://automatorplugin.com/integration/easy-digital-downloads/)
- [Formidable Forms](https://automatorplugin.com/integration/formidable-forms/)
- [GamiPress](https://automatorplugin.com/integration/gamipress/)
- [Gravity Forms](https://automatorplugin.com/integration/gravity-forms/)
- [LearnDash](https://automatorplugin.com/integration/learndash/)
- [LearnPress](https://automatorplugin.com/integration/learnpress/)
- [LifterLMS](https://automatorplugin.com/integration/lifterlms/)
- [MemberPress](https://automatorplugin.com/integration/memberpress/)
- [Ninja Forms](https://automatorplugin.com/integration/ninja-forms/)
- [Popup Maker](https://automatorplugin.com/integration/popup-maker/)
- [The Events Calendar](https://automatorplugin.com/integration/the-events-calendar/)
- [WooCommerce](https://automatorplugin.com/integration/woocommerce/)
- [WP Courseware](https://automatorplugin.com/integration/wp-courseware/)
- [WP LMS](https://automatorplugin.com/integration/wp-lms/)
- [WPForms](https://automatorplugin.com/integration/wp-forms/)

Dozens of triggers and actions are available for the plugins listed above in the free version. There's simple documentation to follow in our [Knowledge Base](https://automatorplugin.com/knowledge-base/), including some quick and straightforward instructional videos. Developers, there's robust documentation and code samples for you too!

Beyond the plugin integrations, this free version of Uncanny Automator also supports common WP triggers and actions:

- User views a page
- User submits a comment
- User views a post (including custom post types)
- User logs in
- Send an email
- Add a role
- Change a role

Uncanny Automator does all of this with a single plugin; there's no need to invite conflicts and performance issues with lots of extra integration plugins!

= Take automation to the next level =

[Uncanny Automator Pro](https://automatorplugin.com/pricing/), our premium plugin, adds even more features and integrations, including the ability to create new users and posts, connect two separate WordPress sites together and connect your site to non-WordPress applications via webhooks.

Besides more than tripling the number of available triggers and actions for your recipes compared to the free version, Automator Pro for WP adds support for these tools:

- [H5P](https://automatorplugin.com/integration/h5p/)
- [WP Fusion](https://automatorplugin.com/integration/wp-fusion/)
- [Zapier](https://automatorplugin.com/integration/zapier/)

Here are some of the other really cool things you can do with Automator Pro:

- Trigger recipes anonymously; fire automations without users needing to sign in. This also means you can turn any form (including forms from free form plugins like Ninja Forms, Contact Form 7, WP Forms, Formidable Forms and more) into registration forms that not only create a new user, but also set them up with course access, group access and more
- Have 2 WordPress sites talk to each other. Sell products on one site while Uncanny Automator creates users and sets up access on another!
- Have external apps trigger recipes and vice versa (without needing Zapier or Integromat!)
- Set up buttons that can trigger any recipe on click
- Set custom usermeta

An Automator Pro license also includes access to our world-class premium support. 

For the full list of triggers and actions, make sure to check out [this list](https://automatorplugin.com/all-triggers-and-actions/).

Here's what other people are saying about Uncanny Automator:

[Automator Your Workflows Like a Pro](https://www.wpexplorer.com/uncanny-automator-review/)
[Uncanny Automator - Zapier for WordPress](https://helpiewp.com/uncanny-automator/)
[It's Like Zapier For Your WordPress Site](https://wplift.com/uncanny-automator-review)
[Automate WordPress Like Zapier (Or With Zapier!)](https://wpmayor.com/uncanny-automator-review-automate-wordpress-like-zapier-or-with-zapier/)
[E-Learning Automation with Uncanny Automator](https://www.learndash.com/e-learning-automation-with-uncanny-automator/)

== Frequently Asked Questions ==

= Where can I find Automator documentation and more info? =

You can learn more about Uncanny Automator on our website at [https://automatorplugin.com/](https://automatorplugin.com/) and our Knowledge Base is here: [https://automatorplugin.com/knowledge-base/](https://automatorplugin.com/knowledge-base/)

= How do I get started with my first recipe? =

Have a look at [https://automatorplugin.com/knowledge-base/creating-a-recipe/](https://automatorplugin.com/knowledge-base/creating-a-recipe/). Don't forget to watch the video there. Hopefully it will be the first recipe of many!

= Is Automator GDPR compliant? =

Out of the box, yes. Keep in mind though that Uncanny Automator can store and use data; tokens are a big part of Automator and depending on how you set up recipes, personal data can be stored. Always make sure you only capture as much information as you need to run recipes and no more. Automator does include a tool to remove records if you receive a request to provide or delete someone's data.

= Is Automator translation friendly? =

Absolutely! The plugin was created with translation in mind and tested with a variety of translation plugins. We will support any translation issues you run into.

= Why is the plugin version so high when it was just released? =

Uncanny Automator was actually launched in September 2018 and has been constantly updated since then with new features and improvements. To make Automator easier for more sites to try, we turned our old "Lite" version into a free plugin!

= How can I request an integration for a plugin? =

The best thing you can do is reach out to the creator of the plugin that you want an integration for.  Let them know you're using Uncanny Automator and that they could greatly extend the capabilities of their plugin by helping us develop an integration for it. As more plugin authors become aware of Uncanny Automator and realize its potential for their users, we'll be able to continue to invest in expanding Uncanny Automator's capabilities! Also, fill out [this form](https://automatorplugin.com/feedback/) on our site to let us know what you're looking for. 

= How can I add an integration for my plugin? =

Check out our developer documentation over at [https://automatorplugin.com/article-categories/developers/](https://automatorplugin.com/article-categories/developers/). Also consider reaching out to our team, maybe we can help or even turn it into an official integration!

= Can I help with development? =

Uncanny Automator is open-source and the repository is open to pull requests at [https://bitbucket.org/uncannyowl/uncanny-automator/](https://bitbucket.org/uncannyowl/uncanny-automator/). We would love your contributions!

= Who is Uncanny Owl? =

We're a Toronto-based WordPress company specializing in elearning solutions for WordPress. We're behind the popular [Uncanny LearnDash Toolkit plugin](https://wordpress.org/plugins/uncanny-learndash-toolkit/) (now used on over 20,000 elearning sites!) and we also have a suite of highly-acclaimed [commercial LearnDash add-ons](https://www.uncannyowl.com/plugins/).

== Screenshots ==
1. Set up your first recipe in 5 minutes
2. Add one or more triggers from dozens of plugins and thousands of apps
3. Identify what starts the recipe, like a purchase or form submission
4. Set conditions and options for the trigger(s)
5. Add one or more actions from any of the available integrations
6. When the triggers are completed, actions run automatically
7. Customize your actions to do exactly what you need
8. Create powerful recipes that just work, all with one plugin

== Changelog ==

= 2.1.3 =
* Fixed: Missing log menu entries

= 2.1.2 =
* Fixed: Automator menu entries were behaving inconsistently
* Fixed: Undefined offset in automator-utilities.php on some older Automator Lite sites

= 2.1.1 =
* Updated: Trigger log now shows "(Reactivate Automator Pro to view)" for Automator Pro triggers when Automator Pro is deactivated
* Fixed: Trigger: WordPress - User logs in now fires reliably

= 2.1 =
* Initial release on WordPress.org
* Added: Email type fields in Ninja Forms, Caldera Forms, WP Forms and Formidable Forms now generate tokens for email type fields in Actions
* Added: Trigger: LearnDash - A Tin Can verb is recorded from a Tin Can module now generates Course, Lesson and Topic tokens
* Added: Global Tokens - Current date, Current time
* Added: Category and Tag support for Recipes
* Added: Support for redirects after some AJAX triggers including LearnDash quiz and H5P triggers
* Added: Support for unlimited triggers per recipe
* Updated: Trigger: LearnDash - Mark a course complete moved from Uncanny Automator Pro to Uncanny Automator
* Updated: Action: WordPress - Send data to webhook moved from Uncanny Automator Pro to Uncanny Automator
* Updated: Action: Zapier - Send data to Zapier moved from Uncanny Automator Pro to Uncanny Automator
* Updated: Action: BuddyPress - Add user to a group moved from Uncanny Automator Pro to Uncanny Automator
* Updated: automator-options.php file refactored into integration-specific helper files (internal)
* Updated: select2 JavaScript library
* Updated: Action fields now support multiple tokens per field
* Updated: Webhook actions now use WordPress HTTP API instead of cURL
* Updated: Most action fields now support the token selector
* Updated: Centralized input sanitization functions
* Updated: Removed EDD licensing code
* Updated: Child posts (triggers, actions, redirects) are now set to draft status when a recipe is moved to the trash
* Fixed: Token processing files no longer loading when not necessary 
* Fixed: Trigger: LearnDash - User completes a topic/User completes a lesson - Course Title token now correctly displays course title
* Fixed: Popup Maker - PHP warning: in_array() expects parameter 2 to be array
* Fixed: Trigger: WordPress - User views a page PHP notice on non-post URLs 
* Fixed: Recipe log database table not created on some sites
* Fixed: Trigger: LearnDash - Some quiz triggers were not firing
* Fixed: Trigger: All form integrations - Tokens for all form fields now appear even if Automator Pro is not activated
* Fixed: Support links on triggers and actions now go to automatorplugin.com knowledge base


= 2.0.3 =
* Updated: EDD updater class
* Updated: WooCommerce - User Purchases a Product trigger now fires more reliably
* Updated: Many triggers now include Post ID as token (for future usage in actions)
* Updated: GamiPress - Award Points action - Now supports tokens
* Fixed: LearnDash - Quiz triggers were not firing on some sites
* Fixed: Recipe/trigger/action log filter placeholder text no longer cut off on Chrome on Mac
* Fixed: SQL syntax error in uncanny_automator\Automator_Input_Parser->parse_vars
* Fixed: Select2 dropdowns with placeholders not working correctly in Firefox
* Fixed: License activation page would show license as not activated even when activated successfully

= 2.0.2 =
Updated - Changed text "Anonymous triggers" to "Anonymous trigger" since Anonymous recipes support only a single trigger
Fixed - Recipe log database table not created on some sites, preventing recipes from firing

= 2.0.1 =
* Updated: Core framework updates to support changes in Pro plugin version 2.0.1

= 2.0 =
* Added: Trigger: WordPress - User views a custom post type
* Added: MemberPress - All registration form fields now available as tokens
* Added: WordPress - User Submits a Comment on a Post - Tokens for author name and author email
* Added: Excluded some actions when doing AJAX requests that caused problems; added filter to include additional actions (automator_post_actions_ignore_list)
* Added: {{USERMETA:KEY}} token allows the use of any usermeta value in an action
* Added: {{reset_pass_link}} token generates a user-specific password reset link
* Updated: Placeholder text in "Times per user" field changed to "Unlimited"
* Updated: Improved performance
* Fixed: LearnPress - User is enrolled in a course trigger now working properly
* Fixed: LearnDash - Quiz Triggers were using incorrect parameter values
* Fixed: Trigger options now loading as expected on Multisite
* Fixed: Fatal error on plugin reactivation if Automator posts are manually deleted from database
* Fixed: Recipe completion count on recipe list page now more accurate

= 1.5.2 =
* Fixed: Removed debugging code and log files

= 1.5.1 =
* Fixed: Popup Maker - Popups not loading on non-Automator triggers

= 1.5 =
* Added: Beta performance setting - Enable performance mode - Reduce the number of queries Automator performs on each page load - Disabled by default
* Added: Beta performance setting - Prevent Automator from initializing multiple times on some pages - Prevents Automator fro loading on AJAX and REST API calls - Enabled by default
* Updated: Improved support for recipes executing correctly when an administrator performs a trigger action on an user (e.g. "User enrolls in a course")
* Updated: WooCommerce - User Purchases a Product trigger - Now hooked to woocommerce_payment_complete action instead of woocommerce_pre_payment_complete action
* Fixed: Bug that prevented child objects from loading in hierarchical dropdowns in triggers and actions

= 1.4.1 =
* Updated: Improved performance
* Updated: Tweaked layout of Edit Recipe page
* Fixed: WooCommerce: User Purchases a Product trigger would not fire on purchase

= 1.4 =
* Added: Action: LearnPress - Mark a lesson complete
* Added: Action: LearnPress - Mark a section complete
* Added: Action: Caldera Forms - User submits a form
* Added: MemberPress Triggers: Added "Any" one-time/recurring subscription product options
* Added: Trigger: LearnDash/Tin Canny - Integration moved to Automator Lite plugin from Automator Pro plugin
* Updated: Trigger: LearnDash/Tin Canny - "Any module" option added
* Fixed: Action: Send An Email - Proper token values now returned for triggers with "Any" option selected
* Fixed: Number of Times token now returns a value

= 1.3 =
* Added: Trigger: LifterLMS - User fails a/any quiz
* Added: Trigger: LifterLMS - User passes a/any quiz
* Added: Trigger: LifterLMS - User attempts a/any quiz
* Added: Trigger: LifterLMS - User completes a/any section
* Added: Action: LifterLMS - Mark a section complete
* Added: Action: LifterLMS - Mark a lesson complete
* Added: Trigger: Formidable Forms - User submits a form
* Updated: Minimized code updated to avoid malware false positive in WordFence
* Updated: All plugin integration files moved to Automator Lite to support third-party/custom triggers/actions for all supported plugins

= 1.2 =
* Added: Action: GamiPress - Award Points
* Added: Action: GamiPress - Award Rank
* Added: Action: GamiPress - Award Achievement
* Added: Trigger: MemberPress - User purchases a/any one-time subscription product
* Added: Trigger: MemberPress - User purchases a/any recurring subscription product
* Updated: Sanitized all incoming $_POST data
* Updated: Moved core i18n support into "i18n" composite class
* Updated: Move core registration functions into "register" composite class
* Updated: Move core data fetch functions into "get" composite class
* Updated: Move core general functions into "utilities" composite class
* Updated: Changed minimized function name to avoid false-positive threat detection in Wordfence
* Known Issue: Trigger: MemberPress - User purchases a/any recurring subscription product will not fire if the user does not pay for the subscription (e.g. uses a 100% off coupon) due to the way the MemberPress action is built

= 1.1 =
* Added: Trigger: WP Forms - User submits a form
* Added: Trigger: Ninja Forms - User submits a form
* Added: Ability for developers to add a button to trigger/action options panels
* Added: Allow configuration priorities to be filtered
* Updated: Changed SPL auto loader to check integration status before loading
* Updated: Add integration filter
* Updated: Feedback icon from bug to lightbulb
* Updated: Instructions for activating a Pro license key

= 1.0 =
* Official Release
* Beta Changelog

= 0.6 =
* Added: New triggers and actions for WP LMS, WP Courseware, LearnDash, Gravity Forms, Zapier, and BuddyPress
* Added: Updates for compatibility with Uncanny Automator Pro
* Added: Ability to dynamically generate tokens in the recipe UI
* Added: Ability to dynamically generate token values from trigger meta
* Added: Deleting a recipe deletes associated triggers, actions and log data
* Updated: Tokens are now inserted at cursor position instead of at the end of the field content
* Updated: Made post-recipe redirects draft by default
* Updated: Recipe is now automatically set to draft if it becomes invalid (no valid or live triggers or actions)
* Updated: Triggers and actions that are removed from the system now show an "item missing" message in the recipe UI
* Fixed: Default value for recipe iterations is now 1
* Fixed: Selects are now clickable after canceling a previous selection
* Fixed: Sorting and searching in logs
* Fixed: Add Media button now works in Send Email action
* Fixed: Pasting text into email body field now registers new content in the field
* Fixed: Bugs in some triggers and actions
* Fixed: Recipe box no longer appears on non-recipe post types
* Fixed: Action log table not created on some hosts

= 0.5 =
* Added: Triggers: User completes a course/lesson (LifterLMS and LearnPress), User is enrolled in a course (LifterLMS), User registers for an event (The Events Calendar + Event Tickets), User purchases a product (WooCommerce and Easy Digital Downloads), User submits a comment on a post
* Added: Enroll user in course (LifterLMS and LearnPress), Remove user from course (LifterLMS)
* Added: Recipe run number column to trigger and action logs
* Added: Cancel button to "Select a Trigger" and "Select an Action" dialogs
* Updated: Course > Lesson > Topic drilldown added to User completes a lesson and User completes a topic triggers (LearnDash)
* Updated: Logs now load via AJAX
* Updated: Current value is pre-selected in dropdown when modifying trigger/action options
* Updated: Existing actions are no longer hidden when adding a new action
* Updated: Send an Email action now supports multiple comma separated emails in all email fields
* Updated: Improved translation support
* Updated: The icon and integration tag next to triggers/actions is no longer clickable
* Updated: Recipe status is now listed as "Completed with errors" in the recipe log if an action encounters an error
* Updated: Plugin now prompts for confirmation when deleting or switching items to draft on live recipes
* Updated: Default recipe iterations is now "1" instead of "unlimited"
* Updated: Refactored UI JS
* Fixed: Trigger and action log would fail to load in some environments
* Fixed: Duplicates in trigger and action logs
* Fixed: Actions in draft status no longer appear in logs
* Fixed: Automator menu sometimes appeared twice in the WordPress admin dashboard
* Fixed: Vertical alignment of column data on recipe list page
* Known Issue: Log sorting and searching is not working
* Known Issue: Default recipe iterations per user is "unlimited" even though it shows "1".  To change this, resave the iteration value
* Known Issue: The Reset Course Progress action deletes quiz attempts for all quizzes in the course, including those attempts that may have been made in other courses (when "Shared Course Steps" is enabled)
* Known Issue: Some actions may report being completed successfully, but may in fact have failed.  This is due to the plugin's function not returning error information on failure
* Known Issue: Deleting a recipe will not delete the associated log entries
* Known Issue: Attempting to leave the page after editing the recipe title will show a warning about unsaved data, even though all data has been saved

= 0.4 =
* Added: Each trigger and action now has its own draft/live switch
* Added: Recipes now have a new Draft/Live switch instead of "Save Draft", "Publish" and "Update" buttons
* Added: Ability to set the number of times a user can complete a recipe (default is unlimited)
* Added: Gravity Forms trigger: User submits a form with a specific value in a specific field
* Added: WooCommerce trigger: User completes an order with an order total greater than, less than or equal to a specific dollar amount
* Added: Ability to add unlimited actions per recipe
* Fixed: Issue with "Auto-draft" posts being created
* Known Issue: The Reset Course Progress action deletes quiz attempts for all quizzes in the course, including those attempts that may have been made in other courses (when "Shared Course Steps" is enabled)
* Known Issue: Some actions may report being completed successfully, but may in fact have failed.  This is due to the plugin's function not returning error information on failure
* Known Issue: Deleting a recipe will not delete the associated log entries
* Known Issue: Attempting to leave the page after editing the recipe title will show a warning about unsaved data, even though all data has been saved

= 0.3 =
* Added: Action: Set User Meta
* Added: Action: Reset Course Progress
* Added: Triggers, Actions and Completed Runs columns on Recipes page
* Added: "Cancel" button in trigger/action option boxes
* Added: Method to sort entries in trigger/action option dropdowns
* Added: Error checking triggers/actions on recipe save
* Added: Token selector UI on TinyMCE fields
* Added: URL validation in redirect field
* Updated: Trigger/action post title is now set to the corresponding trigger/action sentence to assist debugging and logging
* Updated: "Any _____" options moved to top of trigger dropdowns
* Updated: Removed redundant "Select a _______" placeholders from trigger/action option dropdowns
* Updated: Recipes are ignored for logged-out users
* Updated: Default sort order on logs is now most recent first
* Updated: Refactored token and trigger-handling code
* Updated: If a recipe tries to run an action in a plugin integration that is no longer active, an error is logged
* Known Issue: The Reset Course Progress action deletes quiz attempts for all quizzes in the course, including those attempts that may have been made in other courses (when "Shared Course Steps" is enabled)
* Known Issue: Some actions may report being completed successfully, but may in fact have failed.  This is due to the plugin's function not returning error information on failure
* Known Issue: Deleting a recipe will not delete the associated log entries
* Known Issue: Leaving a recipe open on its edit page will create a new Auto Draft post each time WordPress auto-saves the recipe

= 0.2 =
* Added: "Any" options to most LearnDash triggers (e.g. "Any Course", "Any Lesson", etc.)
* Added: WordPress editor to "Send an email" action
* Updated: Administrator users are no longer affected by "Change user role" action
* Updated: If a recipe is created and a plugin that the recipe relies on is deactivated, the triggers and actions for that plugin will not be executed
* Updated: Recipe, Trigger and Action log design and layout
* Updated: Numerous internal framework improvements
* Known Issue: Some actions may report being completed successfully, but may in fact have failed.  This is due to the plugin's function not returning error information on failure
* Known Issue: Deleting a recipe will not delete the associated log entries
* Known Issue: Recipes can be set to published status with invalid selections/data in triggers and actions. These recipes may exhibit unpredictable behaviour

= 0.1 =
* Known Issue: If a recipe is created and then a plugin that the recipe relies on is deactivated, the recipe may exhibit unpredictable behavior
* Known Issue: Some actions may report being completed successfully, but may in fact have failed. This is due to the plugin's function not returning error information on failure
* Known Issue: Deleting a recipe will not delete the associated log entries
* Known Issue: Recipes can be set to published status with invalid selections/data in triggers and actions. These recipes may exhibit unpredictable behavior
* Known Issue: "User views a page" trigger does not work on the WooCommerce shop page